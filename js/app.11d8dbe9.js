(function(e){function t(t){for(var c,a,r=t[0],l=t[1],s=t[2],u=0,d=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(c in l)Object.prototype.hasOwnProperty.call(l,c)&&(e[c]=l[c]);b&&b(t);while(d.length)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],c=!0,a=1;a<n.length;a++){var r=n[a];0!==o[r]&&(c=!1)}c&&(i.splice(t--,1),e=l(l.s=n[0]))}return e}var c={},a={app:0},o={app:0},i=[];function r(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-64a1ed8e":"75ea4807","chunk-a45ca4fe":"bc71cbd5","chunk-b8811c2c":"6108a0f6","chunk-59152ee2":"5e1071f5","chunk-9ccee020":"ba5efddd"}[e]+".js"}function l(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={"chunk-64a1ed8e":1,"chunk-a45ca4fe":1,"chunk-59152ee2":1,"chunk-9ccee020":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var c="css/"+({}[e]||e)+"."+{"chunk-64a1ed8e":"fe967df2","chunk-a45ca4fe":"b9da6891","chunk-b8811c2c":"31d6cfe0","chunk-59152ee2":"ca21ef2b","chunk-9ccee020":"8a6676b3"}[e]+".css",o=l.p+c,i=document.getElementsByTagName("link"),r=0;r<i.length;r++){var s=i[r],u=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(u===c||u===o))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){s=d[r],u=s.getAttribute("data-href");if(u===c||u===o)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var c=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=c,delete a[e],b.parentNode.removeChild(b),n(i)},b.href=o;var v=document.getElementsByTagName("head")[0];v.appendChild(b)})).then((function(){a[e]=0})));var c=o[e];if(0!==c)if(c)t.push(c[2]);else{var i=new Promise((function(t,n){c=o[e]=[t,n]}));t.push(c[2]=i);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=r(e);var d=new Error;s=function(t){u.onerror=u.onload=null,clearTimeout(b);var n=o[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+c+": "+a+")",d.name="ChunkLoadError",d.type=c,d.request=a,n[1](d)}o[e]=void 0}};var b=setTimeout((function(){s({type:"timeout",target:u})}),12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=c,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)l.d(n,c,function(t){return e[t]}.bind(null,c));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var b=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0214":function(e,t,n){},"0238":function(e,t,n){},"02bc":function(e,t,n){"use strict";n.r(t);n("a4d3"),n("e01a");var c=n("7a23");Object(c["P"])("data-v-73b4cade");var a={class:"empty-container"},o=["src"],i={key:1,src:"/img/empty_comment.png"},r={key:2,src:"/img/empty_content.png"},l={key:3,src:"/img/empty_notfound.png"},s={key:0,class:"empty-description"};function u(e,t,n,u,d,b){return Object(c["M"])(),Object(c["m"])("div",a,[Object(c["n"])("div",{class:"empty-image",style:Object(c["C"])(n.imageSize&&"width:".concat(n.imageSize))},[n.image?(Object(c["M"])(),Object(c["m"])("img",{key:0,src:n.image},null,8,o)):"comment"===n.type?(Object(c["M"])(),Object(c["m"])("img",i)):"content"===n.type?(Object(c["M"])(),Object(c["m"])("img",r)):"notfound"===n.type?(Object(c["M"])(),Object(c["m"])("img",l)):Object(c["l"])("",!0)],4),n.description?(Object(c["M"])(),Object(c["m"])("div",s,[Object(c["n"])("p",null,Object(c["Z"])(n.description),1)])):Object(c["l"])("",!0),Object(c["U"])(e.$slots,"default",{},void 0,!0)])}Object(c["N"])();n("a9e3");var d={props:{type:{type:String,default:"comment"},image:String,imageSize:[String,Number],description:String}};n("10c5");d.render=u,d.__scopeId="data-v-73b4cade";t["default"]=d},"02c0":function(e,t,n){},"042b":function(e,t,n){"use strict";n("3bb5")},"050e":function(e,t,n){"use strict";n("4353")},"0613":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return j}));var c={};n.r(c),n.d(c,"USER_LOGIN",(function(){return o})),n.d(c,"USER_LOGOUT",(function(){return i})),n.d(c,"USER_UPDATE",(function(){return r})),n.d(c,"SEARCH_LOGS",(function(){return l})),n.d(c,"DELETE_SEARCH_LOGS",(function(){return s}));var a=n("5502"),o="USER_LOGIN",i="USER_LOGOUT",r="USER_UPDATE",l="SEARCH_LOGS",s="DELETE_SEARCH_LOGS",u=n("ade3"),d=n("d4ec"),b=n("bee2"),v=window.location.host;function O(e){return v+"-"+e}var m,j=function(){function e(){Object(d["a"])(this,e)}return Object(b["a"])(e,null,[{key:"setItem",value:function(e,t,n){var c=O(e),a={value:t,maxAge:n,timestamp:Date.now()};localStorage.setItem(c,JSON.stringify(a))}},{key:"getItem",value:function(e){var t=O(e),n=localStorage.getItem(t);try{n=JSON.parse(n)}catch(c){}if(n&&n.value)return n.maxAge&&Date.now()-n.timestamp>1e3*n.maxAge?(localStorage.removeItem(e),null):n.value}},{key:"removeItem",value:function(e){var t=O(e);localStorage.removeItem(t)}},{key:"clear",value:function(){}}]),e}(),p={state:{user:{}},getters:{logged:function(e){return e.user.id},token:function(e){return e.user.token}},mutations:(m={},Object(u["a"])(m,o,(function(e,t){console.log(o,null===t||void 0===t?void 0:t.id),e.user=t})),Object(u["a"])(m,i,(function(e){console.log(i),e.user={},j.removeItem("user")})),Object(u["a"])(m,r,(function(e,t){console.log(r,t),e.user=Object.assign({},e.user,t),j.setItem("user",e.user)})),m)},f={state:{},getters:{},mutations:{}},g=Object(a["a"])({state:{},mutations:{},actions:{},modules:{user:p,app:f}});t["c"]=g},"06e8":function(e,t,n){},"0aba":function(e,t,n){},"0d27":function(e,t,n){"use strict";n("a15b");function c(e){var t=0,n=0,c=parseInt(e,10);c>60&&(t=parseInt(String(e/3600),10),n=parseInt(String(e%3600/60),10),c=parseInt(String(e%60),10));var a=function(e){return e>>0<10?"0"+e:e},o=[a(t),a(n),a(c)];return t>0&&o.unshift(a(t)),o.join(":")}function a(e){var t=new Date(e),n=t.getHours(),c=t.getMinutes(),a=t.getSeconds();return 3600*n+60*c+a}function o(e,t){var n=new Date(e).toLocaleDateString(),c=new Date(t).toLocaleDateString();return e&&n!==c?n:""}function i(e){return e<100?e:e>99&&e<1e3?"99+":e>999&&e<1e4?"999+":"1w+"}t["a"]={format:c,toSecond:a,transNumber:i,messageDateStr:o}},"0e15":function(e,t,n){"use strict";n("9929")},1097:function(e,t,n){"use strict";n("4f61")},"10c5":function(e,t,n){"use strict";n("2ef1")},1340:function(e,t,n){"use strict";n("4614")},"14ac":function(e,t,n){"use strict";n("b0c0");var c=n("7a23");Object(c["P"])("data-v-91b72634");var a={id:"search-bar"},o={key:0,class:"logs-title"},i=Object(c["p"])(" 搜索历史"),r=["onClick"],l=["onClick"],s=["onClick"],u=Object(c["n"])("div",{class:"input-icon"},[Object(c["n"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},[Object(c["n"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.875 1.5a6.375 6.375 0 103.642 11.608l3.063 3.063a1.125 1.125 0 001.59-1.591l-3.062-3.063A6.375 6.375 0 007.875 1.5zM3.75 7.875a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0z"})])],-1),d=["disabled"],b=Object(c["n"])("span",{class:"btn-title"},"搜索",-1),v=[b];function O(e,t,n,b,O,m){var j=Object(c["V"])("el-autocomplete");return Object(c["M"])(),Object(c["m"])("div",a,[Object(c["q"])(j,{clearable:"",class:"search-input",modelValue:e.keyword,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.keyword=t}),"fetch-suggestions":e.querySearch,placeholder:"".concat(e.keyword||"搜索你想看 de 视频"),onKeyup:Object(c["mb"])(e.onSearch,["enter"]),onFocus:t[3]||(t[3]=function(t){return e.changeStyle("block",".el-autocomplete-suggestion")})},{default:Object(c["kb"])((function(n){var a=n.item;return[e.keyword||0!==e.searchLogs.indexOf(a)?Object(c["l"])("",!0):(Object(c["M"])(),Object(c["m"])("div",o,[i,Object(c["n"])("span",{class:"close",onClick:t[0]||(t[0]=function(){return e.deleteSearchLogs&&e.deleteSearchLogs.apply(e,arguments)})},"清除全部")])),e.keyword?(Object(c["M"])(),Object(c["m"])("div",{key:2,class:"recommend-item",onClick:function(t){return e.onSearch({q:a.name})}},Object(c["Z"])(a.name),9,s)):(Object(c["M"])(),Object(c["m"])("div",{key:1,class:"history-item",onClick:function(t){return e.onSearch({q:a})}},[Object(c["p"])(Object(c["Z"])(a)+" ",1),Object(c["n"])("i",{class:"el-icon-close close",onClick:Object(c["nb"])((function(t){return e.deleteSearchLogs(a)}),["stop"])},null,8,l)],8,r))]})),prefix:Object(c["kb"])((function(){return[u]})),append:Object(c["kb"])((function(){return[Object(c["n"])("button",{class:Object(c["A"])(["input-button",e.keyword&&"active"]),disabled:!e.keyword,onClick:t[1]||(t[1]=function(){return e.onSearch&&e.onSearch.apply(e,arguments)})},v,10,d)]})),_:1},8,["modelValue","fetch-suggestions","placeholder","onKeyup"])])}Object(c["N"])();var m=n("3835"),j=n("1da1"),p=n("2909"),f=(n("96cf"),n("a434"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("99af"),n("fb6a"),n("6c02")),g=n("f685"),h=n("d257"),y=n("0613"),w=n("a684"),k=Object(c["r"])({setup:function(e){var t,n=Object(f["d"])(),a=Object(f["c"])(),o=Object(g["b"])().client,i=Object(c["R"])(null===(t=a.query)||void 0===t?void 0:t.keyword),r=Object(c["R"])(y["a"].getItem("searchLogs")||[]),l=Object(c["R"])(),s=function(e){var t=r.value.indexOf(e);t>=0?r.value.splice(t,1):r.value=[],y["a"].setItem("searchLogs",r.value)},u=function(e){var t=new Set([e].concat(Object(p["a"])(r.value)));r.value=Object(p["a"])(t).slice(0,10),y["a"].setItem("searchLogs",r.value)},d=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t?b(t):r.value;case 2:c=e.sent,l.value=c,n(c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n,c,a,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(h["b"])((function(){return o.query({query:w["I"],variables:{keyword:t}})}));case 2:return a=e.sent,i=Object(m["a"])(a,2),i[0],r=i[1],e.abrupt("return",(null===r||void 0===r||null===(n=r.data)||void 0===n||null===(c=n.searchMovies)||void 0===c?void 0:c.data)||[]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e,t){var n=document.querySelectorAll(t);n[0].style.display=e},O=function(e){var t=e.q,c=t||i.value||"";c&&(u(c),i.value=c,n.push({path:"/search",query:{keyword:c}}),v("none",".el-autocomplete-suggestion"),window.pwaEventTrack("搜索",c))};return Object(c["I"])((function(){var e;i.value=(null===(e=a.query)||void 0===e?void 0:e.keyword)||""})),{keyword:i,querySearch:d,searchLogs:r,searchResult:l,onSearch:O,changeStyle:v,deleteSearchLogs:s}}});n("8b21"),n("2ba9");k.render=O,k.__scopeId="data-v-91b72634";t["a"]=k},"169b":function(e,t,n){"use strict";n("d472")},"1ad0":function(e,t,n){"use strict";n("b0c0");var c=n("7a23");Object(c["P"])("data-v-44c3c2f2");var a=["href"],o={class:"cover-img"},i=["src"],r={class:"item-info"},l=["href","title"],s={class:"info-meta"},u={class:"meta-text text-ellipsis"},d={key:0,class:"meta-text text-ellipsis"},b={key:1,class:"meta-text text-ellipsis"},v={key:2,class:"meta-text text-ellipsis"};function O(e,t,n,O,m,j){var p;return Object(c["M"])(),Object(c["m"])("div",{class:Object(c["A"])(["ht-item",n.mini&&"mini"])},[Object(c["n"])("a",{href:"/movie/".concat(n.movie.id),class:"movie-cover"},[Object(c["n"])("div",o,[Object(c["n"])("img",{src:n.movie.cover,alt:""},null,8,i)])],8,a),Object(c["n"])("div",r,[Object(c["n"])("a",{href:"/movie/".concat(n.movie.id),class:Object(c["A"])(["info-title",n.mini?"text-ellipsis":"webkit-text-ellipsis"]),title:n.movie.name},Object(c["Z"])(n.movie.name||n.movie.introduction),11,l),Object(c["n"])("div",s,[Object(c["n"])("div",u,Object(c["Z"])((null===(p=n.movie)||void 0===p?void 0:p.count_series)>1?"观看至 第"+(n.movie.last_watch_series+1)+"集 "+j.progress:"观看至 "+j.progress),1),n.timeAgo?(Object(c["M"])(),Object(c["m"])("div",d,Object(c["Z"])(n.timeAgo),1)):n.movie.actors?(Object(c["M"])(),Object(c["m"])("div",b,Object(c["Z"])("主演："+n.movie.actors),1)):n.movie.producer?(Object(c["M"])(),Object(c["m"])("div",v,Object(c["Z"])("导演："+n.movie.producer),1)):Object(c["l"])("",!0)])])],2)}Object(c["N"])();var m=n("0d27"),j={props:{movie:{type:Object},timeAgo:{type:String},mini:{type:Boolean}},setup:function(e){},computed:{progress:function(){var e,t;return m["a"].format(parseInt(null!==(e=null===(t=this.movie)||void 0===t?void 0:t.last_watch_progress)&&void 0!==e?e:0))}}};n("1b4e");j.render=O,j.__scopeId="data-v-44c3c2f2";t["a"]=j},"1aed":function(e,t,n){"use strict";n("8a19")},"1b4e":function(e,t,n){"use strict";n("cef7")},"1b9f":function(e,t,n){},"1bd3":function(e,t,n){},"1c97":function(e,t,n){"use strict";var c=n("7a23");Object(c["P"])("data-v-51c3e259");var a={id:"dplayer"};function o(e,t,n,o,i,r){return Object(c["M"])(),Object(c["m"])("div",a)}Object(c["N"])();n("caad"),n("2532");var i=n("f7a5"),r=n.n(i),l=n("0d27"),s={props:["source","progress","timeLimits"],mounted:function(){this.playerConstructor(),this.playerEventListener(),this.timeoutCountdown()},beforeDestroy:function(){this.player&&this.player.destroy()},watch:{source:function(e,t){this.player&&(this.player.switchVideo({url:e.url,type:"auto"}),this.player.play(),this.timeoutCountdown())}},methods:{playerConstructor:function(){var e={container:document.getElementById("dplayer"),preload:!1,autoplay:!0,screenshot:!0,video:{url:this.source.url,type:"auto"}};this.player=new r.a(e)},playerEventListener:function(){var e=this;this.player.on("loadeddata",(function(){e.timer&&clearTimeout(e.timer);l["a"].format(e.player.video.duration);e.restoreProgress&&e.progress>0&&(e.restoreProgress=!1,e.player.seek(e.progress))})),this.player.on("ended",(function(){e.$emit("playEnded")})),this.player.on("error",(function(){e.$emit("onError")})),this.player.on("seeking",(function(){})),this.player.on("progress",(function(){var t=parseInt(e.player.video.currentTime);t&&e.$emit("onProgress",t),e.timeLimits>0&&e.timeLimits<t&&(e.player.pause(),e.$emit("onTimeLimits"))})),this.player.on("fullscreen",(function(){screen.orientation.type.includes("portrait")&&screen.orientation.lock("landscape-primary").then((function(e){})).catch((function(e){}))}))},timeoutCountdown:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){var t;null===(t=e.player)||void 0===t||t.notice("视频加载太慢？请尝试切换线路或提交反馈",5e3)}),1e4)}},data:function(){return{restoreProgress:!0}}};n("ac4c");s.render=o,s.__scopeId="data-v-51c3e259";t["a"]=s},"1f0c":function(e,t,n){},"1ff6":function(e,t,n){},"20ac":function(e,t,n){"use strict";var c=n("7a23");Object(c["P"])("data-v-48caa0e7");var a=Object(c["p"])(" 游客免密登录 "),o=Object(c["n"])("div",{class:"form-separator"},[Object(c["n"])("p",null," 或者 ")],-1),i=Object(c["p"])(" +86 "),r=Object(c["p"])(" 登录 ");function l(e,t,n,l,s,u){var d=Object(c["V"])("el-button"),b=Object(c["V"])("el-form-item"),v=Object(c["V"])("el-input"),O=Object(c["V"])("el-form"),m=Object(c["W"])("loading");return Object(c["lb"])((Object(c["M"])(),Object(c["k"])(O,{ref:"loginForm",model:e.formData,rules:e.rules,class:"signIn-container"},{default:Object(c["kb"])((function(){return[Object(c["q"])(b,{class:"form-group"},{default:Object(c["kb"])((function(){return[Object(c["q"])(d,{type:"primary",onClick:e.handleAutoSignIn,class:"main-button visitor"},{default:Object(c["kb"])((function(){return[a]})),_:1},8,["onClick"])]})),_:1}),o,Object(c["q"])(b,{class:"form-group",label:"手机号",prop:"account"},{default:Object(c["kb"])((function(){return[Object(c["q"])(v,{class:"account-input",name:"formData-account",placeholder:"请输入手机号",modelValue:e.formData.account,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formData.account=t}),maxlength:"11",autocomplete:"",clearable:""},{prefix:Object(c["kb"])((function(){return[i]})),_:1},8,["modelValue"])]})),_:1}),Object(c["q"])(b,{class:"form-group",label:"密 码",prop:"password"},{default:Object(c["kb"])((function(){return[Object(c["q"])(v,{placeholder:"请输入密码",modelValue:e.formData.password,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.password=t}),maxlength:"12","show-password":""},null,8,["modelValue"])]})),_:1}),Object(c["q"])(b,{class:"form-group"},{default:Object(c["kb"])((function(){return[Object(c["q"])(d,{type:"primary",onClick:e.handleSignIn,class:"main-button account"},{default:Object(c["kb"])((function(){return[r]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model","rules"])),[[m,e.loading,void 0,{fullscreen:!0,lock:!0}]])}Object(c["N"])();var s=n("3835"),u=n("1da1"),d=(n("96cf"),n("f685")),b=n("4995"),v=n("a5bb"),O=n("d257"),m=n("0613"),j=n("a684"),p=Object(c["r"])({setup:function(e,t){var n=Object(c["R"])(""),a=Object(c["R"])(!1),o=Object(c["R"])({account:"",password:""});Object(c["I"])((function(){var e=v["a"].load();Object(u["a"])(regeneratorRuntime.mark((function t(){var c,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return c=t.sent,t.next=5,c.get();case 5:a=t.sent,n.value=a.visitorId;case 7:case"end":return t.stop()}}),t)})))()}));var i=Object(d["c"])(j["L"],(function(){return{variables:o.value}})),r=i.mutate,l=Object(d["c"])(j["c"],(function(){return{variables:{uuid:n.value}}})),p=l.mutate;function f(e){b["a"].error("登录出错：".concat(Object(O["a"])(e)))}function g(e){t.emit("onSuccess"),Object(b["a"])({message:"登录成功!",type:"success"}),m["c"].commit(m["b"].USER_LOGIN,e),m["a"].setItem("user",e)}function h(){return y.apply(this,arguments)}function y(){return y=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.value=!0,e.next=3,Object(O["b"])((function(){return r()}));case 3:t=e.sent,n=Object(s["a"])(t,2),c=n[0],o=n[1],a.value=!1,c?f(c):null!==o&&void 0!==o&&o.data.signIn&&g(null===o||void 0===o?void 0:o.data.signIn),window.pwaEventTrack("手机登录",c?"失败":"成功");case 10:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function w(){return k.apply(this,arguments)}function k(){return k=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.value=!0,e.next=3,Object(O["b"])((function(){return p()}));case 3:t=e.sent,n=Object(s["a"])(t,2),c=n[0],o=n[1],a.value=!1,c?f(c):null!==o&&void 0!==o&&o.data.autoSignIn&&g(null===o||void 0===o?void 0:o.data.autoSignIn),window.pwaEventTrack("免密登录",c?"失败":"成功");case 10:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}return{uuid:n,loading:a,formData:o,signInMutation:h,autoSignInMutation:w}},computed:{disabled:function(){return!this.formData.account||!this.formData.password}},methods:{handleSignIn:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;e.signInMutation()}))},handleAutoSignIn:function(){this.uuid?this.autoSignInMutation():Object(b["a"])({message:"无法获取设备ID，请用账号登录",type:"warning"})}},data:function(){return{rules:{account:[{required:!0,message:"请输入手机号",trigger:"blur"},{min:11,message:"手机号长度不正确",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:12,message:"密码格式不正确（6-12）位",trigger:"blur"}]}}}});n("74a6"),n("042b");p.render=l,p.__scopeId="data-v-48caa0e7";t["a"]=p},2320:function(e,t,n){},2467:function(e,t,n){},"283b":function(e,t,n){"use strict";n("8c36")},"28b6":function(e,t,n){"use strict";var c=n("7a23");Object(c["P"])("data-v-089c10e8");var a={key:0,class:"mod-list"},o={class:"mod-list","infinite-scroll-disabled":"disabled"};function i(e,t,n,i,r,l){var s,u=Object(c["V"])("Skeleton"),d=Object(c["V"])("VideoItem"),b=Object(c["V"])("router-link"),v=Object(c["V"])("LoadingSpinner"),O=Object(c["V"])("Empty"),m=Object(c["W"])("infinite-scroll");return i.loading?(Object(c["M"])(),Object(c["m"])("div",a,[(Object(c["M"])(),Object(c["m"])(c["b"],null,Object(c["T"])(12,(function(e){return Object(c["n"])("div",{class:"list-item",key:e},[Object(c["q"])(u,{type:"video"})])})),64))])):(null===(s=i.userPosts)||void 0===s?void 0:s.length)>0?(Object(c["M"])(),Object(c["m"])(c["b"],{key:1},[Object(c["lb"])(Object(c["n"])("div",o,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(i.userPosts,(function(e){return Object(c["M"])(),Object(c["k"])(b,{key:"history"+e.id,class:"list-item",to:"/video/".concat(null===e||void 0===e?void 0:e.id)},{default:Object(c["kb"])((function(){return[Object(c["q"])(d,{video:e},null,8,["video"])]})),_:2},1032,["to"])})),128))],512),[[m,i.loadMore]]),i.hasMorePages?(Object(c["M"])(),Object(c["k"])(v,{key:0})):Object(c["l"])("",!0)],64)):(Object(c["M"])(),Object(c["k"])(O,{key:2,type:"content",description:"暂无内容"}))}Object(c["N"])();var r=n("f685"),l=n("a684"),s=n("d257"),u=n("5fdc"),d=n("2d5b"),b=n("d76c"),v=n("02bc"),O={components:{VideoItem:u["a"],Skeleton:d["a"],LoadingSpinner:b["a"],Empty:v["default"]},props:["userId"],setup:function(e){var t=Object(c["cb"])(e),n=t.userId,a=Object(c["R"])({user_id:n.value,page:1,first:20}),o=(Object(c["R"])(window.screen.width>=576?2:1),Object(r["d"])(l["U"],a)),i=o.result,u=o.loading,d=o.error,b=o.fetchMore,v=Object(r["e"])(i,[],(function(e){var t;return null===e||void 0===e||null===(t=e.userPosts)||void 0===t?void 0:t.data})),O=Object(r["e"])(i,{},(function(e){var t;return null===e||void 0===e||null===(t=e.userPosts)||void 0===t?void 0:t.paginatorInfo})),m=Object(c["R"])(1),j=Object(c["R"])(!0);Object(c["ib"])(O,(function(e,t){m.value=null===e||void 0===e?void 0:e.currentPage,j.value=null===e||void 0===e?void 0:e.hasMorePages}));var p=Object(c["R"])(!1),f=Object(c["i"])((function(){return u.value||p.value||!j.value}));function g(){j.value&&!p.value&&(p.value=!0,b({variables:{page:m.value+1},updateQuery:function(e,t){var n=t.fetchMoreResult;return p.value=!1,n?Object(s["c"])(e,n):e}}))}return{loading:u,error:d,disabled:f,loadMore:g,hasMorePages:j,userPosts:v}}};n("7124");O.render=i,O.__scopeId="data-v-089c10e8";t["a"]=O},"2ba9":function(e,t,n){"use strict";n("dd87")},"2d5b":function(e,t,n){"use strict";var c=n("7a23");Object(c["P"])("data-v-461d69f8");var a={key:0,class:"grid-items"},o={class:"movie-item"},i={class:"thumbnail"},r={class:"responsive-item"},l={key:1,class:"flow-items"},s={class:"video-item"},u={class:"thumbnail"},d={class:"responsive-item"},b={class:"content"},v={class:"flex-row"},O={class:"flex-row"},m={key:2,class:"recommend-movies"},j={class:"recommend-movie-item"},p={class:"item-cover"},f={class:"item-info"},g={key:3,class:"searched-movies"},h={class:"searched-movie-item"},y={class:"item-cover"},w={class:"item-info"},k={key:4,class:"comment-list"},M={class:"comment-item"},_={class:"body"},I={key:5},P={class:"recommend-movie-item"},C={class:"item-cover"},$={class:"item-info"},S={key:6},x={class:"video-item"},q={class:"thumbnail"},V={class:"responsive-item"},R={class:"content"},E={class:"flex-row"},L={class:"flex-row"};function A(e,t,n,A,T,N){var F=Object(c["V"])("el-skeleton-item"),D=Object(c["V"])("el-skeleton");return"movies"===n.type?(Object(c["M"])(),Object(c["m"])("ul",a,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(A.moviesColumn*n.row,(function(e){return Object(c["M"])(),Object(c["m"])("li",{class:"item-wrap",key:e},[Object(c["q"])(D,{animated:""},{template:Object(c["kb"])((function(){return[Object(c["n"])("div",o,[Object(c["n"])("div",i,[Object(c["n"])("div",r,[Object(c["q"])(F,{variant:"image",class:"cover"})])]),Object(c["q"])(F,{variant:"p",class:"title"}),Object(c["q"])(F,{variant:"text",class:"mate"})])]})),_:1})])})),128))])):"videos"===n.type?(Object(c["M"])(),Object(c["m"])("ul",l,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(A.videosColumn*n.row,(function(e){return Object(c["M"])(),Object(c["m"])("li",{class:"item-wrap",key:e},[Object(c["q"])(D,{animated:""},{template:Object(c["kb"])((function(){return[Object(c["n"])("div",s,[Object(c["n"])("div",u,[Object(c["n"])("div",d,[Object(c["q"])(F,{variant:"image",class:"cover"})])]),Object(c["n"])("div",b,[Object(c["q"])(F,{variant:"p",class:"desc"}),Object(c["q"])(F,{variant:"p",class:"desc",style:{width:"60%"}})]),Object(c["n"])("div",v,[Object(c["n"])("div",O,[Object(c["q"])(F,{variant:"circle",class:"avatar"}),Object(c["q"])(F,{variant:"text",class:"mate"})])])])]})),_:1})])})),128))])):"recommend-movies"===n.type?(Object(c["M"])(),Object(c["m"])("ul",m,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(n.count,(function(e){return Object(c["M"])(),Object(c["m"])("li",{style:Object(c["C"])("width:".concat(n.column?100/n.column:100,"%;padding: 0 calc(var(--list-item-margin) / 2);")),key:e},[Object(c["q"])(D,{animated:""},{template:Object(c["kb"])((function(){return[Object(c["n"])("div",j,[Object(c["n"])("div",p,[Object(c["q"])(F,{variant:"caption",class:"cover"})]),Object(c["n"])("div",f,[Object(c["q"])(F,{variant:"p",class:"title"}),Object(c["n"])("div",null,[Object(c["q"])(F,{variant:"text",class:"mate"}),Object(c["q"])(F,{variant:"text",class:"mate"})])])])]})),_:1})],4)})),128))])):"searched-movies"===n.type?(Object(c["M"])(),Object(c["m"])("ul",g,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(n.count,(function(e){return Object(c["M"])(),Object(c["m"])("li",{key:e},[Object(c["q"])(D,{animated:""},{template:Object(c["kb"])((function(){return[Object(c["n"])("div",h,[Object(c["n"])("div",y,[Object(c["q"])(F,{variant:"caption",class:"cover"})]),Object(c["n"])("div",w,[Object(c["n"])("div",null,[Object(c["q"])(F,{variant:"p",class:"title"}),Object(c["q"])(F,{variant:"text",class:"mate"}),Object(c["q"])(F,{variant:"text",class:"mate hide-lg"})]),Object(c["q"])(F,{variant:"p",class:"mate",style:{width:"40%"}})])])]})),_:1})])})),128))])):"comments"===n.type?(Object(c["M"])(),Object(c["m"])("ul",k,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(n.count,(function(e){return Object(c["M"])(),Object(c["m"])("li",{key:e},[Object(c["q"])(D,{animated:""},{template:Object(c["kb"])((function(){return[Object(c["n"])("div",M,[Object(c["q"])(F,{variant:"circle",class:"avatar"}),Object(c["n"])("div",_,[Object(c["q"])(F,{variant:"p",class:"title"}),Object(c["q"])(F,{variant:"text",class:"mate"})])])]})),_:1})])})),128))])):"media"===n.type?(Object(c["M"])(),Object(c["m"])("div",I,[Object(c["q"])(D,{animated:""},{template:Object(c["kb"])((function(){return[Object(c["n"])("div",P,[Object(c["n"])("div",C,[Object(c["q"])(F,{variant:"caption",class:"cover"})]),Object(c["n"])("div",$,[Object(c["q"])(F,{variant:"p",class:"title"}),Object(c["n"])("div",null,[Object(c["q"])(F,{variant:"text",class:"mate"}),Object(c["q"])(F,{variant:"text",class:"mate"})])])])]})),_:1})])):"video"===n.type?(Object(c["M"])(),Object(c["m"])("div",S,[Object(c["q"])(D,{animated:""},{template:Object(c["kb"])((function(){return[Object(c["n"])("div",x,[Object(c["n"])("div",q,[Object(c["n"])("div",V,[Object(c["q"])(F,{variant:"image",class:"cover"})])]),Object(c["n"])("div",R,[Object(c["q"])(F,{variant:"p",class:"desc"}),Object(c["q"])(F,{variant:"p",class:"desc",style:{width:"60%"}})]),Object(c["n"])("div",E,[Object(c["n"])("div",L,[Object(c["q"])(F,{variant:"circle",class:"avatar"}),Object(c["q"])(F,{variant:"text",class:"mate"})])])])]})),_:1})])):Object(c["l"])("",!0)}Object(c["N"])();n("a9e3");var T=n("9bb3"),N={props:{type:String,count:{type:Number,default:function(){return 5}},row:{type:Number,default:function(){return 5}},column:{type:Number,default:function(){return 1}}},setup:function(e){var t=Object(T["a"])("--column-video-items-per-row"),n=Object(T["a"])("--column-movie-items-per-row");return{videosColumn:t,moviesColumn:n}}};n("e523");N.render=A,N.__scopeId="data-v-461d69f8";t["a"]=N},"2de2":function(e,t,n){"use strict";n.d(t,"k",(function(){return l})),n.d(t,"i",(function(){return s})),n.d(t,"q",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return O})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"l",(function(){return g})),n.d(t,"j",(function(){return h})),n.d(t,"c",(function(){return y})),n.d(t,"p",(function(){return w})),n.d(t,"e",(function(){return k})),n.d(t,"o",(function(){return M})),n.d(t,"n",(function(){return _}));n("ac1f"),n("466d");var c=n("d4ec"),a=n("bee2"),o=(n("159b"),n("a434"),function(){function e(){Object(c["a"])(this,e),this.events={}}return Object(a["a"])(e,[{key:"emit",value:function(e,t){this.events[e]&&this.events[e].forEach((function(e){e(t)}))}},{key:"on",value:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}},{key:"off",value:function(e,t){if(this.events[e])for(var n=0;n<this.events[e].length;n++)if(this.events[e][n]===t){this.events[e].splice(n,1);break}}}]),e}()),i={};/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?i.OS="IOS":/(Android)/i.test(navigator.userAgent)?i.OS="Android":i.OS="PC";var r=i,l=new o,s=r,u=navigator.userAgent.toLowerCase(),d=!(!u.match(/MicroMessenger\/[0-9]/i)&&!u.match(/QQ\/[0-9]/i)),b=window.appName||"juhaokantv",v=window.appNameCN||"剧好看",O=window.appSlogan||"就要给你好看",m=window.apkSchema||"juhaokantv",j=window.apkPackage||"com.zmide.study",p=window.apkVersion||"4.1.3",f=window.appDomain||"juokan.com",g=window.gqlUri||"https://pwa.juhaokantv.com/gql",h=window.downloadUrl||"https://juokan.com/app",y=window.apkUrl||"https://yy.juhaokantv.com/juhaokan_4.0.8_1.apk",w=window.logoUrl||"/img/logo.svg",k=window.appLogoUrl||"/img/logo.png",M=window.logoTextUrl||"/img/logo-text.svg",_=window.logoIconUrl||"/img/logo-icon.svg"},"2ef1":function(e,t,n){},"31f0":function(e,t,n){"use strict";var c=n("7a23");Object(c["P"])("data-v-ae225688");var a={key:0,class:"mod-list"},o={class:"mod-list","infinite-scroll-disabled":"disabled"};function i(e,t,n,i,r,l){var s,u=Object(c["V"])("Skeleton"),d=Object(c["V"])("HTMovieItem"),b=Object(c["V"])("router-link"),v=Object(c["V"])("LoadingSpinner"),O=Object(c["V"])("Empty"),m=Object(c["W"])("infinite-scroll");return i.loading?(Object(c["M"])(),Object(c["m"])("div",a,[(Object(c["M"])(),Object(c["m"])(c["b"],null,Object(c["T"])(10,(function(e){return Object(c["n"])("div",{class:"list-item",key:e},[Object(c["q"])(u,{type:"media"})])})),64))])):(null===(s=i.moviesHistory)||void 0===s?void 0:s.length)>0?(Object(c["M"])(),Object(c["m"])(c["b"],{key:1},[Object(c["lb"])(Object(c["n"])("div",o,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(i.moviesHistory,(function(e){var t,n;return Object(c["M"])(),Object(c["m"])(c["b"],{key:"history"+e.id},[null!==(t=e.movie)&&void 0!==t&&t.id?(Object(c["M"])(),Object(c["k"])(b,{key:0,class:"list-item",to:"/movie/".concat(null===(n=e.movie)||void 0===n?void 0:n.id)},{default:Object(c["kb"])((function(){return[Object(c["q"])(d,{movie:e.movie,"time-ago":e.last_watch_time},null,8,["movie","time-ago"])]})),_:2},1032,["to"])):Object(c["l"])("",!0)],64)})),128))],512),[[m,i.loadMore]]),i.hasMorePages?(Object(c["M"])(),Object(c["k"])(v,{key:0})):Object(c["l"])("",!0)],64)):(Object(c["M"])(),Object(c["k"])(O,{key:2,type:"content",description:"暂无内容"}))}Object(c["N"])();var r=n("a684"),l=n("1ad0"),s=n("2d5b"),u=n("d76c"),d=n("02bc"),b={components:{HTMovieItem:l["a"],Skeleton:s["a"],LoadingSpinner:u["a"],Empty:d["default"]},props:["userId"],setup:function(e){var t=Object(c["cb"])(e),n=t.userId,a=Object(c["R"])({first:20}),o=Object(r["gb"])(a,{enabled:!!n.value}),i=o.loading,l=o.moviesHistory,s=o.loadMore,u=o.hasMorePages,d=o.disabled;return{loading:i,moviesHistory:l,loadMore:s,hasMorePages:u,disabled:d}}};n("b54a");b.render=i,b.__scopeId="data-v-ae225688";t["a"]=b},3360:function(e,t,n){"use strict";n("35fb")},3438:function(e,t,n){"use strict";n("55cd")},"35fb":function(e,t,n){},"363e":function(e,t,n){"use strict";n("7384")},3717:function(e,t,n){"use strict";n("c3e5")},"377b":function(e,t,n){"use strict";n("02c0")},"3bb5":function(e,t,n){},4099:function(e,t,n){"use strict";n("aa66")},4120:function(e,t,n){},4353:function(e,t,n){},"436a":function(e,t,n){"use strict";n("5930")},4614:function(e,t,n){},"4a27":function(e,t,n){"use strict";n("a298")},"4a7b2":function(e,t,n){"use strict";n("9842")},"4b20":function(e,t,n){},"4f61":function(e,t,n){},"4f7f":function(e,t,n){"use strict";n("f0fe")},"4fda":function(e,t,n){},"513d":function(e,t,n){"use strict";n("8dec")},"55cd":function(e,t,n){},"56ee":function(e,t,n){},5930:function(e,t,n){},5974:function(e,t,n){"use strict";n("b0c0");var c=n("7a23");Object(c["P"])("data-v-58ccaba8");var a={class:"rc-movie-item"},o=["href"],i={class:"figure-pic"},r={class:"detail"},l=["href","title"],s={class:"detail-info"},u={class:"meta-text text-ellipsis"},d={key:0,class:"meta-text text-ellipsis"},b={key:1,class:"meta-text text-ellipsis"};function v(e,t,n,v,O,m){var j=Object(c["W"])("lazyload");return Object(c["M"])(),Object(c["m"])("div",a,[Object(c["n"])("a",{href:"/movie/".concat(n.movie.id),class:"figure"},[Object(c["n"])("div",i,[Object(c["lb"])(Object(c["n"])("img",null,null,512),[[j,n.movie.cover]])])],8,o),Object(c["n"])("div",r,[Object(c["n"])("a",{href:"/movie/".concat(n.movie.id),class:"detail-title webkit-text-ellipsis",title:n.movie.name},Object(c["Z"])(n.movie.name||n.movie.introduction),9,l),Object(c["n"])("div",s,[Object(c["n"])("div",u,Object(c["Z"])(n.movie.year+"上映 · "+n.movie.type),1),n.movie.actors?(Object(c["M"])(),Object(c["m"])("div",d,Object(c["Z"])("主演："+n.movie.actors),1)):n.movie.producer?(Object(c["M"])(),Object(c["m"])("div",b,Object(c["Z"])("导演："+n.movie.producer),1)):Object(c["l"])("",!0)])])])}Object(c["N"])();var O={props:{movie:{type:Object}},setup:function(e){}};n("3360");O.render=v,O.__scopeId="data-v-58ccaba8";t["a"]=O},"5c78":function(e,t,n){"use strict";n("eaac")},"5e5a":function(e,t,n){},"5fdc":function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("b0c0");var c=n("7a23");Object(c["P"])("data-v-36d358e0");var a={class:"video-item"},o={class:"figure-pic"},i={class:"figure-caption"},r={key:0,class:"video-duration"},l={class:"detail"},s={class:"detail-info"},u=["src"],d={class:"user-name"},b={class:"time-ago text-ellipsis"};function v(e,t,n,v,O,m){var j,p,f,g,h,y=Object(c["V"])("router-link"),w=Object(c["W"])("lazyload");return Object(c["M"])(),Object(c["m"])("div",a,[Object(c["q"])(y,{class:"figure",to:"/video/".concat(null===(j=n.video)||void 0===j?void 0:j.id)},{default:Object(c["kb"])((function(){return[Object(c["n"])("div",o,[Object(c["lb"])(Object(c["n"])("img",null,null,512),[[w,n.video.cover]])]),Object(c["n"])("div",i,[v.duration?(Object(c["M"])(),Object(c["m"])("span",r,Object(c["Z"])(v.duration),1)):Object(c["l"])("",!0)])]})),_:1},8,["to"]),Object(c["n"])("div",l,[Object(c["q"])(y,{class:"detail-title webkit-text-ellipsis",to:"/video/".concat(null===(p=n.video)||void 0===p?void 0:p.id)},{default:Object(c["kb"])((function(){var e;return[Object(c["p"])(Object(c["Z"])((null===(e=n.video)||void 0===e?void 0:e.description)||""),1)]})),_:1},8,["to"]),Object(c["n"])("div",s,[Object(c["q"])(y,{class:"info-author text-ellipsis",to:"/user/".concat(null===(f=n.video)||void 0===f||null===(g=f.user)||void 0===g?void 0:g.id)},{default:Object(c["kb"])((function(){var e,t,a,o;return[Object(c["n"])("img",{class:"user-avatar",src:null===(e=n.video)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.avatar},null,8,u),Object(c["n"])("span",d,Object(c["Z"])(null===(a=n.video)||void 0===a||null===(o=a.user)||void 0===o?void 0:o.name),1)]})),_:1},8,["to"]),Object(c["n"])("span",b,Object(c["Z"])(null===(h=n.video)||void 0===h?void 0:h.created_at),1)])])])}Object(c["N"])();var O=n("0d27"),m={props:{video:Object},setup:function(e){var t,n,a,o=Object(c["cb"])(e),i=o.video,r=null===(t=O["a"].format(null===(n=i.value)||void 0===n||null===(a=n.video)||void 0===a?void 0:a.duration))||void 0===t?void 0:t.substr(-5);return{duration:r}}};n("1097");m.render=v,m.__scopeId="data-v-36d358e0";t["a"]=m},"628c":function(e,t,n){},6483:function(e,t,n){"use strict";n("f6851")},"67d2":function(e,t,n){"use strict";n.r(t);var c=n("7a23");Object(c["P"])("data-v-58fad64d");var a={id:"sidebar"},o={class:"side-button contact-us"},i=Object(c["n"])("a",{class:"qq-logo",href:"https://jq.qq.com/?_wv=1027&k=w9450OnJ",target:"_blank"},null,-1),r=Object(c["n"])("div",{class:"popper-content"},[Object(c["n"])("div",null,"扫码加QQ粉丝群"),Object(c["n"])("img",{src:"/img/qqgroup.png",alt:"群聊二维码",class:"qqgroup-qrcode"})],-1),l={key:0,class:"light",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"13182"},s=Object(c["n"])("path",{d:"M512 874.666667a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64A32 32 0 0 1 512 874.666667z m-256.426667-106.24a32 32 0 0 1 0 45.269333l-45.269333 45.248a32 32 0 0 1-45.248-45.226667l45.226667-45.269333a32 32 0 0 1 45.269333 0z m558.122667 0l45.248 45.269333a32 32 0 0 1-45.226667 45.248l-45.269333-45.226667a32 32 0 1 1 45.248-45.269333zM512 213.333333c164.949333 0 298.666667 133.717333 298.666667 298.666667s-133.717333 298.666667-298.666667 298.666667-298.666667-133.717333-298.666667-298.666667 133.717333-298.666667 298.666667-298.666667z m0 64c-129.6 0-234.666667 105.066667-234.666667 234.666667s105.066667 234.666667 234.666667 234.666667 234.666667-105.066667 234.666667-234.666667-105.066667-234.666667-234.666667-234.666667zM117.333333 480a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64h64z m853.333334 0a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64h64zM210.304 165.056l45.248 45.226667a32 32 0 1 1-45.248 45.269333L165.056 210.304a32 32 0 0 1 45.226667-45.248z m648.64 0a32 32 0 0 1 0 45.226667l-45.226667 45.269333a32 32 0 1 1-45.269333-45.248l45.248-45.248a32 32 0 0 1 45.248 0zM512 21.333333a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64A32 32 0 0 1 512 21.333333z","p-id":"13183"},null,-1),u=[s],d={key:1,class:"dark",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"13334"},b=Object(c["n"])("path",{d:"M512 117.333333c-6.250667 0-12.544 0.149333-18.837333 0.426667a32 32 0 0 0-28.885334 42.197333c10.389333 30.72 15.722667 63.018667 15.722667 96.042667 0 168.405333-139.370667 305.706667-313.130667 309.269333l-7.957333 0.085334a32 32 0 0 0-30.592 39.488C170.730667 780.672 328.682667 906.666667 512 906.666667c217.962667 0 394.666667-176.704 394.666667-394.666667S729.962667 117.333333 512 117.333333z m26.282667 74.090667l-1.813334-9.194667 2.325334 0.170667C708.885333 196.053333 842.666667 338.389333 842.666667 512c0 182.613333-148.053333 330.666667-330.666667 330.666667l-7.296-0.085334a330.944 330.944 0 0 1-301.44-211.861333l-1.344-3.562667 0.768-0.064C394.282667 606.656 544 448.490667 544 256c0-21.824-1.92-43.413333-5.717333-64.576z","p-id":"13335"},null,-1),v=[b],O=Object(c["n"])("svg",{class:"upward",viewBox:"0 0 1820 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"22196"},[Object(c["n"])("path",{d:"M1341.155556 774.921481l-412.444445-559.028148c-5.12-7.016296-13.274074-11.093333-21.997037-11.093333h-0.094815c-8.722963 0-16.877037 4.266667-21.997037 11.282963L478.53037 775.964444c-6.068148 8.343704-6.921481 19.247407-2.18074 28.444445 4.645926 9.102222 14.032593 14.885926 24.367407 14.885926h819.2c15.075556 0 27.306667-12.231111 27.306667-27.306667-0.094815-6.447407-2.275556-12.325926-6.068148-17.066667z","p-id":"22197"})],-1),m=[O];function j(e,t,n,s,b,O){var j=Object(c["V"])("el-popover");return Object(c["M"])(),Object(c["m"])("div",a,[Object(c["n"])("div",o,[Object(c["q"])(j,{placement:"left",width:120,trigger:"hover","popper-class":"qqgroup-popper"},{reference:Object(c["kb"])((function(){return[i]})),default:Object(c["kb"])((function(){return[r]})),_:1})]),Object(c["n"])("div",{class:"side-button",onClick:t[0]||(t[0]=function(){return O.toggleMode&&O.toggleMode.apply(O,arguments)})},["dark"===b.colorScheme?(Object(c["M"])(),Object(c["m"])("svg",l,u)):(Object(c["M"])(),Object(c["m"])("svg",d,v))]),b.visible?(Object(c["M"])(),Object(c["m"])("div",{key:0,class:"side-button goTop",onClick:t[1]||(t[1]=function(){return O.goTop&&O.goTop.apply(O,arguments)})},m)):Object(c["l"])("",!0)])}Object(c["N"])();var p=n("1157"),f=n.n(p),g=n("0613"),h={Dark:"dark",Light:"light"},y={beforeMount:function(){var e=window.matchMedia("(prefers-color-scheme: dark)");function t(){e.matches?document.documentElement.setAttribute("data-theme",h.Dark):document.documentElement.setAttribute("data-theme",h.Light)}e.addEventListener("change",t),this.colorScheme=e.matches?h.Dark:g["a"].getItem("colorScheme"),this.colorScheme===h.Dark&&document.documentElement.setAttribute("data-theme",h.Dark)},mounted:function(){var e=this;f()(window).on("scroll",(function(){f()(window).scrollTop()>1e3?e.visible=!0:e.visible=!1}))},methods:{toggleMode:function(){this.colorScheme=this.colorScheme===h.Dark?h.Light:h.Dark,g["a"].setItem("colorScheme",this.colorScheme),document.documentElement.setAttribute("data-theme",this.colorScheme)},goTop:function(){f()("body,html").animate({scrollTop:0},1e3)}},data:function(){return{visible:!1,colorScheme:""}}};n("d19d"),n("7791");y.render=j,y.__scopeId="data-v-58fad64d";t["default"]=y},"6d5e":function(e,t,n){"use strict";n("b0c0");var c=n("7a23");Object(c["P"])("data-v-0e9f31df");var a={class:"user-info"},o={class:"info-item"},i={class:"user-avatar"},r={class:"avatar-wrap","element-loading-spinner":"el-icon-loading","element-loading-text":"Loading..."},l=["src"],s=["src"],u=["disabled"],d={class:"info-item"},b={class:"user-name text-ellipsis"},v={class:"info-item"},O={class:"introduction"},m={class:"info-item"},j={class:"interpersonal"},p={class:"meta-count"},f=Object(c["p"])(" 关注 "),g=Object(c["n"])("div",{class:"split"},"·",-1),h={class:"meta-count"},y=Object(c["p"])(" 粉丝 "),w={class:"info-item"},k={class:"operation"},M={key:0,class:"button-wrap"},_=Object(c["p"])(" 编辑资料 "),I={key:1,class:"button-wrap"};function P(e,t,n,P,C,$){var S,x,q,V,R,E,L,A=Object(c["V"])("el-button"),T=Object(c["V"])("FollowButton"),N=Object(c["V"])("EditUserInfoModal"),F=Object(c["V"])("FollowUsersPane"),D=Object(c["W"])("loading");return Object(c["M"])(),Object(c["m"])(c["b"],null,[Object(c["n"])("div",a,[Object(c["n"])("div",o,[Object(c["n"])("div",i,[Object(c["lb"])(Object(c["n"])("div",r,[C.photo?(Object(c["M"])(),Object(c["m"])("img",{key:0,src:C.photo,class:"avatar"},null,8,l)):null!==(S=P.user)&&void 0!==S&&S.avatar?(Object(c["M"])(),Object(c["m"])("img",{key:1,src:null===(x=P.user)||void 0===x?void 0:x.avatar,class:"avatar"},null,8,s)):Object(c["l"])("",!0),Object(c["n"])("input",{class:"avatar-uploader",type:"file",accept:"image/png, image/jpeg, image/jpg",disabled:!$.self||!(null!==(q=$.me)&&void 0!==q&&q.token),onChange:t[0]||(t[0]=function(){return $.onChange&&$.onChange.apply($,arguments)})},null,40,u)],512),[[D,C.uploading]])])]),Object(c["n"])("div",d,[Object(c["n"])("h2",b,Object(c["Z"])(null===(V=P.user)||void 0===V?void 0:V.name),1)]),Object(c["n"])("div",v,[Object(c["n"])("div",O,Object(c["Z"])((null===(R=P.user)||void 0===R?void 0:R.introduction)||"这个人很高冷，没有自我介绍"),1)]),Object(c["n"])("div",m,[Object(c["n"])("div",j,[Object(c["n"])("div",{class:"meta-item",onClick:t[1]||(t[1]=function(e){return $.showFollowModal("following")})},[Object(c["n"])("span",p,Object(c["Z"])(null===(E=P.user)||void 0===E?void 0:E.count_followings),1),f]),g,Object(c["n"])("div",{class:"meta-item",onClick:t[2]||(t[2]=function(e){return $.showFollowModal("follower")})},[Object(c["n"])("span",h,Object(c["Z"])(null===(L=P.user)||void 0===L?void 0:L.count_followers),1),y])])]),Object(c["n"])("div",w,[Object(c["n"])("div",k,[$.self?(Object(c["M"])(),Object(c["m"])("div",M,[Object(c["q"])(A,{class:"edit-btn",type:"info",round:"",onClick:$.handleEditorButton},{default:Object(c["kb"])((function(){return[_]})),_:1},8,["onClick"])])):P.user?(Object(c["M"])(),Object(c["m"])("div",I,[Object(c["q"])(T,{user:P.user},null,8,["user"])])):Object(c["l"])("",!0)])])]),Object(c["q"])(N,{user:P.user},null,8,["user"]),Object(c["q"])(F,{"user-id":P.userId},null,8,["user-id"])],64)}Object(c["N"])();n("d3b7"),n("99af");var C=n("f685"),$=n("a684"),S=n("0613"),x=n("2de2");Object(c["P"])("data-v-348eedd6");var q={id:"edit-dialog"},V=Object(c["p"])("男"),R=Object(c["p"])("女"),E=Object(c["n"])("span",{class:"introduction-label"},"个性签名",-1),L=Object(c["p"])(" 完成 "),A={key:0,class:"el-icon-loading loading-icon"};function T(e,t,n,a,o,i){var r=Object(c["V"])("el-input"),l=Object(c["V"])("el-form-item"),s=Object(c["V"])("el-radio"),u=Object(c["V"])("el-date-picker"),d=Object(c["V"])("el-button"),b=Object(c["V"])("el-form"),v=Object(c["V"])("el-dialog");return Object(c["M"])(),Object(c["m"])("div",q,[Object(c["q"])(v,{modelValue:e.visible,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.visible=t}),"custom-class":"edit-modal",title:"编辑资料",width:"90%","destroy-on-close":"",center:""},{default:Object(c["kb"])((function(){return[Object(c["q"])(b,{ref:"editForm",model:e.formData,rules:e.rules},{default:Object(c["kb"])((function(){return[Object(c["q"])(l,{label:"昵 称",prop:"name"},{default:Object(c["kb"])((function(){return[Object(c["q"])(r,{name:"formData-account",autocomplete:"",class:"account-input",modelValue:e.formData.name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formData.name=t}),placeholder:e.formData.name,clearable:"",maxlength:"12"},null,8,["modelValue","placeholder"])]})),_:1}),Object(c["q"])(l,{label:"性 别",prop:"gender"},{default:Object(c["kb"])((function(){return[Object(c["q"])(s,{modelValue:e.formData.gender,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.gender=t}),label:"男"},{default:Object(c["kb"])((function(){return[V]})),_:1},8,["modelValue"]),Object(c["q"])(s,{modelValue:e.formData.gender,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formData.gender=t}),label:"女"},{default:Object(c["kb"])((function(){return[R]})),_:1},8,["modelValue"])]})),_:1}),Object(c["q"])(l,{label:"生 日",prop:"birthday"},{default:Object(c["kb"])((function(){var n,a;return[Object(c["q"])(u,{modelValue:e.formData.birthday,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formData.birthday=t}),type:"date",placeholder:(null===(n=e.formData)||void 0===n?void 0:n.birthday)||"请选择你的生日","default-value":new Date(null===(a=e.formData)||void 0===a?void 0:a.birthday),"value-format":"YYYY-MM-DD",class:"birthday-picker"},null,8,["modelValue","placeholder","default-value"])]})),_:1}),Object(c["q"])(l,{prop:"introduction"},{default:Object(c["kb"])((function(){var n;return[E,Object(c["q"])(r,{modelValue:e.formData.introduction,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.formData.introduction=t}),maxlength:"140",placeholder:null===(n=e.formData)||void 0===n?void 0:n.introduction,"show-word-limit":"",type:"textarea",class:"input-style",resize:"none"},null,8,["modelValue","placeholder"])]})),_:1}),Object(c["q"])(d,{type:"primary",class:"submit-button",disabled:e.disabled,onClick:e.updateUserInfo},{default:Object(c["kb"])((function(){return[L,e.loading?(Object(c["M"])(),Object(c["m"])("i",A)):Object(c["l"])("",!0)]})),_:1},8,["disabled","onClick"])]})),_:1},8,["model","rules"])]})),_:1},8,["modelValue"])])}Object(c["N"])();var N=n("3835"),F=n("1da1"),D=(n("96cf"),n("4995")),U=n("d257"),z=Object(c["r"])({props:["user"],setup:function(e){var t,n,a=Object(c["cb"])(e),o=a.user,i=Object(c["R"])(null===(t=S["c"].state)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.user),r=Object(c["R"])(!1),l=Object(c["R"])({avatar:"",name:"",gender:"男",birthday:"",introduction:""}),s=Object(c["i"])((function(){return!l.value.name||!l.value.birthday||!l.value.introduction})),u=Object(C["c"])($["S"],(function(){var e;return{variables:{id:null===(e=o.value)||void 0===e?void 0:e.id,input:l.value}}})),d=u.mutate,b=u.loading;function v(){return O.apply(this,arguments)}function O(){return O=Object(F["a"])(regeneratorRuntime.mark((function e(){var t,n,c,a,l,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(U["b"])((function(){return d()}));case 2:n=e.sent,c=Object(N["a"])(n,2),a=c[0],l=c[1],a?D["a"].error("修改资料出错：".concat(Object(U["a"])(a))):null!==l&&void 0!==l&&null!==(t=l.data)&&void 0!==t&&t.updateUserInfo&&(u=Object.assign(i.value,o.value,null===(s=l.data)||void 0===s?void 0:s.updateUserInfo),Object(D["a"])({message:"修改成功!",type:"success"}),S["c"].commit(S["b"].USER_LOGIN,u),S["a"].setItem("user",u),r.value=!1);case 7:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}return Object(c["ib"])(r,(function(e){var t,n,c,a,i;e&&(l.value={avatar:null===(t=o.value)||void 0===t?void 0:t.avatar,name:null===(n=o.value)||void 0===n?void 0:n.name,gender:(null===(c=o.value)||void 0===c?void 0:c.gender_msg)||"男",birthday:null===(a=o.value)||void 0===a?void 0:a.birthday_msg,introduction:null===(i=o.value)||void 0===i?void 0:i.introduction})})),{visible:r,formData:l,disabled:s,loading:b,updateUserInfo:v}},mounted:function(){var e=this;this.$bus.on("SHOW_EDIT_MODAL",(function(){e.visible=!0}))},data:function(){return{rules:{name:[{required:!0,message:"请填写用户名",trigger:"blur"},{max:20,message:"用户名不得超过20字",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"blur"}],birthday:[{required:!0,message:"请选择生日",trigger:"blur"}],introduction:[{required:!0,message:"请填写个性签名",trigger:"blur"},{max:140,message:"个性签名不得超过140字",trigger:"blur"}]}}}});n("d950");z.render=T,z.__scopeId="data-v-348eedd6";var Z=z;Object(c["P"])("data-v-188c1b99");var H={id:"follow-dialog"},B={class:"pane-content"},W={class:"pane-content"};function Q(e,t,n,a,o,i){var r=Object(c["V"])("UserItem"),l=Object(c["V"])("el-tab-pane"),s=Object(c["V"])("el-tabs"),u=Object(c["V"])("el-dialog");return Object(c["M"])(),Object(c["m"])("div",H,[Object(c["q"])(u,{modelValue:e.visible,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.visible=t}),"custom-class":"follow-modal",width:"90%","destroy-on-close":"",center:""},{default:Object(c["kb"])((function(){return[Object(c["q"])(s,{modelValue:e.activeName,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.activeName=t}),class:"user-tabs"},{default:Object(c["kb"])((function(){return[Object(c["q"])(l,{label:"关注",name:"following"},{default:Object(c["kb"])((function(){return[Object(c["n"])("div",B,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.followedUsers,(function(e){var t,n;return Object(c["M"])(),Object(c["m"])("div",{class:"user-item-wrap",key:"followed"+(null===(t=e.people)||void 0===t?void 0:t.id)},[null!==(n=e.people)&&void 0!==n&&n.id?(Object(c["M"])(),Object(c["k"])(r,{key:0,user:e.people},null,8,["user"])):Object(c["l"])("",!0)])})),128))])]})),_:1}),Object(c["q"])(l,{label:"粉丝",name:"follower"},{default:Object(c["kb"])((function(){return[Object(c["n"])("div",W,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.followers,(function(e){var t;return Object(c["M"])(),Object(c["m"])("div",{class:"user-item-wrap",key:"followed"+(null===(t=e.user)||void 0===t?void 0:t.id)},[null!==e&&void 0!==e&&e.id?(Object(c["M"])(),Object(c["k"])(r,{key:0,user:e.user},null,8,["user"])):Object(c["l"])("",!0)])})),128))])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["modelValue"])])}Object(c["N"])(),Object(c["P"])("data-v-f9894dae");var G={key:0,class:"user-item"},J=["src"],K={class:"info-detail"},Y={class:"user-name"},X={class:"introduction"};function ee(e,t,n,a,o,i){var r,l,s=Object(c["V"])("router-link"),u=Object(c["V"])("FollowButton");return null!==(r=a.user)&&void 0!==r&&r.id?(Object(c["M"])(),Object(c["m"])("div",G,[Object(c["q"])(s,{class:"item-left",to:"/user/".concat(null===(l=a.user)||void 0===l?void 0:l.id)},{default:Object(c["kb"])((function(){var e,t,n;return[Object(c["n"])("img",{class:"avatar-img",src:null===(e=a.user)||void 0===e?void 0:e.avatar,alt:""},null,8,J),Object(c["n"])("div",K,[Object(c["n"])("div",Y,Object(c["Z"])(null===(t=a.user)||void 0===t?void 0:t.name),1),Object(c["n"])("div",X,Object(c["Z"])(null===(n=a.user)||void 0===n?void 0:n.introduction),1)])]})),_:1},8,["to"]),Object(c["q"])(u,{user:a.user,size:"small"},null,8,["user"])])):Object(c["l"])("",!0)}Object(c["N"])();var te={props:["user"],setup:function(e){var t=Object(c["cb"])(e),n=t.user;return{user:n}}};n("a49f");te.render=ee,te.__scopeId="data-v-f9894dae";var ne=te,ce=Object(c["r"])({components:{UserItem:ne},props:["userId"],setup:function(e){var t=Object(c["cb"])(e),n=t.userId,a=Object(c["R"])(!1),o=Object(c["R"])("following"),i=Object($["cb"])({user_id:n.value},{fetchPolicy:"network-only",enabled:!!n.value}),r=i.followedUsers,l=i.loading,s=i.error,u=i.refetch,d=i.loadMore,b=i.isFinished,v=i.loadingMore,O=Object($["db"])({user_id:n.value},{fetchPolicy:"network-only",enabled:!!n.value}),m=O.followers,j=O.loading,p=O.error,f=O.refetch,g=O.loadMore,h=O.isFinished,y=O.loadingMore;return{visible:a,activeName:o,followedUsers:r,followedLoading:l,followedError:s,followedRefetch:u,loadMoreFollowed:d,followedFinished:b,followedLoadingMore:v,followers:m,followersLoading:j,followersError:p,followersRefetch:f,loadMoreFollowers:g,followersFinished:h,followersLoadingMore:y}},mounted:function(){var e=this;this.$bus.on("SHOW_FOLLOW_MODAL",(function(t){var n=t.tag;e.activeName="follower"===n?"follower":"following",e.followedRefetch(),e.followersRefetch(),e.visible=!0}))}});n("f749");ce.render=Q,ce.__scopeId="data-v-188c1b99";var ae=ce,oe={components:{EditUserInfoModal:Z,FollowUsersPane:ae},props:["userId"],setup:function(e){var t=Object(c["cb"])(e),n=t.userId,a=Object(c["Q"])({genderIcon:"gender_boy",birthday_year:2e3,constellation:"天秤"}),o=Object(c["cb"])(a),i=o.genderIcon,r=o.birthday_year,l=(o.constellation,Object(C["d"])($["V"],{id:n})),s=l.result,u=l.loading,d=Object(C["e"])(s,null,(function(e){return null===e||void 0===e?void 0:e.user}));return Object(c["ib"])(d,(function(e,t){var n=new Date((null===e||void 0===e?void 0:e.birthday_msg)&&e.birthday_msg);i.value="男"===(null===e||void 0===e?void 0:e.gender_msg)?"gender_boy":"gender_girl",r.value=n.getFullYear()})),{userId:n,user:d,userLoading:u,genderIcon:i,birthday_year:r}},computed:{me:function(){return this.$store.state.user.user},self:function(){var e,t;return(null===(e=this.me)||void 0===e?void 0:e.id)&&(null===(t=this.me)||void 0===t?void 0:t.id)===this.userId}},methods:{handleEditorButton:function(){this.$bus.emit("SHOW_EDIT_MODAL")},showFollowModal:function(e){this.$bus.emit("SHOW_FOLLOW_MODAL",{tag:e})},onChange:function(e){var t=this,n=e.target.files[0];if(n){var c=new FileReader;c.onload=function(e){t.photo=e.target.result},c.readAsDataURL(n),this.uploadAvatar(n)}},uploadAvatar:function(e){var t,n=this;this.uploading=!0;var c=new FormData;c.append("avatar",e);var a={Accept:"application/json","Content-Type":"multipart/form-data"};this.$http.post("https://".concat(x["m"],"/api/user/save-avatar?api_token=").concat(null===(t=this.me)||void 0===t?void 0:t.token),c,a).then((function(e){n.$message.success("头像上传成功!"),S["c"].commit(S["b"].USER_UPDATE,{avatar:e.data})})).catch((function(e){n.$message.error("头像上传失败!")})).finally((function(){n.uploading=!1}))}},data:function(){return{photo:"",uploading:""}}};n("8716");oe.render=P,oe.__scopeId="data-v-0e9f31df";t["a"]=oe},"6ecf":function(e,t,n){"use strict";n.r(t);var c=n("7a23");Object(c["P"])("data-v-2dfbe634");var a={class:"footer"},o=Object(c["n"])("div",{class:"statement"},[Object(c["n"])("p",null," 本站所有视频和图片均来自互联网收集而来，版权归原创者所有，本网站只提供web页面服务，并不提供资源存储，也不参与录制、上传。 "),Object(c["n"])("p",null," 若本站收录的内容无意侵犯了贵司版权，请发邮件至neihandianying@gmail.com，收到信息后会在一个星期内删除侵权内容，谢谢。 ")],-1),i=[o];function r(e,t,n,o,r,l){return Object(c["M"])(),Object(c["m"])("div",a,i)}Object(c["N"])();var l={};n("990b");l.render=r,l.__scopeId="data-v-2dfbe634";t["default"]=l},7046:function(e,t,n){},7124:function(e,t,n){"use strict";n("81cb")},"72c4":function(e,t,n){"use strict";n("1f0c")},7384:function(e,t,n){},"74a6":function(e,t,n){"use strict";n("8263")},"74bc":function(e,t,n){"use strict";n("c36f")},"754a":function(e,t,n){"use strict";n("0238")},7570:function(e,t,n){"use strict";n("a45c")},7791:function(e,t,n){"use strict";n("2467")},"77e9":function(e,t,n){"use strict";var c=n("7a23");Object(c["P"])("data-v-2ad15730");var a={key:0,class:"mod-list"},o={class:"mod-list","infinite-scroll-disabled":"disabled"};function i(e,t,n,i,r,l){var s,u=Object(c["V"])("Skeleton"),d=Object(c["V"])("RCMovieItem"),b=Object(c["V"])("router-link"),v=Object(c["V"])("LoadingSpinner"),O=Object(c["V"])("Empty"),m=Object(c["W"])("infinite-scroll");return i.loading?(Object(c["M"])(),Object(c["m"])("div",a,[(Object(c["M"])(),Object(c["m"])(c["b"],null,Object(c["T"])(10,(function(e){return Object(c["n"])("div",{class:"list-item",key:e},[Object(c["q"])(u,{type:"media"})])})),64))])):(null===(s=i.favoriteMovies)||void 0===s?void 0:s.length)>0?(Object(c["M"])(),Object(c["m"])(c["b"],{key:1},[Object(c["lb"])(Object(c["n"])("div",o,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(i.favoriteMovies,(function(e){var t,n;return Object(c["M"])(),Object(c["k"])(b,{class:"list-item",key:"favorite"+(null===(t=e.movie)||void 0===t?void 0:t.id),to:"/movie/".concat(null===(n=e.movie)||void 0===n?void 0:n.id)},{default:Object(c["kb"])((function(){return[Object(c["q"])(d,{movie:e.movie},null,8,["movie"])]})),_:2},1032,["to"])})),128))],512),[[m,i.loadMore]]),i.hasMorePages?(Object(c["M"])(),Object(c["k"])(v,{key:0})):Object(c["l"])("",!0)],64)):(Object(c["M"])(),Object(c["k"])(O,{key:2,type:"content",description:"暂无内容"}))}Object(c["N"])();var r=n("a684"),l=n("5974"),s=n("2d5b"),u=n("d76c"),d=n("02bc"),b={components:{RCMovieItem:l["a"],Skeleton:s["a"],LoadingSpinner:u["a"],Empty:d["default"]},props:["userId"],setup:function(e){var t=Object(c["cb"])(e),n=t.userId,a=Object(c["R"])({user_id:n,first:20}),o=Object(r["ab"])(a,{enabled:!!n.value}),i=o.loading,l=o.favoriteMovies,s=o.loadMore,u=o.hasMorePages,d=o.disabled;return{loading:i,favoriteMovies:l,loadMore:s,hasMorePages:u,disabled:d}},computed:{me:function(){return this.$store.state.user.user},self:function(){var e;return this.userId===(null===(e=this.me)||void 0===e?void 0:e.id)}}};n("ffeb");b.render=i,b.__scopeId="data-v-2ad15730";t["a"]=b},"78f7":function(e,t,n){},"7ab0":function(e,t,n){"use strict";n("fb69")},"7b34":function(e,t,n){"use strict";n("b58e")},"7bf6":function(e,t,n){"use strict";n("4120")},"7d51":function(e,t,n){},"81cb":function(e,t,n){},8263:function(e,t,n){},8376:function(e,t,n){},8594:function(e,t,n){},8716:function(e,t,n){"use strict";n("faa7")},"88c5":function(e,t,n){"use strict";n("5e5a")},"8a19":function(e,t,n){},"8b21":function(e,t,n){"use strict";n("96a7")},"8c36":function(e,t,n){},"8dec":function(e,t,n){},9053:function(e,t,n){"use strict";n("628c")},"95cb":function(e,t,n){},"96a7":function(e,t,n){},"96ac":function(e,t,n){"use strict";n("56ee")},"96c6":function(e,t,n){"use strict";n("cd6d")},"96ec":function(e,t,n){"use strict";n("cb6a")},9842:function(e,t,n){},"98fc":function(e,t,n){"use strict";n("95cb")},"990b":function(e,t,n){"use strict";n("0aba")},9929:function(e,t,n){},"9bb3":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a9e3");var c=n("7a23"),a=n("2ef0");function o(e){var t=Object(c["R"])(1);function n(){var n=document.getElementById("app"),c=window.getComputedStyle(n);t.value=Number(c.getPropertyValue(e))}return n(),Object(c["I"])((function(){window.addEventListener("resize",Object(a["throttle"])(n,200))})),t}},a082:function(e,t,n){},a0cb:function(e,t,n){},a298:function(e,t,n){},a45c:function(e,t,n){},a49f:function(e,t,n){"use strict";n("78f7")},a684:function(e,t,n){"use strict";n.d(t,"c",(function(){return je})),n.d(t,"L",(function(){return pe})),n.d(t,"M",(function(){return fe})),n.d(t,"S",(function(){return ge})),n.d(t,"V",(function(){return he})),n.d(t,"J",(function(){return ye})),n.d(t,"f",(function(){return ke})),n.d(t,"g",(function(){return Me})),n.d(t,"y",(function(){return _e})),n.d(t,"l",(function(){return Ie})),n.d(t,"o",(function(){return Pe})),n.d(t,"b",(function(){return Ce})),n.d(t,"r",(function(){return $e})),n.d(t,"R",(function(){return Se})),n.d(t,"K",(function(){return xe})),n.d(t,"A",(function(){return Re})),n.d(t,"E",(function(){return Ee})),n.d(t,"z",(function(){return Le})),n.d(t,"t",(function(){return Ae})),n.d(t,"d",(function(){return Ne})),n.d(t,"e",(function(){return Fe})),n.d(t,"N",(function(){return Te})),n.d(t,"I",(function(){return De})),n.d(t,"H",(function(){return Ue})),n.d(t,"G",(function(){return ze})),n.d(t,"B",(function(){return He})),n.d(t,"s",(function(){return Be})),n.d(t,"D",(function(){return We})),n.d(t,"U",(function(){return Qe})),n.d(t,"h",(function(){return Je})),n.d(t,"i",(function(){return Ye})),n.d(t,"k",(function(){return Xe})),n.d(t,"a",(function(){return et})),n.d(t,"p",(function(){return tt})),n.d(t,"x",(function(){return ct})),n.d(t,"j",(function(){return at})),n.d(t,"C",(function(){return ot})),n.d(t,"O",(function(){return it})),n.d(t,"n",(function(){return rt})),n.d(t,"m",(function(){return st})),n.d(t,"F",(function(){return lt})),n.d(t,"w",(function(){return ut})),n.d(t,"T",(function(){return dt})),n.d(t,"P",(function(){return bt})),n.d(t,"Q",(function(){return vt})),n.d(t,"u",(function(){return Ot})),n.d(t,"v",(function(){return mt})),n.d(t,"q",(function(){return jt})),n.d(t,"ib",(function(){return ht})),n.d(t,"X",(function(){return yt})),n.d(t,"kb",(function(){return wt})),n.d(t,"lb",(function(){return kt})),n.d(t,"fb",(function(){return Mt})),n.d(t,"jb",(function(){return _t})),n.d(t,"eb",(function(){return Pt})),n.d(t,"bb",(function(){return Ct})),n.d(t,"ab",(function(){return $t})),n.d(t,"gb",(function(){return St})),n.d(t,"cb",(function(){return xt})),n.d(t,"db",(function(){return qt})),n.d(t,"hb",(function(){return Vt})),n.d(t,"Z",(function(){return Et})),n.d(t,"Y",(function(){return Lt})),n.d(t,"mb",(function(){return At})),n.d(t,"W",(function(){return Wt}));var c,a,o,i,r,l,s,u,d,b,v,O,m,j,p,f,g,h,y,w,k,M,_,I,P,C,$,S,x,q,V,R,E,L,A,T,N,F,D,U,z,Z,H,B,W,Q,G,J,K,Y,X,ee,te,ne,ce,ae,oe,ie,re,le,se,ue,de,be=n("8785"),ve=n("5184"),Oe=Object(ve["a"])(c||(c=Object(be["a"])(["\n  fragment userFragment on User {\n    id\n    age\n    name\n    avatar\n    gender\n    gender_msg\n    birthday_msg\n    introduction\n    background\n    count_likes\n    count_articles\n    count_posts\n    count_followers\n    count_followings\n    count_favorites\n    followed_status\n    role\n  }\n"]))),me=Object(ve["a"])(a||(a=Object(be["a"])(["\n  ","\n\n  fragment signInFragment on User {\n    ...userFragment\n    uuid\n    token\n    phone\n  }\n"])),Oe),je=Object(ve["a"])(o||(o=Object(be["a"])(["\n  ","\n\n  mutation autoSignInMutation($uuid: String!, $phone: String) {\n    autoSignIn(uuid: $uuid, phone: $phone) {\n      ...userFragment\n      uuid\n      token\n    }\n  }\n"])),Oe),pe=Object(ve["a"])(i||(i=Object(be["a"])(["\n  ","\n\n  mutation signInMutation($account: String!, $password: String!, $uuid: String) {\n    signIn(account: $account, password: $password, uuid: $uuid) {\n      ...signInFragment\n    }\n  }\n"])),me),fe=Object(ve["a"])(r||(r=Object(be["a"])(["\n  ","\n\n  mutation signUpMutation($account: String!, $password: String!, $name: String, $uuid: String) {\n    signUp(account: $account, password: $password, name: $name, uuid: $uuid) {\n      ...signInFragment\n    }\n  }\n"])),me),ge=(Object(ve["a"])(l||(l=Object(be["a"])(["\n  mutation sendVerifyCodeMutation($phone: String!, $action: verifyType!) {\n    sendVerifyCode(phone: $phone, action: $action) {\n      id\n      code\n      account\n    }\n  }\n"]))),Object(ve["a"])(s||(s=Object(be["a"])(["\n  mutation retrievePasswordMutation(\n    $code: String!\n    $phone: String\n    $action: verifyType = RESET_PASSWORD\n    $newPassword: String!\n  ) {\n    retrievePassword(code: $code, phone: $phone, action: $action, newPassword: $newPassword) {\n      id\n      name\n      phone\n      token\n    }\n  }\n"]))),Object(ve["a"])(u||(u=Object(be["a"])(["\n  mutation updateUserInfoMutation($id: Int, $input: updateUserInfo!, $code: String) {\n    updateUserInfo(id: $id, input: $input, code: $code) {\n      id\n      name\n      avatar\n      gender\n      gender_msg\n      birthday_msg\n      introduction\n    }\n  }\n"])))),he=Object(ve["a"])(d||(d=Object(be["a"])(["\n  ","\n\n  query userQuery($id: Int!) {\n    user(id: $id) {\n      ...userFragment\n      phone\n    }\n  }\n"])),Oe),ye=Object(ve["a"])(b||(b=Object(be["a"])(["\n  query searchUsersQuery($keywords: String!, $page: Int) {\n    searchUsers(keywords: $keywords, page: $page) {\n      paginatorInfo {\n        hasMorePages\n        currentPage\n      }\n      data {\n        id\n        name\n        avatar\n        introduction\n        followed_status\n        count_likes\n        count_articles\n      }\n    }\n  }\n"]))),we=Object(ve["a"])(v||(v=Object(be["a"])(["\n  fragment chatFragment on Chat {\n    id\n    subject\n    icon\n    unreads\n    time_ago\n    updated_at\n    last_message_id\n    lastMessage {\n      id\n      message\n    }\n    user {\n      id\n      name\n      avatar\n    }\n    users {\n      id\n      name\n      avatar\n    }\n    withUser {\n      id\n      name\n      avatar\n      gender\n      age\n    }\n    type\n  }\n"]))),ke=Object(ve["a"])(O||(O=Object(be["a"])(["\n  ","\n\n  query chatsQuery($user_id: Int!, $page: Int) {\n    chats(user_id: $user_id, page: $page) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        ...chatFragment\n      }\n    }\n  }\n"])),we),Me=Object(ve["a"])(m||(m=Object(be["a"])(["\n  ","\n\n  query chatQuery($chat_id: Int!) {\n    chat(chat_id: $chat_id) {\n      ...chatFragment\n    }\n  }\n"])),we),_e=Object(ve["a"])(j||(j=Object(be["a"])(["\n  query messagesQuery($chat_id: Int!, $page: Int) {\n    messages(chat_id: $chat_id, page: $page) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        id\n        message\n        type\n        body {\n          text\n          url\n        }\n        messageable_id\n        messageable_type\n        messageable {\n          ... on Article {\n            id\n            type\n            title\n            description\n            images {\n              id\n              url\n            }\n          }\n        }\n        time_ago\n        created_at\n        user {\n          id\n          name\n          avatar\n        }\n      }\n    }\n  }\n"]))),Ie=Object(ve["a"])(p||(p=Object(be["a"])(["\n  ","\n\n  mutation createChatMutation($uids: [Int!], $subject: String, $status: ChatStatus, $type: ChatType) {\n    createChat(uids: $uids, subject: $subject, status: $status, type: $type) {\n      ...chatFragment\n    }\n  }\n"])),we),Pe=Object(ve["a"])(f||(f=Object(be["a"])(["\n  mutation deleteChatMutation($chat_id: Int!) {\n    deleteChat(chat_id: $chat_id) {\n      id\n    }\n  }\n"]))),Ce=Object(ve["a"])(g||(g=Object(be["a"])(["\n  mutation addMembersMutation($chat_id: Int!, $uids: [Int!]) {\n    addParticipantsInGroupChat(chat_id: $chat_id, uids: $uids) {\n      id\n    }\n  }\n"]))),$e=Object(ve["a"])(h||(h=Object(be["a"])(["\n  mutation deleteMembersMutation($chat_id: Int!, $uids: [Int!]) {\n    removeParticipantsInGroupChat(chat_id: $chat_id, uids: $uids) {\n      id\n    }\n  }\n"]))),Se=Object(ve["a"])(y||(y=Object(be["a"])(["\n  mutation updateChatMutation($chat_id: Int!, $subject: String, $icon: String, $status: ChatStatus) {\n    updateChat(chat_id: $chat_id, subject: $subject, icon: $icon, status: $status) {\n      id\n      subject\n      icon\n      status\n    }\n  }\n"]))),xe=Object(ve["a"])(w||(w=Object(be["a"])(["\n  mutation sendMessageMutation(\n    $user_id: Int!\n    $chat_id: Int!\n    $message: String!\n    $url: String\n    $messageable_id: Int\n    $messageable_type: MessageableType\n  ) {\n    sendMessage(\n      user_id: $user_id\n      chat_id: $chat_id\n      text: $message\n      url: $url\n      messageable_id: $messageable_id\n      messageable_type: $messageable_type\n    ) {\n      id\n      message\n      body {\n        text\n        url\n      }\n      time_ago\n      created_at\n      user {\n        id\n        name\n        avatar\n      }\n      messageable_id\n      messageable_type\n      messageable {\n        ... on Article {\n          id\n          title\n          type\n          description\n          images {\n            id\n            url\n          }\n        }\n      }\n    }\n  }\n"]))),qe=Object(ve["a"])(k||(k=Object(be["a"])(["\n  fragment slimMovieFragment on Movie {\n    id\n    name\n    cover\n    score\n    count_series\n    actors\n    producer\n    year\n    type\n    finished\n  }\n"]))),Ve=Object(ve["a"])(M||(M=Object(be["a"])(["\n  ","\n\n  fragment movieFragment on Movie {\n    ...slimMovieFragment\n    region\n    country\n    introduction\n    hits\n    favorited\n    last_watch_series\n    last_watch_progress\n    count_comments\n    count_favorites\n  }\n"])),qe),Re=Object(ve["a"])(_||(_=Object(be["a"])(["\n  ","\n\n  query movieQuery($id: Int, $key: String) {\n    movie(movie_id: $id, movie_key: $key) {\n      ...movieFragment\n      series {\n        name\n        url\n      }\n      play_lines {\n        name\n        data\n      }\n    }\n  }\n"])),Ve),Ee=Object(ve["a"])(I||(I=Object(be["a"])(["\n  ","\n\n  query relatedMoviesQuery($movie_id: Int!, $limit: Int) {\n    relatedMovies(movie_id: $movie_id, limit: $limit) {\n      ...slimMovieFragment\n    }\n  }\n"])),qe),Le=Object(ve["a"])(P||(P=Object(be["a"])(["\n  ","\n  query showMovieHistoryQuery($first: Int = 10, $page: Int) {\n    showMovieHistory(first: $first, page: $page) {\n      paginatorInfo {\n        hasMorePages\n        currentPage\n      }\n      data {\n        id\n        progress\n        series_index\n        last_watch_time\n        movie {\n          ...slimMovieFragment\n          last_watch_series\n          last_watch_progress\n        }\n      }\n    }\n  }\n"])),qe),Ae=Object(ve["a"])(C||(C=Object(be["a"])(["\n  ","\n\n  query favoriteMoviesQuery($user_id: Int, $type: FavorableEnum = movies, $first: Int, $page: Int) {\n    userFavorites(user_id: $user_id, type: $type, first: $first, page: $page) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        id\n        movie {\n          ...slimMovieFragment\n        }\n      }\n    }\n  }\n"])),qe),Te=(Object(ve["a"])($||($=Object(be["a"])(["\n  ","\n\n  query editorChoiceQuery($title: String!, $page: Int) {\n    editorChoice(title: $title) {\n      id\n      title\n      summary\n      editor {\n        id\n        age\n        name\n        avatar\n      }\n      activities {\n        image_url\n        subtitle\n        movie {\n          id\n          name\n          actors\n          movie_key\n        }\n      }\n      movies(page: $page, first: 12) {\n        paginatorInfo {\n          hasMorePages\n          currentPage\n        }\n        data {\n          ...slimMovieFragment\n        }\n      }\n    }\n  }\n"])),qe),Object(ve["a"])(S||(S=Object(be["a"])(["\n  ","\n\n  # 获取指定位置置顶数据\n  query sticksQuery($place: String, $page: Int, $movies_page: Int) {\n    sticks(place: $place, page: $page) {\n      paginatorInfo {\n        hasMorePages\n        currentPage\n      }\n      data {\n        id\n        cover\n        place\n        editorChoice {\n          id\n          title\n          summary\n          activities {\n            id\n            title\n            image_url\n            subtitle\n            movie {\n              id\n              name\n              actors\n              movie_key\n              series {\n                name\n                url\n              }\n            }\n            activityable_type\n            activityable_id\n            image_url\n          }\n\n          editor {\n            id\n            age\n            name\n            avatar\n          }\n          movies(page: $movies_page, first: 12) {\n            paginatorInfo {\n              hasMorePages\n              currentPage\n            }\n            data {\n              ...slimMovieFragment\n            }\n          }\n        }\n      }\n    }\n  }\n"])),qe)),Ne=Object(ve["a"])(x||(x=Object(be["a"])(["\n  ","\n\n  query categoryMovieQuery(\n    $region: MovieCategory\n    $type: String\n    $style: String\n    $country: String\n    $lang: String\n    $first: Int\n    $page: Int\n    $year: String\n    $scopes: ScopesType\n  ) {\n    categoryMovie(\n      region: $region\n      type: $type\n      country: $country\n      lang: $lang\n      style: $style\n      first: $first\n      page: $page\n      year: $year\n      scopes: $scopes\n    ) {\n      paginatorInfo {\n        hasMorePages\n        currentPage\n      }\n      data {\n        ...slimMovieFragment\n      }\n    }\n  }\n"])),qe),Fe=Object(ve["a"])(q||(q=Object(be["a"])(["\n  ","\n\n  query channelsQuery($page: Int, $first: Int, $sort: Sort = LASTEST) {\n    channels(page: $page, first: $first, sort: $sort) {\n      paginatorInfo {\n        total\n        hasMorePages\n        currentPage\n      }\n      data {\n        id\n        title\n        sketch\n        cover\n        state\n        click_count\n        serie_count\n        movie {\n          ...slimMovieFragment\n        }\n      }\n    }\n  }\n"])),qe),De=Object(ve["a"])(V||(V=Object(be["a"])(["\n  ","\n\n  query searchMoviesQuery($keyword: String!, $page: Int) {\n    searchMovies(keyword: $keyword, page: $page) {\n      paginatorInfo {\n        total\n        currentPage\n        hasMorePages\n      }\n      data {\n        ...slimMovieFragment\n        introduction\n      }\n    }\n  }\n"])),qe),Ue=Object(ve["a"])(R||(R=Object(be["a"])(["\n  query searchLogsQuery {\n    searchLogs\n  }\n"]))),ze=Object(ve["a"])(E||(E=Object(be["a"])(["\n  mutation saveWatchProgressMutation($movie_id: Int!, $series_index: Int, $progress: Int) {\n    saveWatchProgress(movie_id: $movie_id, series_index: $series_index, progress: $progress)\n  }\n"]))),Ze=Object(ve["a"])(L||(L=Object(be["a"])(["\n  fragment postFragment on Post {\n    id\n    spider {\n      id\n    }\n    description\n    cover\n    status\n    media_type\n    liked\n    count_visits\n    count_likes\n    count_comments\n    review_id\n    review_day\n    is_ad\n    created_at\n    current_episode\n    user {\n      id\n      name\n      avatar\n      followed_status\n      gender\n      age\n      introduction\n      count_likes\n      count_followings\n      count_followers\n    }\n    tag_names\n    images {\n      id\n      url\n      width\n      height\n    }\n    video {\n      id\n      url\n      cover\n      dynamic_cover\n      duration\n      width\n      height\n      isHd\n      json\n    }\n    movie {\n      id\n      name\n      introduction\n      cover\n    }\n    collections {\n      id\n      logo\n      name\n      description\n      count_posts\n    }\n  }\n"]))),He=Object(ve["a"])(A||(A=Object(be["a"])(["\n  ","\n\n  query postQuery($id: Int!) {\n    post(id: $id) {\n      ...postFragment\n    }\n  }\n"])),Ze),Be=Object(ve["a"])(T||(T=Object(be["a"])(["\n  ","\n\n  query fastRecommendPostsQuery {\n    fastRecommendPosts {\n      ...postFragment\n    }\n  }\n"])),Ze),We=Object(ve["a"])(N||(N=Object(be["a"])(["\n  ","\n\n  query publicPostsQuery($user_id: Int, $first: Int = 10, $page: Int) {\n    publicPosts(user_id: $user_id, first: $first, page: $page) {\n      paginatorInfo {\n        hasMorePages\n        currentPage\n      }\n      data {\n        ...postFragment\n      }\n    }\n  }\n"])),Ze),Qe=Object(ve["a"])(F||(F=Object(be["a"])(["\n  ","\n\n  query userPostsQuery($user_id: Int!, $filter: PostFilter, $page: Int, $first: Int) {\n    userPosts(user_id: $user_id, filter: $filter, page: $page, first: $first) {\n      paginatorInfo {\n        hasMorePages\n        currentPage\n      }\n      data {\n        ...postFragment\n      }\n    }\n  }\n"])),Ze),Ge=Object(ve["a"])(D||(D=Object(be["a"])(["\n  fragment collectionFragment on Collection {\n    id\n    logo\n    name\n    description\n    count_articles\n    count_follows\n    count_posts\n    count_views\n    updated_to_episode\n    followed\n    user {\n      id\n      name\n      avatar\n    }\n    movie {\n      id\n      name\n      introduction\n      cover\n    }\n  }\n"]))),Je=(Object(ve["a"])(U||(U=Object(be["a"])(["\n  ","\n\n  query randomCollectionsQuery($page: Int) {\n    randomCollections(page: $page) {\n      paginatorInfo {\n        hasMorePages\n        currentPage\n      }\n      data {\n        ...collectionFragment\n      }\n    }\n  }\n"])),Ge),Object(ve["a"])(z||(z=Object(be["a"])(["\n  ","\n  ","\n\n  query collectionPostsQuery($id: Int!, $page: Int, $count: Int) {\n    collection(collection_id: $id) {\n      type\n      status\n      ...collectionFragment\n      posts(page: $page, count: $count) {\n        paginatorInfo {\n          lastPage\n          currentPage\n          hasMorePages\n        }\n        data {\n          ...postFragment\n          collections {\n            ...collectionFragment\n          }\n        }\n      }\n    }\n  }\n"])),Ze,Ge)),Ke=Object(ve["a"])(Z||(Z=Object(be["a"])(["\n  fragment commentFragment on Comment {\n    id\n    body\n    likes\n    liked\n    time_ago\n    count_replies\n    commentable_id\n    user {\n      id\n      name\n      avatar\n      is_admin\n    }\n  }\n"]))),Ye=Object(ve["a"])(H||(H=Object(be["a"])(["\n  ","\n\n  query commentsQuery(\n    $type: CommentType!\n    $id: Int!\n    $page: Int\n    $first: Int\n    $user_id: Int\n    $order: [OrderByClause!]\n  ) {\n    comments(\n      commentable_type: $type\n      commentable_id: $id\n      page: $page\n      first: $first\n      user_id: $user_id\n      orderBy: $order\n    ) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n        total\n      }\n      data {\n        ...commentFragment\n        # comments(first: 3) {\n        #   data {\n        #     ...commentFragment\n        #   }\n        # }\n      }\n    }\n  }\n"])),Ke),Xe=Object(ve["a"])(B||(B=Object(be["a"])(["\n  ","\n\n  query commentRepliesQuery($id: Int!, $page: Int, $first: Int) {\n    comment(id: $id) {\n      id\n      comments(page: $page, first: $first) {\n        paginatorInfo {\n          currentPage\n          hasMorePages\n          total\n        }\n        data {\n          ...commentFragment\n        }\n      }\n    }\n  }\n"])),Ke),et=Object(ve["a"])(W||(W=Object(be["a"])(["\n  ","\n\n  mutation addCommentMutation($type: CommentType!, $id: Int!, $body: String!) {\n    addComment(commentable_type: $type, commentable_id: $id, body: $body) {\n      ...commentFragment\n    }\n  }\n"])),Ke),tt=Object(ve["a"])(Q||(Q=Object(be["a"])(["\n  mutation deleteCommentMutation($id: Int!) {\n    deleteComment(id: $id)\n  }\n"]))),nt=Object(ve["a"])(G||(G=Object(be["a"])(["\n  fragment notificationFragment on Notification {\n    id\n    type\n    time_ago\n    data_id\n    data_type\n    data_message\n    data_cover\n    data_description\n    data_url\n    user {\n      id\n      name\n      avatar\n      followed_status\n      gender\n      age\n      introduction\n    }\n  }\n"]))),ct=Object(ve["a"])(J||(J=Object(be["a"])(["\n  ","\n\n  query likeNotificationsQuery($page: Int) {\n    notifications(type: GROUP_LIKES, page: $page) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        ...notificationFragment\n      }\n    }\n  }\n"])),nt),at=Object(ve["a"])(K||(K=Object(be["a"])(["\n  ","\n\n  query commentNotificationQuery($page: Int) {\n    notifications(type: GROUP_COMMENT, page: $page) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        ...notificationFragment\n      }\n    }\n  }\n"])),nt),ot=(Object(ve["a"])(Y||(Y=Object(be["a"])(["\n  query followersNotificationsQuery($page: Int) {\n    notifications(type: USER_FOLLOWED, page: $page) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        id\n        type\n        time_ago\n        user {\n          id\n          name\n          avatar\n          followed_status\n          gender\n          age\n          introduction\n        }\n      }\n    }\n  }\n"]))),Object(ve["a"])(X||(X=Object(be["a"])(["\n  query publicNoticesQuery($page: Int) {\n    notices(page: $page) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        id\n        type\n        title\n        content\n        expires_at #过期时间\n        created_at\n        updated_at\n        user {\n          id\n          name\n          avatar\n          balance\n        }\n      }\n    }\n  }\n"])))),it=(Object(ve["a"])(ee||(ee=Object(be["a"])(["\n  query unreadsQuery {\n    me {\n      id\n      unread_comments\n      unread_likes\n      unread_follows\n      unread_others\n      unread_tips\n      unread_chat\n    }\n  }\n"]))),Object(ve["a"])(te||(te=Object(be["a"])(["\n  mutation toggleFavoriteMutation($type: FavorableEnum!, $id: Int!) {\n    toggleFavorite(type: $type, id: $id) {\n      id\n      favorited\n    }\n  }\n"])))),rt=Object(ve["a"])(ne||(ne=Object(be["a"])(["\n  mutation createReportMutation($id: Int!, $reason: String, $type: ReportType) {\n    createReport(id: $id, reason: $reason, type: $type) {\n      id\n      reason\n    }\n  }\n"]))),lt=Object(ve["a"])(ce||(ce=Object(be["a"])(["\n  mutation reportMovieException($movie_id: Int!, $source_name: String!) {\n    reportMovieException(movie_id: $movie_id, source_name: $source_name)\n  }\n"]))),st=Object(ve["a"])(ae||(ae=Object(be["a"])(["\n  mutation createFeedbackMutation($content: String!, $images: [String], $contact: String, $video_id: Int) {\n    createFeedback(content: $content, images: $images, contact: $contact, video_id: $video_id) {\n      id\n      user {\n        id\n        name\n        avatar\n        gender\n      }\n      images {\n        id\n        width\n        height\n        url\n        thumbnail\n      }\n      content\n      contact\n      status_msg\n      created_at\n      hot\n      comments {\n        id\n        body\n      }\n    }\n  }\n"]))),ut=Object(ve["a"])(oe||(oe=Object(be["a"])(['\n  query followedUsersQuery($user_id: Int!, $page: Int, $filter: FollowedEnumType) {\n    follows(user_id: $user_id, page: $page, followed_type: "users", filter: $filter) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        id\n        name\n        people {\n          id\n          age\n          name\n          avatar\n          gender\n          count_articles\n          count_likes\n          introduction\n          followed_status\n          count_followings\n          count_followers\n        }\n      }\n    }\n  }\n']))),dt=Object(ve["a"])(ie||(ie=Object(be["a"])(['\n  query userFollowersQuery($user_id: Int!, $page: Int, $filter: FollowedEnumType) {\n    followers(followed_id: $user_id, page: $page, followed_type: "users", filter: $filter) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        id\n        user {\n          id\n          age\n          name\n          avatar\n          gender\n          count_articles\n          count_likes\n          introduction\n          followed_status\n          count_followings\n          count_followers\n        }\n      }\n    }\n  }\n']))),bt=Object(ve["a"])(re||(re=Object(be["a"])(["\n  mutation toggleFollowMutation($id: Int!, $type: FollowedEnumType!) {\n    toggleFollow(id: $id, type: $type) {\n      id\n      isFollowed\n    }\n  }\n"]))),vt=Object(ve["a"])(le||(le=Object(be["a"])(["\n  mutation toggleLikeMutation($id: Int!, $type: LikeType!) {\n    toggleLike(liked_id: $id, liked_type: $type) {\n      id\n      isLiked\n    }\n  }\n"]))),Ot=Object(ve["a"])(se||(se=Object(be["a"])(["\n  query feedbacksQuery($type: FeedbackEnum!, $page: Int, $first: Int){\n    feedbacks(type: $type, page: $page, first: $first){\n      paginatorInfo {\n        currentPage\n        hasMorePages\n        total\n      }\n      data{\n        id\n        content\n        count_comment\n        time_ago\n        user{\n          id\n          name\n          avatar\n        }\n      }\n    }\n  }\n"]))),mt=Object(ve["a"])(ue||(ue=Object(be["a"])(["\n  mutation createFeedbackMutation($type: FeedbackEnum!, $content: String!) {\n    createFeedback(type: $type, content: $content) {\n    \tid\n      content\n      count_comment\n      time_ago\n      user{\n        id\n        name\n        avatar\n      }\n    }\n  }\n"]))),jt=Object(ve["a"])(de||(de=Object(be["a"])(["\n  mutation deleteFeedbackMutation($id: Int!){\n    deleteFeedback(id: $id){\n      id\n      content\n    }\n  }\n"]))),pt=n("7a23"),ft=n("f685"),gt=n("d257");function ht(e,t){var n=Object(ft["d"])(We,e,t),c=n.result,a=n.loading,o=n.error,i=n.fetchMore,r=Object(ft["e"])(c,[],(function(e){var t;return null===e||void 0===e||null===(t=e.publicPosts)||void 0===t?void 0:t.data})),l=Object(ft["e"])(c,{},(function(e){var t;return null===e||void 0===e||null===(t=e.publicPosts)||void 0===t?void 0:t.paginatorInfo})),s=Object(pt["R"])(null===l||void 0===l?void 0:l.currentPage),u=Object(pt["R"])(null===l||void 0===l?void 0:l.hasMorePages);Object(pt["ib"])(l,(function(e,t){s.value=null===e||void 0===e?void 0:e.currentPage,u.value=null===e||void 0===e?void 0:e.hasMorePages}));var d=Object(pt["R"])(!1),b=Object(pt["i"])((function(){return a.value||d.value||!u.value}));function v(){console.log("===================================="),console.log("loadMore",s.value),console.log("===================================="),d.value=!0,i({variables:{page:s.value+1},updateQuery:function(e,t){var n=t.fetchMoreResult;return d.value=!1,n?Object(gt["c"])(e,n):e}})}return{loading:a,error:o,disabled:b,loadMore:v,hasMorePages:u,publicPosts:r}}function yt(e,t){var n=Object(ft["d"])(Ne,e,t),c=n.result,a=n.loading,o=n.error,i=n.fetchMore,r=Object(ft["e"])(c,[],(function(e){var t;return null===e||void 0===e||null===(t=e.categoryMovie)||void 0===t?void 0:t.data})),l=Object(ft["e"])(c,{},(function(e){var t;return null===e||void 0===e||null===(t=e.categoryMovie)||void 0===t?void 0:t.paginatorInfo})),s=Object(pt["R"])(null===l||void 0===l?void 0:l.currentPage),u=Object(pt["R"])(null===l||void 0===l?void 0:l.hasMorePages);Object(pt["ib"])(l,(function(e,t){s.value=null===e||void 0===e?void 0:e.currentPage,u.value=null===e||void 0===e?void 0:e.hasMorePages}));var d=Object(pt["R"])(!1),b=Object(pt["i"])((function(){return a.value||d.value||!u.value}));function v(){console.log("===================================="),console.log("loadMore",s.value),console.log("===================================="),d.value=!0,i({variables:{page:s.value+1},updateQuery:function(e,t){var n=t.fetchMoreResult;return d.value=!1,n?Object(gt["c"])(e,n):e}})}return{loading:a,error:o,disabled:b,loadMore:v,hasMorePages:u,categoryMovie:r}}n("4de4"),n("b0c0");function wt(){var e=Object(ft["d"])(Ue),t=e.result,n=e.loading,c=e.error,a=e.refetch,o=Object(ft["e"])(t,[],(function(e){return null===e||void 0===e?void 0:e.searchLogs.filter((function(e){return e&&(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e?void 0:e.name)}))}));return{loading:n,error:c,refetch:a,searchLogs:o}}function kt(e,t){var n=Object(ft["d"])(De,e,t),c=n.result,a=n.loading,o=n.error,i=n.refetch,r=Object(ft["e"])(c,[],(function(e){var t;return null===e||void 0===e||null===(t=e.searchMovies)||void 0===t?void 0:t.data})),l=Object(ft["e"])(c,{},(function(e){var t,n;return null===e||void 0===e||null===(t=e.searchMovies)||void 0===t||null===(n=t.paginatorInfo)||void 0===n?void 0:n.total}));return{loading:a,error:o,refetch:i,searchMovies:r,total:l}}function Mt(e,t){var n=Object(ft["d"])(Re,e,t),c=n.result,a=n.loading,o=n.error,i=n.refetch,r=Object(ft["e"])(c,null,(function(e){return null===e||void 0===e?void 0:e.movie}));return{loading:a,error:o,refetch:i,movie:r}}function _t(e,t){var n=Object(ft["d"])(Ee,e,t),c=n.result,a=n.loading,o=n.error,i=n.refetch,r=Object(ft["e"])(c,[],(function(e){return null===e||void 0===e?void 0:e.relatedMovies}));return{loading:a,error:o,refetch:i,relatedMovies:r}}var It=n("4995");function Pt(e,t){var n=Object(ft["c"])(vt,(function(){return{variables:e,options:t}})),c=n.mutate,a=n.onDone,o=n.onError,i=n.loading;return o((function(e){It["a"].error("".concat(Object(gt["a"])(e)))})),{toggleLike:c,onDone:a,onError:o,loading:i}}function Ct(e,t){var n=Object(ft["c"])(it,(function(){return{variables:e,options:t}})),c=n.mutate,a=n.onDone,o=n.onError,i=n.loading;return o((function(e){It["a"].error("".concat(Object(gt["a"])(e)))})),{toggleFavorite:c,onDone:a,onError:o,loading:i}}function $t(e,t){var n=Object(ft["d"])(Ae,e,t),c=n.result,a=n.loading,o=n.error,i=n.fetchMore,r=Object(ft["e"])(c,null,(function(e){return null===e||void 0===e?void 0:e.userFavorites.data})),l=Object(ft["e"])(c,{},(function(e){var t;return null===e||void 0===e||null===(t=e.userFavorites)||void 0===t?void 0:t.paginatorInfo})),s=Object(pt["R"])(null===l||void 0===l?void 0:l.currentPage),u=Object(pt["R"])(null===l||void 0===l?void 0:l.hasMorePages);Object(pt["ib"])(l,(function(e,t){s.value=null===e||void 0===e?void 0:e.currentPage,u.value=null===e||void 0===e?void 0:e.hasMorePages}));var d=Object(pt["R"])(!1),b=Object(pt["i"])((function(){return a.value||d.value||!u.value}));function v(){u.value&&!d.value&&(d.value=!0,i({variables:{page:s.value+1},updateQuery:function(e,t){var n=t.fetchMoreResult;return d.value=!1,n?Object(gt["c"])(e,n):e}}))}return{loading:a,error:o,disabled:b,loadMore:v,hasMorePages:u,favoriteMovies:r}}function St(e,t){var n=Object(ft["d"])(Le,e,t),c=n.result,a=n.loading,o=n.error,i=n.fetchMore,r=Object(ft["e"])(c,[],(function(e){var t;return null===e||void 0===e||null===(t=e.showMovieHistory)||void 0===t?void 0:t.data})),l=Object(ft["e"])(c,{},(function(e){var t;return null===e||void 0===e||null===(t=e.showMovieHistory)||void 0===t?void 0:t.paginatorInfo})),s=Object(pt["R"])(null===l||void 0===l?void 0:l.currentPage),u=Object(pt["R"])(null===l||void 0===l?void 0:l.hasMorePages);Object(pt["ib"])(l,(function(e,t){s.value=null===e||void 0===e?void 0:e.currentPage,u.value=null===e||void 0===e?void 0:e.hasMorePages}));var d=Object(pt["R"])(!1),b=Object(pt["i"])((function(){return a.value||d.value||!u.value}));function v(){u.value&&!d.value&&(d.value=!0,i({variables:{page:s.value+1},updateQuery:function(e,t){var n=t.fetchMoreResult;return d.value=!1,n?Object(gt["c"])(e,n):e}}))}return{loading:a,error:o,disabled:b,loadMore:v,hasMorePages:u,moviesHistory:r}}function xt(e,t){var n=Object(ft["d"])(ut,e,t),c=n.result,a=n.loading,o=n.error,i=n.fetchMore,r=n.refetch,l=Object(ft["e"])(c,null,(function(e){return null===e||void 0===e?void 0:e.follows.data})),s=Object(ft["e"])(c,{},(function(e){var t;return null===e||void 0===e||null===(t=e.follows)||void 0===t?void 0:t.paginatorInfo})),u=Object(pt["R"])(null===s||void 0===s?void 0:s.currentPage),d=Object(pt["R"])(null===s||void 0===s?void 0:s.hasMorePages);Object(pt["ib"])(s,(function(e,t){u.value=null===e||void 0===e?void 0:e.currentPage,d.value=null===e||void 0===e?void 0:e.hasMorePages}));var b=Object(pt["R"])(!1),v=Object(pt["i"])((function(){return!a.value&&!o.value&&!d.value})),O=Object(pt["i"])((function(){return a.value||b.value||!d.value}));function m(){d.value&&!b.value&&(b.value=!0,i({variables:{page:u.value+1},updateQuery:function(e,t){var n=t.fetchMoreResult;return b.value=!1,n?Object(gt["c"])(e,n):e}}))}return{loading:a,error:o,refetch:r,followedUsers:l,loadMore:m,loadingMore:b,isFinished:v,disabled:O}}function qt(e,t){var n=Object(ft["d"])(dt,e,t),c=n.result,a=n.loading,o=n.error,i=n.fetchMore,r=n.refetch,l=Object(ft["e"])(c,null,(function(e){return null===e||void 0===e?void 0:e.followers.data})),s=Object(ft["e"])(c,{},(function(e){var t;return null===e||void 0===e||null===(t=e.followers)||void 0===t?void 0:t.paginatorInfo})),u=Object(pt["R"])(null===s||void 0===s?void 0:s.currentPage),d=Object(pt["R"])(null===s||void 0===s?void 0:s.hasMorePages);Object(pt["ib"])(s,(function(e,t){u.value=null===e||void 0===e?void 0:e.currentPage,d.value=null===e||void 0===e?void 0:e.hasMorePages}));var b=Object(pt["R"])(!1),v=Object(pt["i"])((function(){return!a.value&&!o.value&&!d.value})),O=Object(pt["i"])((function(){return a.value||b.value||!d.value}));function m(){d.value&&!b.value&&(b.value=!0,i({variables:{page:u.value+1},updateQuery:function(e,t){var n=t.fetchMoreResult;return b.value=!1,n?Object(gt["c"])(e,n):e}}))}return{loading:a,error:o,refetch:r,followers:l,loadMore:m,loadingMore:b,isFinished:v,disabled:O}}function Vt(e,t){var n=Object(ft["d"])(He,e,t),c=n.result,a=n.loading,o=n.error,i=n.refetch,r=Object(ft["e"])(c,null,(function(e){return null===e||void 0===e?void 0:e.post})),l=Object(ft["e"])(c,null,(function(e){var t;return null===e||void 0===e||null===(t=e.post)||void 0===t?void 0:t.collections}));return{loading:a,error:o,refetch:i,post:r,collections:l}}var Rt=n("2909");function Et(e,t){var n=Object(ft["d"])(ke,e,t),c=n.result,a=n.loading,o=(n.error,n.fetchMore),i=n.refetch,r=Object(ft["e"])(c,[],(function(e){var t;return Object(Rt["a"])(null===e||void 0===e||null===(t=e.chats)||void 0===t?void 0:t.data)})),l=Object(ft["e"])(c,{},(function(e){var t;return null===e||void 0===e||null===(t=e.chats)||void 0===t?void 0:t.paginatorInfo})),s=Object(pt["R"])(null===l||void 0===l?void 0:l.currentPage),u=Object(pt["R"])(null===l||void 0===l?void 0:l.hasMorePages);Object(pt["ib"])(l,(function(e,t){s.value=null===e||void 0===e?void 0:e.currentPage,u.value=null===e||void 0===e?void 0:e.hasMorePages}));var d=Object(pt["R"])(!1);Object(pt["i"])((function(){return a.value||d.value||!u.value}));function b(){d.value=!0,o({variables:{page:s.value+1},updateQuery:function(e,t){var n=t.fetchMoreResult;return d.value=!1,n?Object(gt["c"])(e,n):e}})}return{chats:r,loading:a,refetch:i,loadMore:b,loadingMore:d,hasMorePages:u}}function Lt(e,t){var n=Object(ft["d"])(_e,e,t),c=n.result,a=n.loading,o=n.error,i=n.fetchMore,r=n.refetch,l=Object(ft["e"])(c,[],(function(e){var t,n;return Array.isArray(null===e||void 0===e||null===(t=e.messages)||void 0===t?void 0:t.data)?Object(Rt["a"])(null===e||void 0===e||null===(n=e.messages)||void 0===n?void 0:n.data).reverse():[]})),s=Object(ft["e"])(c,{},(function(e){var t;return null===e||void 0===e||null===(t=e.messages)||void 0===t?void 0:t.paginatorInfo})),u=Object(pt["R"])(null===s||void 0===s?void 0:s.currentPage),d=Object(pt["R"])(null===s||void 0===s?void 0:s.hasMorePages);Object(pt["ib"])(s,(function(e,t){u.value=null===e||void 0===e?void 0:e.currentPage,d.value=null===e||void 0===e?void 0:e.hasMorePages}));var b=Object(pt["R"])(!1),v=Object(pt["i"])((function(){return a.value||b.value||!d.value}));function O(){b.value=!0,i({variables:{page:u.value+1},updateQuery:function(e,t){var n=t.fetchMoreResult;return b.value=!1,n?Object(gt["c"])(e,n):e}})}return{error:o,refetch:r,messages:l,disabled:v,loading:a,loadMore:O,hasMorePages:d,loadingMore:b,currentPage:u}}function At(e,t){var n=Object(ft["d"])(ye,e,t),c=n.result,a=n.loading,o=n.error,i=n.refetch,r=n.fetchMore,l=Object(ft["e"])(c,[],(function(e){var t;return null===e||void 0===e||null===(t=e.searchUsers)||void 0===t?void 0:t.data})),s=Object(ft["e"])(c,{},(function(e){var t;return null===e||void 0===e||null===(t=e.searchUsers)||void 0===t?void 0:t.paginatorInfo})),u=Object(pt["R"])(null===s||void 0===s?void 0:s.currentPage),d=Object(pt["R"])(null===s||void 0===s?void 0:s.hasMorePages);Object(pt["ib"])(s,(function(e,t){u.value=null===e||void 0===e?void 0:e.currentPage,d.value=null===e||void 0===e?void 0:e.hasMorePages}));var b=Object(pt["R"])(!1),v=Object(pt["i"])((function(){return!a.value&&!o.value&&!d.value})),O=Object(pt["i"])((function(){return a.value||b.value||!d.value}));function m(){d.value&&!b.value&&(b.value=!0,r({variables:{page:u.value+1},updateQuery:function(e,t){var n=t.fetchMoreResult;return b.value=!1,n?Object(gt["c"])(e,n):e}}))}return{loading:a,error:o,refetch:i,searchUsers:l,hasMorePages:d,loadMore:m,loadingMore:b,isFinished:v,disabled:O}}var Tt=n("5530"),Nt=n("ad17"),Ft=n("dd2f"),Dt=n("30c8"),Ut=n("365c"),zt=n("957f"),Zt=n("0613"),Ht=n("2de2"),Bt=Object(Nt["a"])([new Ft["a"]((function(e,t){var n=Zt["a"].getItem("user");return e.setContext((function(e){var t=e.headers;return{headers:Object(Tt["a"])(Object(Tt["a"])({},t),{},{authorization:null!==n&&void 0!==n&&n.token?"Bearer ".concat(null===n||void 0===n?void 0:n.token):null})}})),t(e)})),new Dt["a"]({uri:Ht["l"]})]),Wt=new Ut["a"]({link:Bt,cache:new zt["a"]})},a718:function(e,t,n){"use strict";n("0214")},aa66:function(e,t,n){},ac4c:function(e,t,n){"use strict";n("4fda")},b1f8:function(e,t,n){},b54a:function(e,t,n){"use strict";n("e800")},b58e:function(e,t,n){},ba7c:function(e,t,n){"use strict";n("b1f8")},be16:function(e,t,n){"use strict";n("ff1c")},be7c:function(e,t,n){"use strict";var c=n("7a23");Object(c["P"])("data-v-6e3f7528");var a={id:"comment-module"},o={class:"module-title"},i={class:"title"},r=Object(c["n"])("div",{class:"divider-wrap"},[Object(c["n"])("div",{class:"divider"})],-1),l={class:"input-module"},s={class:"creator"},u=["href"],d={class:"avatar-wrap"},b=["src"],v=Object(c["n"])("div",{class:"avatar-wrap"},[Object(c["n"])("img",{class:"avatar",src:"/img/noavatar.png",alt:"点击登录"})],-1),O=[v],m={class:"editor-container"},j={key:1,class:"comments-wrap"},p={key:0,class:"comment-list"},f=Object(c["n"])("div",{class:"division"},null,-1),g={key:1,class:"comments-empty"},h={key:2,class:"comments-pagination"};function y(e,t,n,v,y,w){var k,M=Object(c["V"])("CommentEditor"),_=Object(c["V"])("Skeleton"),I=Object(c["V"])("CommentItem"),P=Object(c["V"])("Empty"),C=Object(c["V"])("el-pagination");return Object(c["M"])(),Object(c["m"])("div",a,[Object(c["n"])("div",o,[Object(c["n"])("span",i,"全部评论"+Object(c["Z"])(v.total>10?"(".concat(v.total,")"):""),1),r]),Object(c["n"])("div",l,[Object(c["n"])("div",s,[w.user.id?(Object(c["M"])(),Object(c["m"])("a",{key:0,href:"user/".concat(w.user.id),class:"user-face"},[Object(c["n"])("div",d,[Object(c["n"])("img",{class:"avatar",src:w.user.avatar,alt:"用户头像"},null,8,b)])],8,u)):(Object(c["M"])(),Object(c["m"])("a",{key:1,onClick:t[0]||(t[0]=function(){return w.showLoginModal&&w.showLoginModal.apply(w,arguments)}),class:"user-face"},O))]),Object(c["n"])("div",m,[Object(c["q"])(M,{onAddComment:v.addComment,"commentable-id":n.commentableId,type:n.type},null,8,["onAddComment","commentable-id","type"])])]),v.loading?(Object(c["M"])(),Object(c["k"])(_,{key:0,type:"comments"})):(Object(c["M"])(),Object(c["m"])("div",j,[(null===(k=v.data)||void 0===k?void 0:k.length)>0?(Object(c["M"])(),Object(c["m"])("div",p,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(v.data,(function(e){return Object(c["M"])(),Object(c["k"])(I,{key:e.id,comment:e,onDeleteComment:v.refetch},{default:Object(c["kb"])((function(){return[f]})),_:2},1032,["comment","onDeleteComment"])})),128))])):(Object(c["M"])(),Object(c["m"])("div",g,[Object(c["q"])(P,{type:"comment",description:"暂无评论"})]))])),v.total>10?(Object(c["M"])(),Object(c["m"])("div",h,[Object(c["q"])(C,{background:"","page-size":10,total:v.total,layout:"prev, pager, next","hide-on-single-page":!0,onCurrentChange:v.onPageChange},null,8,["total","onCurrentChange"])])):Object(c["l"])("",!0)])}Object(c["N"])();var w=n("5530"),k=n("2909"),M=(n("a9e3"),n("a434"),n("f685")),_=n("a684");n("b0c0");Object(c["P"])("data-v-1e88060a");var I=["data-id"],P={class:"user-face"},C=["href"],$={class:"user-avatar"},S=["src"],x={class:"item-content"},q={class:"user-item"},V={class:"user-info"},R=["href"],E={class:"time"},L=Object(c["n"])("div",{class:"operation"},[Object(c["n"])("svg",{t:"1634525354353",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2378"},[Object(c["n"])("path",{d:"M146.030911 517.349845m-87.923492 0a87.923492 87.923492 0 1 0 175.846984 0 87.923492 87.923492 0 1 0-175.846984 0Z",fill:"","p-id":"2379"}),Object(c["n"])("path",{d:"M512 512m-87.923492 0a87.923492 87.923492 0 1 0 175.846984 0 87.923492 87.923492 0 1 0-175.846984 0Z",fill:"","p-id":"2380"}),Object(c["n"])("path",{d:"M873.565802 512m-87.923491 0a87.923492 87.923492 0 1 0 175.846983 0 87.923492 87.923492 0 1 0-175.846983 0Z",fill:"","p-id":"2381"})])],-1),A={class:"operation-popover"},T=Object(c["n"])("span",{class:"item-text"},"删除评论",-1),N=[T],F=Object(c["n"])("span",{class:"item-text"},"举报评论",-1),D=[F],U={class:"body-text"},z={class:"item-tools"},Z={class:"tool-btn"},H={key:0,class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},B=Object(c["n"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.215 9.392C19.313 7.827 21.116 7 23.1 7c3.778 0 6.921 3.278 6.921 7.175v.001l-.002.256c-.002.085-.003.128.003.142-.014.82-.156 1.497-.407 2.391-.143.161-.275.464-.407.798-.209.323-.287.48-.408.797a15.27 15.27 0 01-.31.499c-1.027 1.585-2.428 3.168-3.825 4.565-2.1 2.114-4.232 3.872-5.163 4.64-.258.212-.424.349-.47.396-.332.33-.663.34-.994.34h-.028c-.68 0-1.02-.34-1.36-.68a3.126 3.126 0 00-.192-.16c-1.032-.761-3.366-2.627-5.553-4.876-1.656-1.687-3.248-3.62-4.122-5.51-.34-.681-.764-2.301-.784-3.2.007-.007.006-.05.004-.137-.002-.063-.004-.15-.004-.262C6 10.276 9.141 7 12.922 7c1.98 0 3.785.827 5.293 2.392z",fill:"#ff1459","fill-opacity":"0.9"},null,-1),W=[B],Q={key:1,class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},G=Object(c["n"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.836 7C9.49 7 6 10.726 6 15.064c0 .108.002.194.003.253a1.62 1.62 0 00-.003.14c.013.582.146 1.284.293 1.87.143.572.344 1.208.57 1.668.907 1.952 2.495 3.846 4.023 5.402a46.034 46.034 0 005.138 4.51l.03.025.023.018c.339.34 1.055 1.05 2.331 1.05h.038c.361 0 1.224 0 1.996-.752l.063-.053.273-.227.006-.005c.847-.698 2.828-2.33 4.782-4.301 1.25-1.254 2.547-2.71 3.538-4.214.135-.204.265-.41.388-.617.049-.08.09-.166.123-.255.044-.115.065-.16.082-.194.019-.037.05-.093.131-.219.057-.089.106-.183.145-.281.055-.14.095-.235.127-.299l.006-.013a1.62 1.62 0 00.285-.562c.243-.863.41-1.623.426-2.558 0-.043 0-.086-.003-.129a10.365 10.365 0 00.003-.31C30.788 10.697 27.308 7 22.98 7c-1.641 0-3.238.508-4.498 1.532C17.119 7.545 15.547 7 13.836 7zm13.744 8.066v.042l-.002.15v.008l-.002.137c0 .015 0 .041.002.074-.014.44-.084.837-.233 1.402a3.667 3.667 0 00-.151.278c-.064.13-.122.265-.174.39a4.472 4.472 0 00-.376.738c-.076.125-.156.25-.24.378l-.002.002c-.823 1.25-1.954 2.534-3.13 3.713l-.003.003c-1.835 1.851-3.712 3.4-4.55 4.09l-.062.051-.235.195-.092-.091a3.812 3.812 0 00-.294-.254l-.012-.01a42.76 42.76 0 01-4.82-4.226l-.006-.006c-1.452-1.477-2.736-3.062-3.406-4.512a1.665 1.665 0 00-.021-.046c-.075-.15-.213-.533-.338-1.033a6.736 6.736 0 01-.193-1.074 1.837 1.837 0 000-.2v-.008a6.941 6.941 0 01-.003-.193c0-2.667 2.154-4.827 4.6-4.827 1.285 0 2.5.523 3.588 1.653a1.618 1.618 0 002.491-.193c.642-.914 1.732-1.46 3.064-1.46 2.444 0 4.6 2.162 4.6 4.827v.002z","fill-opacity":"0.9"},null,-1),J=[G],K=Object(c["n"])("div",{class:"split"},null,-1),Y={class:"tool-btn"},X=Object(c["n"])("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},[Object(c["n"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 17.617C6 11.561 11.578 7 18 7s12 4.561 12 10.617c0 3.036-1.51 5.529-3.749 7.728-.187.184-.381.364-.58.54-1.925 2.082-3.911 3.417-5.847 3.973-.77.221-1.702.242-2.454-.381-.68-.564-.837-1.361-.878-1.823a3.848 3.848 0 01-.01-.136C10.898 26.91 6 23.264 6 17.617zM18 10c-5.177 0-9 3.602-9 7.617 0 3.867 3.794 6.992 9.152 6.992h1.5v1.717l-.06.206c0-.001-.03.104-.06.259 1.155-.46 2.515-1.394 3.984-2.996l.056-.06.063-.055c.182-.16.353-.318.514-.475C26.075 21.312 27 19.543 27 17.617 27 13.602 23.177 10 18 10z","fill-opacity":"0.9"})],-1),ee=Object(c["n"])("span",null,"回复",-1),te=[X,ee],ne={key:0,class:"editor-container"},ce={key:0,class:"replies"},ae=Object(c["n"])("svg",{width:"13",height:"13",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 13"},[Object(c["n"])("path",{opacity:"0.6","fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.21 4h5.58c.28.322.28.844 0 1.166L7.506 7.759a.651.651 0 01-1.012 0L4.21 5.166A.915.915 0 014.21 4z","fill-opacity":"0.4"})],-1),oe=Object(c["n"])("span",null,"展开更多",-1),ie=Object(c["n"])("svg",{width:"13",height:"13",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 13"},[Object(c["n"])("path",{opacity:"0.6","fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.21 4h5.58c.28.322.28.844 0 1.166L7.506 7.759a.651.651 0 01-1.012 0L4.21 5.166A.915.915 0 014.21 4z","fill-opacity":"0.4"})],-1),re=[oe,ie],le=Object(c["n"])("span",null,"收起",-1),se=Object(c["n"])("svg",{width:"13",height:"13",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 13"},[Object(c["n"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.21 8h5.58a.915.915 0 000-1.166L7.506 4.241a.651.651 0 00-1.012 0L4.21 6.834A.915.915 0 004.21 8z","fill-opacity":"0.4"})],-1),ue=[le,se];function de(e,t,n,a,o,i){var r=Object(c["V"])("el-popover"),l=Object(c["V"])("CommentEditor"),s=Object(c["V"])("SubCommentItem"),u=Object(c["V"])("LoadingSpinner"),d=Object(c["W"])("auth");return Object(c["M"])(),Object(c["m"])("div",{class:"comment-item","data-id":n.comment.id},[Object(c["n"])("div",P,[Object(c["n"])("a",{href:"/user/".concat(n.comment.user.id)},[Object(c["n"])("div",$,[Object(c["n"])("img",{class:"avatar-img",src:n.comment.user.avatar,alt:"头像"},null,8,S)])],8,C)]),Object(c["n"])("div",x,[Object(c["n"])("div",q,[Object(c["n"])("div",V,[Object(c["n"])("a",{href:"/user/".concat(n.comment.user.id),class:"name"},Object(c["Z"])(n.comment.user.name),9,R),Object(c["n"])("span",E,Object(c["Z"])(n.comment.time_ago),1)]),Object(c["q"])(r,{placement:"bottom-end",trigger:"hover","show-arrow":!1},{reference:Object(c["kb"])((function(){return[L]})),default:Object(c["kb"])((function(){return[Object(c["n"])("div",A,[i.user.id===n.comment.user.id?(Object(c["M"])(),Object(c["m"])("div",{key:0,onClick:t[0]||(t[0]=function(){return a.onDelete&&a.onDelete.apply(a,arguments)}),class:"op-item"},N)):(Object(c["M"])(),Object(c["m"])("div",{key:1,onClick:t[1]||(t[1]=function(){return i.showReportModal&&i.showReportModal.apply(i,arguments)}),class:"op-item"},D))])]})),_:1})]),Object(c["n"])("p",U,Object(c["Z"])(n.comment.body),1),Object(c["n"])("div",z,[Object(c["lb"])(Object(c["n"])("span",Z,[a.liked?(Object(c["M"])(),Object(c["m"])("svg",H,W)):(Object(c["M"])(),Object(c["m"])("svg",Q,J)),Object(c["n"])("span",null,Object(c["Z"])(a.likes),1)],512),[[d,a.likeHandler,"click"]]),K,Object(c["lb"])(Object(c["n"])("span",Y,te,512),[[d,i.toggleCommentEditor,"click"]])]),Object(c["q"])(c["e"],{name:"slide-fade"},{default:Object(c["kb"])((function(){return[o.showCommentEditor?(Object(c["M"])(),Object(c["m"])("div",ne,[Object(c["q"])(l,{"commentable-id":n.comment.id,type:"comments",onAddComment:a.addReplies},null,8,["commentable-id","onAddComment"])])):Object(c["l"])("",!0)]})),_:1}),a.repliesVisible?(Object(c["M"])(),Object(c["m"])("div",ce,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(a.replies,(function(e){return Object(c["M"])(),Object(c["k"])(s,{key:e.id,comment:e,"commentable-id":n.comment.id,onAddComment:a.addReplies,onDeleteComment:a.deleteReplies},null,8,["comment","commentable-id","onAddComment","onDeleteComment"])})),128))])):Object(c["l"])("",!0),a.state.loading?(Object(c["M"])(),Object(c["k"])(u,{key:1})):Object(c["l"])("",!0),n.comment.count_replies>0&&!a.state.loading?(Object(c["M"])(),Object(c["m"])(c["b"],{key:2},[a.repliesVisible?a.repliesVisible&&a.state.hasMore?(Object(c["M"])(),Object(c["m"])("div",{key:1,onClick:t[3]||(t[3]=function(){return a.loadReplies&&a.loadReplies.apply(a,arguments)}),class:"reply-button"},re)):a.repliesVisible&&!a.state.hasMore?(Object(c["M"])(),Object(c["m"])("div",{key:2,onClick:t[4]||(t[4]=function(){return a.toggleRepliesVisible&&a.toggleRepliesVisible.apply(a,arguments)}),class:"reply-button"},ue)):Object(c["l"])("",!0):(Object(c["M"])(),Object(c["m"])("div",{key:0,onClick:t[2]||(t[2]=function(){return a.toggleRepliesVisible&&a.toggleRepliesVisible.apply(a,arguments)}),class:"reply-button"},[Object(c["n"])("span",null,"展开"+Object(c["Z"])(n.comment.count_replies)+"条回复",1),ae]))],64)):Object(c["l"])("",!0),Object(c["U"])(e.$slots,"default",{},void 0,!0)])],8,I)}Object(c["N"])();var be=n("3835"),ve=n("1da1"),Oe=(n("96cf"),n("99af"),n("c740"),n("4995")),me=n("2ef0"),je=n("d257");Object(c["P"])("data-v-415c9c6c");var pe={class:"comment-editor"},fe={key:0,class:"not-log"},ge=Object(c["p"])("请先"),he=Object(c["n"])("span",null," 登录 ",-1),ye=Object(c["p"])("后发表评论"),we=[ge,he,ye],ke={key:1,class:"editor"},Me={class:"editor-input"},_e={class:"input-container"},Ie=["disabled"],Pe={class:"editor-toolbar"},Ce={class:"toolbar-menu"},$e=Object(c["n"])("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},[Object(c["n"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.5 30C23.851 30 29 24.851 29 18.5S23.851 7 17.5 7 6 12.149 6 18.5 11.149 30 17.5 30zm-5.16-13.883a1.16 1.16 0 001.64 1.64l2.395-2.394v8.838a1.16 1.16 0 002.321 0v-8.839l1.028 1.028 1.368 1.368a1.16 1.16 0 001.64-1.641l-4.219-4.22a1.382 1.382 0 00-1.954 0l-4.22 4.22z"})],-1),Se=[$e];function xe(e,t,n,a,o,i){var r;return Object(c["M"])(),Object(c["m"])("div",pe,[i.user.id?(Object(c["M"])(),Object(c["m"])("div",ke,[Object(c["n"])("div",Me,[Object(c["n"])("div",_e,[Object(c["lb"])(Object(c["n"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.body=e}),disabled:a.loading,maxlength:"120",class:"input-root",type:"text",placeholder:"留下你的精彩评论吧"},null,8,Ie),[[c["gb"],a.body]])])]),Object(c["n"])("div",Pe,[Object(c["n"])("div",Ce,[Object(c["n"])("span",{class:Object(c["A"])(["menu-item",(null===(r=a.body)||void 0===r?void 0:r.length)>0?"active":"disabled"]),onClick:t[2]||(t[2]=function(){return a.onSubmit&&a.onSubmit.apply(a,arguments)})},Se,2)])])])):(Object(c["M"])(),Object(c["m"])("div",fe,[Object(c["n"])("div",{class:"login",onClick:t[0]||(t[0]=function(){return i.showLoginModal&&i.showLoginModal.apply(i,arguments)})},we)]))])}Object(c["N"])();var qe={props:{commentableId:Number,type:String},setup:function(e,t){var n=Object(c["cb"])(e),a=n.commentableId,o=n.type,i=Object(c["R"])(""),r=Object(c["R"])(!1),l=Object(M["c"])(_["a"],(function(){return{variables:{id:a.value,type:o.value,body:i.value}}})),s=l.mutate,u=l.loading;function d(){return b.apply(this,arguments)}function b(){return b=Object(ve["a"])(regeneratorRuntime.mark((function e(){var n,c,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r.value){e.next=2;break}return e.abrupt("return");case 2:return r.value=!0,e.next=5,Object(je["b"])((function(){return s()}));case 5:n=e.sent,c=Object(be["a"])(n,2),a=c[0],o=c[1],r.value=!1,a?Oe["a"].error("发布失败"):null!==o&&void 0!==o&&o.data.addComment&&(i.value="",t.emit("addComment",null===o||void 0===o?void 0:o.data.addComment),Object(Oe["a"])({message:"发布成功",type:"success"}));case 11:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return{body:i,loading:u,addCommentMutate:s,onSubmit:d}},methods:{showLoginModal:function(){this.$bus.emit("SHOW_LOGIN_MODAL")}},computed:{user:function(){return this.$store.state.user.user}},data:function(){return{}}};n("5c78");qe.render=xe,qe.__scopeId="data-v-415c9c6c";var Ve=qe;Object(c["P"])("data-v-533331cf");var Re=["data-id"],Ee={class:"user-face"},Le=["href","data-usercard-mid"],Ae={class:"user-avatar"},Te=["src"],Ne={class:"item-content"},Fe={class:"user-item"},De={class:"user-info"},Ue=["href"],ze={class:"time"},Ze=Object(c["n"])("div",{class:"operation"},[Object(c["n"])("svg",{t:"1634525354353",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2378"},[Object(c["n"])("path",{d:"M146.030911 517.349845m-87.923492 0a87.923492 87.923492 0 1 0 175.846984 0 87.923492 87.923492 0 1 0-175.846984 0Z",fill:"","p-id":"2379"}),Object(c["n"])("path",{d:"M512 512m-87.923492 0a87.923492 87.923492 0 1 0 175.846984 0 87.923492 87.923492 0 1 0-175.846984 0Z",fill:"","p-id":"2380"}),Object(c["n"])("path",{d:"M873.565802 512m-87.923491 0a87.923492 87.923492 0 1 0 175.846983 0 87.923492 87.923492 0 1 0-175.846983 0Z",fill:"","p-id":"2381"})])],-1),He={class:"operation-popover"},Be=Object(c["n"])("span",{class:"item-text"},"删除评论",-1),We=[Be],Qe=Object(c["n"])("span",{class:"item-text"},"举报评论",-1),Ge=[Qe],Je={class:"body-text"},Ke={class:"item-tools"},Ye={class:"tool-btn"},Xe={key:0,class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},et=Object(c["n"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.215 9.392C19.313 7.827 21.116 7 23.1 7c3.778 0 6.921 3.278 6.921 7.175v.001l-.002.256c-.002.085-.003.128.003.142-.014.82-.156 1.497-.407 2.391-.143.161-.275.464-.407.798-.209.323-.287.48-.408.797a15.27 15.27 0 01-.31.499c-1.027 1.585-2.428 3.168-3.825 4.565-2.1 2.114-4.232 3.872-5.163 4.64-.258.212-.424.349-.47.396-.332.33-.663.34-.994.34h-.028c-.68 0-1.02-.34-1.36-.68a3.126 3.126 0 00-.192-.16c-1.032-.761-3.366-2.627-5.553-4.876-1.656-1.687-3.248-3.62-4.122-5.51-.34-.681-.764-2.301-.784-3.2.007-.007.006-.05.004-.137-.002-.063-.004-.15-.004-.262C6 10.276 9.141 7 12.922 7c1.98 0 3.785.827 5.293 2.392z",fill:"#ff1459","fill-opacity":"0.9"},null,-1),tt=[et],nt={key:1,class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},ct=Object(c["n"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.836 7C9.49 7 6 10.726 6 15.064c0 .108.002.194.003.253a1.62 1.62 0 00-.003.14c.013.582.146 1.284.293 1.87.143.572.344 1.208.57 1.668.907 1.952 2.495 3.846 4.023 5.402a46.034 46.034 0 005.138 4.51l.03.025.023.018c.339.34 1.055 1.05 2.331 1.05h.038c.361 0 1.224 0 1.996-.752l.063-.053.273-.227.006-.005c.847-.698 2.828-2.33 4.782-4.301 1.25-1.254 2.547-2.71 3.538-4.214.135-.204.265-.41.388-.617.049-.08.09-.166.123-.255.044-.115.065-.16.082-.194.019-.037.05-.093.131-.219.057-.089.106-.183.145-.281.055-.14.095-.235.127-.299l.006-.013a1.62 1.62 0 00.285-.562c.243-.863.41-1.623.426-2.558 0-.043 0-.086-.003-.129a10.365 10.365 0 00.003-.31C30.788 10.697 27.308 7 22.98 7c-1.641 0-3.238.508-4.498 1.532C17.119 7.545 15.547 7 13.836 7zm13.744 8.066v.042l-.002.15v.008l-.002.137c0 .015 0 .041.002.074-.014.44-.084.837-.233 1.402a3.667 3.667 0 00-.151.278c-.064.13-.122.265-.174.39a4.472 4.472 0 00-.376.738c-.076.125-.156.25-.24.378l-.002.002c-.823 1.25-1.954 2.534-3.13 3.713l-.003.003c-1.835 1.851-3.712 3.4-4.55 4.09l-.062.051-.235.195-.092-.091a3.812 3.812 0 00-.294-.254l-.012-.01a42.76 42.76 0 01-4.82-4.226l-.006-.006c-1.452-1.477-2.736-3.062-3.406-4.512a1.665 1.665 0 00-.021-.046c-.075-.15-.213-.533-.338-1.033a6.736 6.736 0 01-.193-1.074 1.837 1.837 0 000-.2v-.008a6.941 6.941 0 01-.003-.193c0-2.667 2.154-4.827 4.6-4.827 1.285 0 2.5.523 3.588 1.653a1.618 1.618 0 002.491-.193c.642-.914 1.732-1.46 3.064-1.46 2.444 0 4.6 2.162 4.6 4.827v.002z","fill-opacity":"0.9"},null,-1),at=[ct],ot=Object(c["n"])("div",{class:"split"},null,-1),it={class:"tool-btn"},rt=Object(c["n"])("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},[Object(c["n"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 17.617C6 11.561 11.578 7 18 7s12 4.561 12 10.617c0 3.036-1.51 5.529-3.749 7.728-.187.184-.381.364-.58.54-1.925 2.082-3.911 3.417-5.847 3.973-.77.221-1.702.242-2.454-.381-.68-.564-.837-1.361-.878-1.823a3.848 3.848 0 01-.01-.136C10.898 26.91 6 23.264 6 17.617zM18 10c-5.177 0-9 3.602-9 7.617 0 3.867 3.794 6.992 9.152 6.992h1.5v1.717l-.06.206c0-.001-.03.104-.06.259 1.155-.46 2.515-1.394 3.984-2.996l.056-.06.063-.055c.182-.16.353-.318.514-.475C26.075 21.312 27 19.543 27 17.617 27 13.602 23.177 10 18 10z","fill-opacity":"0.9"})],-1),lt=Object(c["n"])("span",null,"回复",-1),st=[rt,lt],ut={key:0,class:"editor-container"};function dt(e,t,n,a,o,i){var r=Object(c["V"])("el-popover"),l=Object(c["V"])("CommentEditor"),s=Object(c["W"])("auth");return Object(c["M"])(),Object(c["m"])("div",{class:"comment-item","data-id":n.comment.id},[Object(c["n"])("div",Ee,[Object(c["n"])("a",{href:"/user/".concat(n.comment.user.id),"data-usercard-mid":n.comment.user.id},[Object(c["n"])("div",Ae,[Object(c["n"])("img",{class:"avatar-img",src:n.comment.user.avatar,alt:"头像"},null,8,Te)])],8,Le)]),Object(c["n"])("div",Ne,[Object(c["n"])("div",Fe,[Object(c["n"])("div",De,[Object(c["n"])("a",{href:"/user/".concat(n.comment.user.id),class:"name"},Object(c["Z"])(n.comment.user.name),9,Ue),Object(c["n"])("span",ze,Object(c["Z"])(n.comment.time_ago),1)]),Object(c["q"])(r,{placement:"bottom-end",trigger:"hover","show-arrow":!1},{reference:Object(c["kb"])((function(){return[Ze]})),default:Object(c["kb"])((function(){return[Object(c["n"])("div",He,[i.user.id===n.comment.user.id?(Object(c["M"])(),Object(c["m"])("div",{key:0,onClick:t[0]||(t[0]=function(){return a.onDelete&&a.onDelete.apply(a,arguments)}),class:"op-item"},We)):(Object(c["M"])(),Object(c["m"])("div",{key:1,onClick:t[1]||(t[1]=function(){return i.showReportModal&&i.showReportModal.apply(i,arguments)}),class:"op-item"},Ge))])]})),_:1})]),Object(c["n"])("p",Je,Object(c["Z"])(n.comment.body),1),Object(c["n"])("div",Ke,[Object(c["lb"])(Object(c["n"])("span",Ye,[a.liked?(Object(c["M"])(),Object(c["m"])("svg",Xe,tt)):(Object(c["M"])(),Object(c["m"])("svg",nt,at)),Object(c["n"])("span",null,Object(c["Z"])(a.likes),1)],512),[[s,a.likeHandler,"click"]]),ot,Object(c["lb"])(Object(c["n"])("span",it,st,512),[[s,i.toggleCommentEditor,"click"]])]),Object(c["q"])(c["e"],{name:"slide-fade"},{default:Object(c["kb"])((function(){return[o.showCommentEditor?(Object(c["M"])(),Object(c["m"])("div",ut,[Object(c["q"])(l,{"commentable-id":n.commentableId,type:"comments",onAddComment:a.updateReplies},null,8,["commentable-id","onAddComment"])])):Object(c["l"])("",!0)]})),_:1})])],8,Re)}Object(c["N"])();var bt={components:{CommentEditor:Ve},props:{commentableId:{type:Number},comment:{type:Object}},setup:function(e,t){var n,a,o,i=Object(c["cb"])(e),r=i.comment,l=Object(M["c"])(_["p"],(function(){return{variables:{id:r.value.id}}})),s=l.mutate;function u(){return d.apply(this,arguments)}function d(){return d=Object(ve["a"])(regeneratorRuntime.mark((function e(){var n,c,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(je["b"])((function(){return s()}));case 2:n=e.sent,c=Object(be["a"])(n,2),a=c[0],o=c[1],a?Oe["a"].error("删除失败"):null!==o&&void 0!==o&&o.data.deleteComment&&(t.emit("deleteComment",r.value),Object(Oe["a"])({message:"删除成功",type:"success"}));case 7:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}var b=Object(_["eb"])({id:null===(n=r.value)||void 0===n?void 0:n.id,type:"COMMENT"},{fetchPolicy:"network-only"}),v=b.toggleLike,O=b.onError,m=Object(c["R"])((null===(a=r.value)||void 0===a?void 0:a.liked)||!1),j=Object(c["R"])((null===(o=r.value)||void 0===o?void 0:o.likes)||0);O((function(){m.value=!m.value,m.value?j.value++:j.value--}));var p=Object(me["debounce"])((function(){m.value=!m.value,m.value?j.value++:j.value--,v()}),500);function f(e){t.emit("addComment",e)}return{liked:m,likes:j,onDelete:u,likeHandler:p,updateReplies:f}},computed:{user:function(){return this.$store.state.user.user}},methods:{showReportModal:function(){this.$bus.emit("SHOW_REPORT_MODAL",{id:this.comment.id,type:"comments",title:"举报评论"})},toggleCommentEditor:function(){this.showCommentEditor=!this.showCommentEditor}},data:function(){return{showCommentEditor:!1}}};n("d4d0");bt.render=dt,bt.__scopeId="data-v-533331cf";var vt=bt,Ot=n("d76c"),mt={components:{CommentEditor:Ve,SubCommentItem:vt,LoadingSpinner:Ot["a"]},props:{comment:{type:Object}},setup:function(e,t){var n,a,o,i=Object(c["cb"])(e),r=i.comment,l=Object(c["R"])([]),s=Object(c["R"])(!1),u=Object(_["eb"])({id:null===(n=r.value)||void 0===n?void 0:n.id,type:"COMMENT"},{fetchPolicy:"network-only"}),d=u.toggleLike,b=u.onError,v=Object(c["R"])((null===(a=r.value)||void 0===a?void 0:a.liked)||!1),O=Object(c["R"])((null===(o=r.value)||void 0===o?void 0:o.likes)||0);b((function(){v.value=!v.value,v.value?O.value++:O.value--}));var m=Object(me["debounce"])((function(){v.value=!v.value,v.value?O.value++:O.value--,d()}),500),j=Object(M["c"])(_["p"],(function(){return{variables:{id:r.value.id}}})),p=j.mutate;function f(){return g.apply(this,arguments)}function g(){return g=Object(ve["a"])(regeneratorRuntime.mark((function e(){var n,c,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(je["b"])((function(){return p()}));case 2:n=e.sent,c=Object(be["a"])(n,2),a=c[0],o=c[1],a?Oe["a"].error("删除失败"):null!==o&&void 0!==o&&o.data.deleteComment&&(t.emit("deleteComment"),Object(Oe["a"])({message:"删除成功",type:"success"}));case 7:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}var h=Object(M["b"])().client,y=Object(c["Q"])({page:1,loading:!1,hasMore:!0}),w=function(){var e=Object(ve["a"])(regeneratorRuntime.mark((function e(){var t,n,c,a,o,i,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!y.loading&&y.hasMore){e.next=2;break}return e.abrupt("return");case 2:return y.loading=!0,e.next=5,Object(je["b"])((function(){return h.query({query:_["k"],variables:{id:r.value.id,page:y.page}})}));case 5:c=e.sent,a=Object(be["a"])(c,2),a[0],o=a[1],i=null===o||void 0===o||null===(t=o.data)||void 0===t||null===(n=t.comment)||void 0===n?void 0:n.comments,s=null===i||void 0===i?void 0:i.data,u=null===i||void 0===i?void 0:i.paginatorInfo,y.loading=!1,y.page=(null===u||void 0===u?void 0:u.currentPage)+1,y.hasMore=null===u||void 0===u?void 0:u.hasMorePages,Array.isArray(s)&&(l.value=Object(me["uniqBy"])([].concat(Object(k["a"])(l.value),Object(k["a"])(s)),"id"));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function I(e){s.value||(s.value=!0),l.value=[e].concat(Object(k["a"])(l.value))}function P(e){var t=Object(k["a"])(l.value),n=t.findIndex((function(t){return t.id===e.id}));n>=0&&(t.splice(n,1),l.value=t)}function C(){w(),s.value=!s.value}return{likes:O,liked:v,onDelete:f,likeHandler:m,state:y,replies:l,loadReplies:w,addReplies:I,deleteReplies:P,repliesVisible:s,toggleRepliesVisible:C}},computed:{user:function(){return this.$store.state.user.user}},methods:{showReportModal:function(){this.$bus.emit("SHOW_REPORT_MODAL",{id:this.comment.id,type:"comments",title:"举报评论"})},toggleCommentEditor:function(){this.showCommentEditor=!this.showCommentEditor},toggleLike:function(){this.comment.liked?this.comment.likes--:this.comment.likes++,this.comment.liked=!this.comment.liked}},data:function(){return{showCommentEditor:!1}}};n("9053");mt.render=de,mt.__scopeId="data-v-1e88060a";var jt=mt,pt=n("2d5b"),ft=n("02bc"),gt={components:{CommentItem:jt,CommentEditor:Ve,LoadingSpinner:Ot["a"],Skeleton:pt["a"],Empty:ft["default"]},props:{commentableId:{type:Number},type:{type:String,default:function(){return"movies"}}},setup:function(e){var t=Object(c["cb"])(e),n=t.commentableId,a=t.type,o=Object(c["R"])(1);function i(e){o.value=e}var r=Object(M["d"])(_["i"],{type:a,id:n,page:o},{fetchPolicy:"network-only"}),l=r.result,s=r.loading,u=r.refetch,d=Object(M["e"])(l,{},(function(e){var t;return null===e||void 0===e||null===(t=e.comments)||void 0===t?void 0:t.data})),b=Object(M["e"])(l,{},(function(e){var t,n;return null===e||void 0===e||null===(t=e.comments)||void 0===t||null===(n=t.paginatorInfo)||void 0===n?void 0:n.total})),v=Object(M["b"])(),O=v.resolveClient;function m(e){var t=O(),c=t.readQuery({query:_["i"],variables:{type:a.value,id:n.value,page:o.value}}),i=Object(k["a"])(c.comments.data),r=Object(w["a"])({},c.comments.paginatorInfo);i.length>0&&i.splice(9,1),i.unshift(e),t.writeQuery({query:_["i"],variables:{type:a.value,id:n.value,page:o.value},data:Object(w["a"])(Object(w["a"])({},c),{},{comments:Object.assign({},c.comments,{data:i,paginatorInfo:Object(w["a"])(Object(w["a"])({},r),{},{total:r.total+1})})})})}return{loading:s,data:d,total:b,onPageChange:i,refetch:u,addComment:m}},computed:{user:function(){return this.$store.state.user.user}},methods:{showLoginModal:function(){this.$bus.emit("SHOW_LOGIN_MODAL")}}};n("283b");gt.render=y,gt.__scopeId="data-v-6e3f7528";t["a"]=gt},bf24:function(e,t,n){"use strict";n("2320")},c21f:function(e,t,n){},c36f:function(e,t,n){},c3e5:function(e,t,n){},c5aa:function(e,t,n){"use strict";n("7d51")},c618:function(e,t,n){"use strict";n.r(t);var c=n("7a23");Object(c["P"])("data-v-8fbd30ec");var a={id:"masthead"},o={class:"header"},i={class:"navigation"},r={class:"nav-item left"},l=Object(c["n"])("img",{class:"nav-icon",src:"/img/back.svg"},null,-1),s=[l],u=["src"],d={class:"nav-title"},b={class:"nav-item item"};function v(e,t,n,l,v,O){var m=Object(c["V"])("router-link");return Object(c["M"])(),Object(c["m"])("div",a,[Object(c["n"])("header",o,[Object(c["n"])("div",i,[Object(c["n"])("div",r,[n.back?(Object(c["M"])(),Object(c["m"])("a",{key:0,class:"nav-button",onClick:t[0]||(t[0]=function(){return O.goBack&&O.goBack.apply(O,arguments)})},s)):(Object(c["M"])(),Object(c["k"])(m,{key:1,class:"nav-button",to:"/"},{default:Object(c["kb"])((function(){return[Object(c["n"])("img",{class:"nav-icon",src:v.logoIconUrl},null,8,u)]})),_:1}))]),Object(c["n"])("div",d,[Object(c["n"])("h2",null,Object(c["Z"])(n.title),1)]),Object(c["n"])("div",b,[Object(c["U"])(e.$slots,"right",{},void 0,!0)])])])])}Object(c["N"])();n("ac1f"),n("5319");var O=n("2de2"),m={props:["title","back"],computed:{user:function(){return this.$store.state.user.user}},methods:{goBack:function(){try{this.$router.back()}catch(e){this.$router.replace("/")}}},data:function(){return{logoIconUrl:O["n"]}}};n("96ec");m.render=v,m.__scopeId="data-v-8fbd30ec";t["default"]=m},c6b2:function(e,t,n){},c767:function(e,t,n){},c9a4:function(e,t,n){"use strict";n("c6b2")},cb6a:function(e,t,n){},cd2c:function(e,t,n){"use strict";n("c21f")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),a=n("f685"),o=n("1250"),i=(n("8594"),n("9483"));Object(i["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var r=n("2de2"),l=n("a684"),s=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),u={id:"homepage"},d={id:"bottom-navbar",class:"show-md"};function b(e,t,n,a,o,i){var r=Object(c["V"])("Masthead"),l=Object(c["V"])("router-view"),s=Object(c["V"])("Footer"),b=Object(c["V"])("NavBar"),v=Object(c["V"])("SideBar");return Object(c["M"])(),Object(c["m"])(c["b"],null,[Object(c["q"])(r),Object(c["n"])("div",u,[Object(c["q"])(l),Object(c["q"])(s)]),Object(c["n"])("div",d,[Object(c["q"])(b)]),Object(c["q"])(v)],64)}Object(c["P"])("data-v-1fa122cd");var v={class:"navbar"},O={class:"nav-wrap"},m={class:"navigator",role:"navigation"},j=Object(c["n"])("div",{class:"item-label"},[Object(c["n"])("div",{class:"icon-wrap"},[Object(c["n"])("svg",{viewBox:"0 0 24 24"},[Object(c["n"])("g",null,[Object(c["n"])("path",{d:"M22.46 7.57L12.357 2.115c-.223-.12-.49-.12-.713 0L1.543 7.57c-.364.197-.5.652-.303 1.017.135.25.394.393.66.393.12 0 .243-.03.356-.09l.815-.44L4.7 19.963c.214 1.215 1.308 2.062 2.658 2.062h9.282c1.352 0 2.445-.848 2.663-2.087l1.626-11.49.818.442c.364.193.82.06 1.017-.304.196-.363.06-.818-.304-1.016zm-4.638 12.133c-.107.606-.703.822-1.18.822H7.36c-.48 0-1.075-.216-1.178-.798L4.48 7.69 12 3.628l7.522 4.06-1.7 12.015z"}),Object(c["n"])("path",{d:"M8.22 12.184c0 2.084 1.695 3.78 3.78 3.78s3.78-1.696 3.78-3.78-1.695-3.78-3.78-3.78-3.78 1.696-3.78 3.78zm6.06 0c0 1.258-1.022 2.28-2.28 2.28s-2.28-1.022-2.28-2.28 1.022-2.28 2.28-2.28 2.28 1.022 2.28 2.28z"})])]),Object(c["n"])("svg",{viewBox:"0 0 24 24"},[Object(c["n"])("g",null,[Object(c["n"])("path",{d:"M22.58 7.35L12.475 1.897c-.297-.16-.654-.16-.95 0L1.425 7.35c-.486.264-.667.87-.405 1.356.18.335.525.525.88.525.16 0 .324-.038.475-.12l.734-.396 1.59 11.25c.216 1.214 1.31 2.062 2.66 2.062h9.282c1.35 0 2.444-.848 2.662-2.088l1.588-11.225.737.398c.485.263 1.092.082 1.354-.404.263-.486.08-1.093-.404-1.355zM12 15.435c-1.795 0-3.25-1.455-3.25-3.25s1.455-3.25 3.25-3.25 3.25 1.455 3.25 3.25-1.455 3.25-3.25 3.25z"})])])])],-1),p=Object(c["n"])("div",{class:"item-label"},[Object(c["n"])("div",{class:"icon-wrap"},[Object(c["n"])("svg",{viewBox:"0 0 24 24"},[Object(c["n"])("g",null,[Object(c["n"])("path",{d:"M19.75 22H4.25C3.01 22 2 20.99 2 19.75V4.25C2 3.01 3.01 2 4.25 2h15.5C20.99 2 22 3.01 22 4.25v15.5c0 1.24-1.01 2.25-2.25 2.25zM4.25 3.5c-.414 0-.75.337-.75.75v15.5c0 .413.336.75.75.75h15.5c.414 0 .75-.337.75-.75V4.25c0-.413-.336-.75-.75-.75H4.25z"}),Object(c["n"])("path",{d:"M17 8.64H7c-.414 0-.75-.337-.75-.75s.336-.75.75-.75h10c.414 0 .75.335.75.75s-.336.75-.75.75zm0 4.11H7c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h10c.414 0 .75.336.75.75s-.336.75-.75.75zm-5 4.11H7c-.414 0-.75-.335-.75-.75s.336-.75.75-.75h5c.414 0 .75.337.75.75s-.336.75-.75.75z"})])]),Object(c["n"])("svg",{viewBox:"0 0 24 24"},[Object(c["n"])("g",null,[Object(c["n"])("path",{d:"M19.75 2H4.25C3.013 2 2 3.013 2 4.25v15.5C2 20.987 3.013 22 4.25 22h15.5c1.237 0 2.25-1.013 2.25-2.25V4.25C22 3.013 20.987 2 19.75 2zM11 16.75H7c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h4c.414 0 .75.336.75.75s-.336.75-.75.75zm6-4H7c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h10c.414 0 .75.336.75.75s-.336.75-.75.75zm0-4H7c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h10c.414 0 .75.336.75.75s-.336.75-.75.75z"})])])])],-1),f=Object(c["n"])("div",{class:"item-label"},[Object(c["n"])("div",{class:"icon-wrap"},[Object(c["n"])("svg",{viewBox:"0 0 1024 1024"},[Object(c["n"])("path",{d:"M512 992C247.3 992 32 776.7 32 512S247.3 32 512 32s480 215.3 480 480-215.3 480-480 480z m0-896C282.6 96 96 282.6 96 512s186.6 416 416 416 416-186.6 416-416S741.4 96 512 96z","p-id":"5008"}),Object(c["n"])("path",{d:"M352 704c-8.3 0-16.5-3.3-22.6-9.4-8.6-8.6-11.6-21.3-7.7-32.8l80-240c3.2-9.5 10.7-17 20.2-20.2l240-80c11.5-3.9 24.2-0.9 32.8 7.7 8.6 8.6 11.6 21.3 7.7 32.8l-80 240c-3.2 9.5-10.7 17-20.2 20.2l-240 80c-3.4 1.2-6.8 1.7-10.2 1.7z m105.3-246.7l-54.7 164.1 164.1-54.7 54.7-164.1-164.1 54.7zM592 592h0.3-0.3z","p-id":"5009"})]),Object(c["n"])("svg",{viewBox:"0 0 1024 1024"},[Object(c["n"])("path",{d:"M512 0A512 512 0 1 1 0 512 512 512 0 0 1 512 0z m179.439252 267.364486l-260.186916 93.906542a115.439252 115.439252 0 0 0-69.383177 69.383178l-94.504673 260.186915a51.140187 51.140187 0 0 0 65.495327 65.495328l260.485981-93.607477a115.439252 115.439252 0 0 0 69.383178-69.383178l93.607477-260.485981a51.140187 51.140187 0 0 0-65.495328-65.495327z m-179.439252 308.635514A64 64 0 1 0 448.598131 512a64 64 0 0 0 64 64z","p-id":"5903"})])])],-1),g=Object(c["n"])("div",{class:"item-label"},[Object(c["n"])("div",{class:"icon-wrap"},[Object(c["n"])("svg",{viewBox:"0 0 24 24"},[Object(c["n"])("g",null,[Object(c["n"])("path",{d:"M12 11.816c1.355 0 2.872-.15 3.84-1.256.814-.93 1.078-2.368.806-4.392-.38-2.825-2.117-4.512-4.646-4.512S7.734 3.343 7.354 6.17c-.272 2.022-.008 3.46.806 4.39.968 1.107 2.485 1.256 3.84 1.256zM8.84 6.368c.162-1.2.787-3.212 3.16-3.212s2.998 2.013 3.16 3.212c.207 1.55.057 2.627-.45 3.205-.455.52-1.266.743-2.71.743s-2.255-.223-2.71-.743c-.507-.578-.657-1.656-.45-3.205zm11.44 12.868c-.877-3.526-4.282-5.99-8.28-5.99s-7.403 2.464-8.28 5.99c-.172.692-.028 1.4.395 1.94.408.52 1.04.82 1.733.82h12.304c.693 0 1.325-.3 1.733-.82.424-.54.567-1.247.394-1.94zm-1.576 1.016c-.126.16-.316.246-.552.246H5.848c-.235 0-.426-.085-.552-.246-.137-.174-.18-.412-.12-.654.71-2.855 3.517-4.85 6.824-4.85s6.114 1.994 6.824 4.85c.06.242.017.48-.12.654z"})])]),Object(c["n"])("svg",{viewBox:"0 0 24 24"},[Object(c["n"])("g",null,[Object(c["n"])("path",{d:"M12.225 12.165c-1.356 0-2.872-.15-3.84-1.256-.814-.93-1.077-2.368-.805-4.392.38-2.826 2.116-4.513 4.646-4.513s4.267 1.687 4.646 4.513c.272 2.024.008 3.46-.806 4.392-.97 1.106-2.485 1.255-3.84 1.255zm5.849 9.85H6.376c-.663 0-1.25-.28-1.65-.786-.422-.534-.576-1.27-.41-1.968.834-3.53 4.086-5.997 7.908-5.997s7.074 2.466 7.91 5.997c.164.698.01 1.434-.412 1.967-.4.505-.985.785-1.648.785z"})])])])],-1);function h(e,t,n,a,o,i){var r=Object(c["V"])("router-link");return Object(c["M"])(),Object(c["m"])("div",v,[Object(c["n"])("div",O,[Object(c["n"])("nav",m,[Object(c["q"])(r,{class:"nav-item",to:"/"},{default:Object(c["kb"])((function(){return[j]})),_:1}),Object(c["q"])(r,{class:"nav-item",to:"/category"},{default:Object(c["kb"])((function(){return[p]})),_:1}),Object(c["q"])(r,{class:"nav-item",to:"/videos"},{default:Object(c["kb"])((function(){return[f]})),_:1}),Object(c["q"])(r,{class:"nav-item",to:i.user.id?"/profile":"/login"},{default:Object(c["kb"])((function(){return[g]})),_:1},8,["to"])])])])}Object(c["N"])();var y={computed:{user:function(){return this.$store.state.user.user}}};n("169b");y.render=h,y.__scopeId="data-v-1fa122cd";var w=y,k={components:{NavBar:w},setup:function(e){}};n("513d");k.render=b;var M=k;Object(c["P"])("data-v-7a626735");var _={id:"recommend"},I={class:"fluid-content"},P={class:"module-wrap"},C={class:"module-wrap"},$={class:"module-wrap"},S={key:0,class:"module-wrap"};function x(e,t,n,a,o,i){var r,l,s,u,d,b,v,O,m,j,p,f,g,h,y,w,k,M,x,q,V,R,E,L,A,T=Object(c["V"])("Skeleton"),N=Object(c["V"])("GridMovies"),F=Object(c["V"])("ColumnMovies");return Object(c["M"])(),Object(c["m"])("div",_,[Object(c["n"])("div",I,[(null===(r=a.sticksData)||void 0===r?void 0:r.length)<1?(Object(c["M"])(),Object(c["k"])(T,{key:0,type:"movies"})):(Object(c["M"])(),Object(c["m"])(c["b"],{key:1},[Object(c["n"])("div",P,[Object(c["q"])(N,{title:"电视剧",sideTitle:"电视剧热播榜单",movies:null===(l=a.sticksData)||void 0===l||null===(s=l[0])||void 0===s||null===(u=s.editorChoice)||void 0===u||null===(d=u.movies)||void 0===d?void 0:d.data,sideMovies:null===(b=a.sticksData)||void 0===b||null===(v=b[1])||void 0===v||null===(O=v.editorChoice)||void 0===O||null===(m=O.movies)||void 0===m?void 0:m.data},null,8,["movies","sideMovies"])]),Object(c["n"])("div",C,[Object(c["q"])(N,{title:"电影",sideTitle:"电影热播榜单",movies:null===(j=a.sticksData)||void 0===j||null===(p=j[2])||void 0===p||null===(f=p.editorChoice)||void 0===f||null===(g=f.movies)||void 0===g?void 0:g.data,sideMovies:null===(h=a.sticksData)||void 0===h||null===(y=h[3])||void 0===y||null===(w=y.editorChoice)||void 0===w||null===(k=w.movies)||void 0===k?void 0:k.data},null,8,["movies","sideMovies"])]),Object(c["n"])("div",$,[Object(c["q"])(N,{title:"动漫",sideTitle:"动漫热播榜单",movies:null===(M=a.sticksData)||void 0===M||null===(x=M[4])||void 0===x||null===(q=x.editorChoice)||void 0===q||null===(V=q.movies)||void 0===V?void 0:V.data,sideMovies:null===(R=a.sticksData)||void 0===R||null===(E=R[5])||void 0===E||null===(L=E.editorChoice)||void 0===L||null===(A=L.movies)||void 0===A?void 0:A.data},null,8,["movies","sideMovies"])]),(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(a.tvSeries,(function(e,t){var n,o,i,r,l;return Object(c["M"])(),Object(c["m"])(c["b"],{key:e.id},[(null===e||void 0===e||null===(n=e.editorChoice)||void 0===n||null===(o=n.movies)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.length)>0?(Object(c["M"])(),Object(c["m"])("div",S,[Object(c["q"])(F,{title:a.tvSeriesTitle[t],movies:null===e||void 0===e||null===(r=e.editorChoice)||void 0===r||null===(l=r.movies)||void 0===l?void 0:l.data},null,8,["title","movies"])])):Object(c["l"])("",!0)],64)})),128))],64))])])}Object(c["N"])();n("fb6a");var q=n("2d5b");n("b0c0");Object(c["P"])("data-v-49213a35");var V={class:"movie-item"},R=["href","title"],E={class:"figure-pic"},L={class:"figure-tag"},A={class:"figure-caption"},T={key:0,class:"video-duration"},N={key:1,class:"movie-score hide-xs"},F={class:"detail"},D=["href","title"],U={class:"detail-desc text-ellipsis"};function z(e,t,n,a,o,i){var r,l=Object(c["W"])("lazyload");return Object(c["M"])(),Object(c["m"])("div",V,[Object(c["n"])("a",{class:"figure",href:"/movie/".concat(n.movie.id),title:n.movie.name},[Object(c["n"])("div",E,[Object(c["lb"])(Object(c["n"])("img",null,null,512),[[l,n.movie.cover]])]),Object(c["n"])("div",L,[i.tag?(Object(c["M"])(),Object(c["m"])("div",{key:0,class:Object(c["A"])(["content-pack-tag","tag-".concat(i.tag.color)])},Object(c["Z"])(i.tag.name),3)):Object(c["l"])("",!0)]),Object(c["n"])("div",A,[n.movie.count_series>2?(Object(c["M"])(),Object(c["m"])("span",T,Object(c["Z"])(n.movie.finished?"全":"更新至")+Object(c["Z"])(n.movie.count_series)+"集 ",1)):Object(c["l"])("",!0),n.movie.score?(Object(c["M"])(),Object(c["m"])("span",N,Object(c["Z"])(n.movie.score),1)):Object(c["l"])("",!0)])],8,R),Object(c["n"])("div",F,[Object(c["n"])("a",{class:"detail-title text-ellipsis",href:"/movie/".concat(n.movie.id),title:n.movie.name},Object(c["Z"])(n.movie.name),9,D),Object(c["n"])("p",U,Object(c["Z"])(null!==(r=n.movie.introduction)&&void 0!==r?r:n.movie.actors),1)])])}Object(c["N"])();var Z=n("b85c"),H=(n("ac1f"),n("1276"),{"剧情":{name:"剧集",color:"blue"},"电视剧":{name:"剧集",color:"blue"},"电影":{name:"电影",color:"red"},"综艺":{name:"综艺",color:"yellow"},"真人秀":{name:"综艺",color:"yellow"}}),B={props:{movie:Object},computed:{tag:function(){var e,t,n=null===(e=this.movie)||void 0===e||null===(t=e.type)||void 0===t?void 0:t.split(","),c="";if(Array.isArray(n)){var a,o=Object(Z["a"])(n);try{for(o.s();!(a=o.n()).done;){var i=a.value;i&&(c=H[i])}}catch(r){o.e(r)}finally{o.f()}}return c}}};n("96ac");B.render=z,B.__scopeId="data-v-49213a35";var W=B;Object(c["P"])("data-v-eb0eb796");var Q=["data-rowcount","data-count"],G={key:0,class:"mod-header"},J={class:"mod-title text-ellipsis"},K={key:0,class:"mod-paging"},Y=Object(c["n"])("svg",{class:"svg_icon svg_icon_prev",viewBox:"0 0 6 10",width:"6",height:"10"},[Object(c["n"])("path",{d:"M1.4 4.7L5 1M1.3 5.3L5 9",fill:"none",stroke:"currentColor","stroke-width":"1.4","stroke-linecap":"round"})],-1),X=[Y],ee={class:"page_num"},te=Object(c["n"])("svg",{class:"svg_icon svg_icon_next",viewBox:"0 0 6 10",width:"6",height:"10"},[Object(c["n"])("path",{d:"M4.6 4.7L1 1M4.7 5.3L1 9",fill:"none",stroke:"currentColor","stroke-width":"1.4","stroke-linecap":"round"})],-1),ne=[te],ce={class:"column-items"};function ae(e,t,n,a,o,i){var r=Object(c["V"])("MovieItem"),l=Object(c["V"])("router-link");return Object(c["M"])(),Object(c["m"])("div",{class:"module-column","data-rowcount":e.rowCount,"data-count":e.movies.length},[e.title?(Object(c["M"])(),Object(c["m"])("div",G,[Object(c["n"])("div",J,Object(c["Z"])(e.title),1),e.totalPage>1?(Object(c["M"])(),Object(c["m"])("div",K,[Object(c["n"])("button",{onClick:t[0]||(t[0]=function(){return e.prev&&e.prev.apply(e,arguments)}),class:Object(c["A"])(["btn_prev",1===e.currentPage&&"disabled"]),title:"上一页"},X,2),Object(c["n"])("span",ee,Object(c["Z"])(e.currentPage+"/"+e.totalPage),1),Object(c["n"])("button",{onClick:t[1]||(t[1]=function(){return e.next&&e.next.apply(e,arguments)}),class:Object(c["A"])(["btn_next",e.currentPage===e.totalPage&&"disabled"]),title:"下一页"},ne,2)])):Object(c["l"])("",!0)])):Object(c["l"])("",!0),Object(c["n"])("div",ce,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.movies,(function(t,n){return Object(c["lb"])((Object(c["M"])(),Object(c["m"])("div",{class:"item-wrap",key:t.id},[Object(c["q"])(l,{to:"/movie/".concat(t.id)},{default:Object(c["kb"])((function(){return[Object(c["q"])(r,{movie:t},null,8,["movie"])]})),_:2},1032,["to"])],512)),[[c["hb"],n>=e.minIndex&&n<e.maxIndex]])})),128))])],8,Q)}Object(c["N"])();var oe=n("2ef0"),ie=Object(c["r"])({components:{MovieItem:W},props:{title:{type:String},movies:{type:Array}},mounted:function(){window.addEventListener("resize",Object(oe["throttle"])(this.getColumnItems,200)),this.getColumnItems()},methods:{getColumnItems:function(){var e=document.getElementById("app"),t=window.getComputedStyle(e);this.rowCount=t.getPropertyValue("--column-movie-items-per-row")},prev:function(){this.currentPage--},next:function(){this.currentPage++}},computed:{totalPage:function(){return Math.ceil(this.movies.length/this.rowCount)},maxIndex:function(){return this.rowCount*this.currentPage},minIndex:function(){var e=this.movies.length%this.rowCount;return this.totalPage===this.currentPage&&e>0?this.rowCount*(this.currentPage-2)+e:this.rowCount*(this.currentPage-1)}},data:function(){return{rowCount:3,currentPage:1}}});n("fc8e");ie.render=ae,ie.__scopeId="data-v-eb0eb796";var re=ie;Object(c["P"])("data-v-3f067394");var le=["data-rowcount","data-count"],se={class:"mod-main"},ue={key:0,class:"mod-header"},de={class:"mod-title text-ellipsis"},be={key:0,class:"mod-paging"},ve=Object(c["n"])("svg",{class:"svg_icon svg_icon_prev",viewBox:"0 0 6 10",width:"6",height:"10"},[Object(c["n"])("path",{d:"M1.4 4.7L5 1M1.3 5.3L5 9",fill:"none",stroke:"currentColor","stroke-width":"1.4","stroke-linecap":"round"})],-1),Oe=[ve],me={class:"page_num"},je=Object(c["n"])("svg",{class:"svg_icon svg_icon_next",viewBox:"0 0 6 10",width:"6",height:"10"},[Object(c["n"])("path",{d:"M4.6 4.7L1 1M4.7 5.3L1 9",fill:"none",stroke:"currentColor","stroke-width":"1.4","stroke-linecap":"round"})],-1),pe=[je],fe={class:"grid-items"},ge={class:"mod-side"},he={class:"mod-header"},ye={class:"mod-title text-ellipsis"},we={class:"mod-rank-list"},ke=["src"],Me={class:"item-num"},_e={class:"item-center"},Ie={class:"item-title text-ellipsis"},Pe={class:"item-desc text-ellipsis"};function Ce(e,t,n,a,o,i){var r=Object(c["V"])("MovieItem"),l=Object(c["V"])("router-link");return Object(c["M"])(),Object(c["m"])("div",{class:"module-grid","data-rowcount":e.rowCount,"data-count":e.movies.length},[Object(c["n"])("div",se,[e.title?(Object(c["M"])(),Object(c["m"])("div",ue,[Object(c["n"])("div",de,Object(c["Z"])(e.title),1),e.totalPage>1?(Object(c["M"])(),Object(c["m"])("div",be,[Object(c["n"])("button",{onClick:t[0]||(t[0]=function(){return e.prev&&e.prev.apply(e,arguments)}),class:Object(c["A"])(["btn_prev",1===e.currentPage&&"disabled"]),title:"上一页"},Oe,2),Object(c["n"])("span",me,Object(c["Z"])(e.currentPage+"/"+e.totalPage),1),Object(c["n"])("button",{onClick:t[1]||(t[1]=function(){return e.next&&e.next.apply(e,arguments)}),class:Object(c["A"])(["btn_next",e.currentPage===e.totalPage&&"disabled"]),title:"下一页"},pe,2)])):Object(c["l"])("",!0)])):Object(c["l"])("",!0),Object(c["n"])("div",fe,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.movies,(function(t,n){return Object(c["lb"])((Object(c["M"])(),Object(c["k"])(l,{class:"item-wrap",key:t.id,to:"/movie/".concat(null===t||void 0===t?void 0:t.id)},{default:Object(c["kb"])((function(){return[Object(c["q"])(r,{movie:t},null,8,["movie"])]})),_:2},1032,["to"])),[[c["hb"],n>=e.minIndex&&n<e.maxIndex]])})),128))])]),Object(c["n"])("div",ge,[Object(c["n"])("div",he,[Object(c["n"])("div",ye,Object(c["Z"])(e.sideTitle),1)]),Object(c["n"])("div",we,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.sideMovies,(function(e,t){return Object(c["M"])(),Object(c["k"])(l,{class:"rank-item",key:e.id,to:"/movie/".concat(null===e||void 0===e?void 0:e.id)},{default:Object(c["kb"])((function(){var n,a;return[Object(c["n"])("img",{class:"item-img",src:e.cover},null,8,ke),Object(c["n"])("span",Me,Object(c["Z"])(t+1),1),Object(c["n"])("div",_e,[Object(c["n"])("div",Ie,Object(c["Z"])(e.name),1),Object(c["n"])("div",Pe,Object(c["Z"])(null!==(n=null!==(a=e.introduction)&&void 0!==a?a:e.actors)&&void 0!==n?n:e.type),1)])]})),_:2},1032,["to"])})),128))])])],8,le)}Object(c["N"])();n("a9e3");var $e=Object(c["r"])({components:{MovieItem:W},props:{title:{type:String},movies:{type:Array},sideTitle:{type:String},sideMovies:{type:Array}},mounted:function(){window.addEventListener("resize",Object(oe["throttle"])(this.getColumnItems,200)),this.getColumnItems()},methods:{getColumnItems:function(){var e=document.getElementById("app"),t=window.getComputedStyle(e);this.rowCount=Number(t.getPropertyValue("--module-movie-items-count"))},prev:function(){this.currentPage--},next:function(){this.currentPage++}},computed:{totalPage:function(){return Math.ceil(this.movies.length/this.rowCount)},maxIndex:function(){return this.rowCount*this.currentPage},minIndex:function(){var e=this.movies.length%this.rowCount;return this.totalPage===this.currentPage&&e>0?this.rowCount*(this.currentPage-2)+e:this.rowCount*(this.currentPage-1)}},data:function(){return{rowCount:3,currentPage:1}}});n("3438");$e.render=Ce,$e.__scopeId="data-v-3f067394";var Se=$e,xe={components:{Skeleton:q["a"],MovieItem:W,ColumnMovies:re,GridMovies:Se},setup:function(e){var t=Object(c["R"])({place:"网站首页推荐"}),n=Object(a["d"])(l["N"],t),o=n.result,i=n.loading,r=n.error,s=Object(a["e"])(o,[],(function(e){var t;return null===e||void 0===e||null===(t=e.sticks)||void 0===t?void 0:t.data})),u=Object(a["e"])(s,[],(function(e){return null===e||void 0===e?void 0:e.slice(6)})),d=Object(c["R"])(["韩剧","美剧","日剧","综艺"]);return{error:r,loading:i,sticksData:s,tvSeries:u,tvSeriesTitle:d}}};n("74bc");xe.render=x,xe.__scopeId="data-v-7a626735";var qe=xe;Object(c["P"])("data-v-3353fdd8");var Ve={id:"category"},Re={class:"fluid-content"},Ee={class:"category-tags"},Le={class:"tags-container"},Ae={class:"tag-title"},Te=["onClick"],Ne={class:"category-movies"},Fe={key:1,class:"grid-items","infinite-scroll-distance":"500","infinite-scroll-disabled":"disabled"};function De(e,t,n,a,o,i){var r=Object(c["V"])("Skeleton"),l=Object(c["V"])("MovieItem"),s=Object(c["V"])("router-link"),u=Object(c["V"])("LoadingSpinner"),d=Object(c["W"])("infinite-scroll");return Object(c["M"])(),Object(c["m"])("div",Ve,[Object(c["n"])("div",Re,[Object(c["n"])("div",Ee,[Object(c["n"])("div",Le,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(a.Tags,(function(e){return Object(c["M"])(),Object(c["m"])("dl",{key:e.id},[Object(c["n"])("dt",Ae,[Object(c["n"])("span",null,Object(c["Z"])(e.title),1)]),Object(c["n"])("dd",null,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.options,(function(t,n){return Object(c["M"])(),Object(c["m"])("a",{onClick:function(t){return a.handleFilter(e.id,e.value[n])},key:t,class:Object(c["A"])(["tag-label",a.filterTags[e.id]===e.value[n]&&"active"])},Object(c["Z"])(t),11,Te)})),128))])])})),128))])]),Object(c["n"])("div",Ne,[a.loading?(Object(c["M"])(),Object(c["k"])(r,{key:0,type:"movies"})):Object(c["lb"])((Object(c["M"])(),Object(c["m"])("ul",Fe,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(a.categoryMovie,(function(e){return Object(c["M"])(),Object(c["k"])(s,{class:"item-wrap",key:e.id,to:"/movie/".concat(e.id)},{default:Object(c["kb"])((function(){return[Object(c["q"])(l,{movie:e},null,8,["movie"])]})),_:2},1032,["to"])})),128))],512)),[[d,a.loadMore]]),a.hasMorePages?(Object(c["M"])(),Object(c["k"])(u,{key:2})):Object(c["l"])("",!0)])])])}Object(c["N"])();var Ue=n("d76c"),ze=n("9bb3"),Ze=[{id:"region",title:"地区",options:["全部","韩剧","日剧","美剧","港剧"],value:["ALL","HAN","RI","MEI","GANG"]},{id:"year",title:"时间",options:["全部","2021","2020","2019","2018","2017","2016"],value:["ALL","2021","2020","2019","2018","2017","2016"]},{id:"scopes",title:"排序",options:["全部","最新","最热","评分"],value:["ALL","NEW","HOT","SCORE"]}],He={components:{MovieItem:W,LoadingSpinner:Ue["a"],Skeleton:q["a"]},setup:function(e){var t=Object(ze["a"])("--column-movie-items-per-row"),n=Object(c["Q"])(Ze),a=Object(c["R"])(function(){var e,c={first:6*t.value},a=Object(Z["a"])(n);try{for(a.s();!(e=a.n()).done;){var o=e.value;c[o.id]=o.value[0]}}catch(i){a.e(i)}finally{a.f()}return c}());function o(e,t){a.value[e]=t,window.pwaEventTrack("筛选电影",t)}var i=Object(l["X"])(a),r=i.loading,s=i.disabled,u=i.loadMore,d=i.hasMorePages,b=i.categoryMovie;return{Tags:n,filterTags:a,handleFilter:o,loading:r,disabled:s,loadMore:u,hasMorePages:d,categoryMovie:b}}};n("be16");He.render=De,He.__scopeId="data-v-3353fdd8";var Be=He;Object(c["P"])("data-v-20b1960c");var We={id:"video-center"},Qe={class:"fluid-content"},Ge={class:"flow-items","infinite-scroll-disabled":"disabled"};function Je(e,t,n,a,o,i){var r=Object(c["V"])("Skeleton"),l=Object(c["V"])("VideoItem"),s=Object(c["V"])("LoadingSpinner"),u=Object(c["W"])("infinite-scroll");return Object(c["M"])(),Object(c["m"])("div",We,[Object(c["n"])("div",Qe,[a.loading?(Object(c["M"])(),Object(c["k"])(r,{key:0,type:"videos"})):Object(c["l"])("",!0),Object(c["lb"])(Object(c["n"])("div",Ge,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(a.publicPosts,(function(e,t){return Object(c["M"])(),Object(c["m"])("div",{class:"item-wrap",key:t},[Object(c["q"])(l,{video:e},null,8,["video"])])})),128))],512),[[u,a.loadMore]]),a.hasMorePages?(Object(c["M"])(),Object(c["k"])(s,{key:1})):Object(c["l"])("",!0)])])}Object(c["N"])();var Ke=n("5fdc"),Ye={components:{Skeleton:q["a"],VideoItem:Ke["a"],LoadingSpinner:Ue["a"]},setup:function(){var e=Object(ze["a"])("--column-video-items-per-row"),t=Object(c["R"])({first:5*e.value}),n=Object(l["ib"])(t),a=n.loading,o=n.disabled,i=n.loadMore,r=n.hasMorePages,s=n.publicPosts;return{loading:a,disabled:o,loadMore:i,hasMorePages:r,publicPosts:s}}};n("ceee");Ye.render=Je,Ye.__scopeId="data-v-20b1960c";var Xe=Ye;Object(c["P"])("data-v-54675879");var et={id:"scene-container"},tt={class:"fluid-content"},nt={class:"user-center"},ct={class:"userinfo-wrap"},at={class:"tabs-wrap"},ot={class:"pane-content"},it={class:"pane-content"},rt={class:"pane-content"};function lt(e,t,n,a,o,i){var r=Object(c["V"])("Masthead"),l=Object(c["V"])("UserInfo"),s=Object(c["V"])("UserPosts"),u=Object(c["V"])("el-tab-pane"),d=Object(c["V"])("MoviesFavorite"),b=Object(c["V"])("MoviesHistory"),v=Object(c["V"])("el-tabs");return Object(c["M"])(),Object(c["m"])(c["b"],null,[Object(c["q"])(r),Object(c["n"])("div",et,[Object(c["n"])("div",tt,[Object(c["n"])("div",nt,[Object(c["n"])("div",ct,[Object(c["q"])(l,{"user-id":a.userId},null,8,["user-id"])]),Object(c["n"])("div",at,[Object(c["q"])(v,{modelValue:a.activeName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.activeName=e}),class:"ant-tabs"},{default:Object(c["kb"])((function(){return[a.userId?(Object(c["M"])(),Object(c["k"])(u,{key:0,label:"发布",name:"posts"},{default:Object(c["kb"])((function(){return[Object(c["n"])("div",ot,[Object(c["q"])(s,{userId:a.userId},null,8,["userId"])])]})),_:1})):Object(c["l"])("",!0),a.userId?(Object(c["M"])(),Object(c["k"])(u,{key:1,label:"收藏",name:"favorite"},{default:Object(c["kb"])((function(){return[Object(c["n"])("div",it,[Object(c["q"])(d,{userId:a.userId},null,8,["userId"])])]})),_:1})):Object(c["l"])("",!0),a.userId?(Object(c["M"])(),Object(c["k"])(u,{key:2,label:"记录",name:"history"},{default:Object(c["kb"])((function(){return[Object(c["n"])("div",rt,[Object(c["q"])(b,{userId:a.userId},null,8,["userId"])])]})),_:1})):Object(c["l"])("",!0)]})),_:1},8,["modelValue"])])])])])],64)}Object(c["N"])();n("5319");var st=n("5502"),ut=n("02bc"),dt=n("6d5e"),bt=n("28b6"),vt=n("77e9"),Ot=n("31f0"),mt={posts:"posts",favorite:"favorite",history:"history"},jt={components:{Empty:ut["default"],UserInfo:dt["a"],UserPosts:bt["a"],MoviesFavorite:vt["a"],MoviesHistory:Ot["a"]},props:["params","query"],setup:function(e){var t,n,a,o,i,r=Object(st["b"])(),l=Object(c["R"])(null===(t=r.state)||void 0===t||null===(n=t.user)||void 0===n||null===(a=n.user)||void 0===a?void 0:a.id),u=Object(c["cb"])(e),d=u.query,b=Object(c["R"])(mt[String(null===(o=d.value)||void 0===o?void 0:o.tab)]||mt.posts),v=Object(s["d"])();return Object(c["ib"])(d,(function(e,t){b.value=mt[String(null===e||void 0===e?void 0:e.tab)]||mt.posts})),Object(c["ib"])(b,(function(e,t){v.replace({query:{tab:b.value}})})),Object(c["ib"])(null===(i=r.state)||void 0===i?void 0:i.user,(function(e,t){var n;null!==(n=e.user)&&void 0!==n&&n.id||v.replace("/")})),{userId:l,activeName:b}}};n("377b");jt.render=lt,jt.__scopeId="data-v-54675879";var pt=jt;Object(c["P"])("data-v-4f4a01a9");var ft={id:"scene-container"},gt={class:"notfound"};function ht(e,t,n,a,o,i){var r=Object(c["V"])("Masthead"),l=Object(c["V"])("Empty"),s=Object(c["V"])("Footer");return Object(c["M"])(),Object(c["m"])(c["b"],null,[Object(c["q"])(r),Object(c["n"])("div",ft,[Object(c["n"])("div",gt,[Object(c["q"])(l,{type:"notfound",imageSize:"30%",description:"页面可能暂时走丢了"})]),Object(c["q"])(s)])],64)}Object(c["N"])();var yt={};n("4f7f");yt.render=ht,yt.__scopeId="data-v-4f4a01a9";var wt=yt;n("c96a");Object(c["P"])("data-v-2b25af82");var kt={id:"scene-container"},Mt={class:"fluid-content"},_t={class:"search-container"},It={class:"top-searchbar show-lg"},Pt={class:"hot-search"},Ct=Object(c["n"])("div",{class:"pannel-title"},[Object(c["n"])("h4",null,"热门搜索")],-1),$t={key:0,class:"pannel-hotlist"},St={class:"i-box"},xt={class:"main-content"},qt={class:"search-result"},Vt={key:0,class:"empty-description"},Rt=Object(c["p"])(" 抱歉，没有找到“ "),Et={class:"keyword"},Lt=Object(c["p"])(" ”的相关视频 "),At={key:1,class:"empty-description"},Tt={key:0,class:"pagination-wrap"};function Nt(e,t,n,a,o,i){var r=Object(c["V"])("Masthead"),l=Object(c["V"])("SearchBar"),s=Object(c["V"])("router-link"),u=Object(c["V"])("Skeleton"),d=Object(c["V"])("SearchMovieItem"),b=Object(c["V"])("Empty"),v=Object(c["V"])("el-pagination"),O=Object(c["V"])("Footer"),m=Object(c["V"])("SideBar");return Object(c["M"])(),Object(c["m"])(c["b"],null,[Object(c["q"])(r),Object(c["n"])("div",kt,[Object(c["n"])("div",Mt,[Object(c["n"])("div",_t,[Object(c["n"])("div",It,[Object(c["q"])(l)]),Object(c["n"])("div",Pt,[Ct,a.searchLogs.length>0?(Object(c["M"])(),Object(c["m"])("ul",$t,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(a.searchLogs,(function(e,t){return Object(c["M"])(),Object(c["m"])("li",{class:"hot-item",key:e.id},[Object(c["q"])(s,{to:"/search?keyword=".concat(e.name)},{default:Object(c["kb"])((function(){return[Object(c["n"])("em",St,Object(c["Z"])(t+1),1),Object(c["p"])(" "+Object(c["Z"])(e.name),1)]})),_:2},1032,["to"])])})),128))])):Object(c["l"])("",!0)]),Object(c["n"])("div",xt,[Object(c["n"])("div",qt,[a.loading?(Object(c["M"])(),Object(c["k"])(u,{key:0,type:"searched-movies",count:4})):a.searchMovies.length>0?(Object(c["M"])(!0),Object(c["m"])(c["b"],{key:1},Object(c["T"])(a.searchMovies,(function(e){return Object(c["M"])(),Object(c["m"])(c["b"],{key:e.id},[null!==e&&void 0!==e&&e.id?(Object(c["M"])(),Object(c["k"])(d,{key:0,movie:e},null,8,["movie"])):Object(c["l"])("",!0)],64)})),128)):(Object(c["M"])(),Object(c["k"])(b,{key:2,type:"content",imageSize:"30%"},{default:Object(c["kb"])((function(){return[a.keyword?(Object(c["M"])(),Object(c["m"])("p",Vt,[Rt,Object(c["n"])("em",Et,Object(c["Z"])(a.keyword),1),Lt])):(Object(c["M"])(),Object(c["m"])("p",At," 输入关键词搜索相关视频 "))]})),_:1}))]),a.total>10?(Object(c["M"])(),Object(c["m"])("div",Tt,[Object(c["q"])(v,{background:"","page-size":10,small:i.paginationAttr.small,total:a.total,"pager-count":i.paginationAttr.pager_count,layout:"prev, pager, next","hide-on-single-page":!0,onCurrentChange:a.onCurrentChange},null,8,["small","total","pager-count","onCurrentChange"])])):Object(c["l"])("",!0)])])])]),Object(c["q"])(O),Object(c["q"])(m)],64)}Object(c["N"])(),Object(c["P"])("data-v-51493a50");var Ft={class:"movie-card-item"},Dt={class:"figure-pic"},Ut={class:"figure-tag"},zt={key:0,class:"figure-caption"},Zt={key:0,class:"video-duration"},Ht={key:1,class:"movie-score hide-xs"},Bt={class:"card-detail"},Wt={class:"info-wapper"},Qt={class:"movie-title"},Gt={class:"movie-info"},Jt={key:0,class:"info-item hide-sm"},Kt=Object(c["n"])("span",{class:"label"},"导  演：",-1),Yt={class:"label content"},Xt={key:1,class:"info-item hide-sm"},en=Object(c["n"])("span",{class:"label"},"主  演：",-1),tn={class:"label content"},nn={key:2,class:"info-item info-item-desc"},cn=Object(c["n"])("span",{class:"label"},"简  介：",-1),an={class:"desc-text"},on=Object(c["p"])(" 详细"),rn=Object(c["n"])("i",{class:"el-icon-arrow-right"},null,-1),ln={class:"movie-operation"},sn=Object(c["p"])(" 立即播放 "),un={key:0,t:"1632905874356",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"40911"},dn=Object(c["n"])("path",{d:"M720.398507 959.573333c73.045333 31.317333 136.96-15.317333 129.706666-94.293333l-20.650666-226.218667 174.634666-199.722666c38.144-43.648 19.2-102.229333-37.418666-115.114667l-258.474667-58.794667-135.68-228.010666c-29.738667-49.877333-91.306667-49.92-121.045333 0L315.74784 265.429333 57.273173 324.224C0.953173 337.066667-18.33216 395.648 19.854507 439.338667l174.634666 199.722666-24.021333 264.405334c-5.248 57.770667 44.544 94.037333 97.877333 71.125333l243.626667-104.533333 208.426667 89.472z","p-id":"40912"},null,-1),bn=[dn];function vn(e,t,n,a,o,i){var r,l,s,u,d,b,v,O,m,j,p,f,g,h=Object(c["V"])("router-link"),y=Object(c["W"])("lazyload"),w=Object(c["W"])("auth");return Object(c["M"])(),Object(c["m"])("div",Ft,[Object(c["q"])(h,{class:"card-figure",to:"/movie/".concat(a.movie.id),title:null===(r=a.movie)||void 0===r?void 0:r.name},{default:Object(c["kb"])((function(){return[Object(c["n"])("div",Dt,[Object(c["lb"])(Object(c["n"])("img",null,null,512),[[y,a.movie.cover]])]),Object(c["n"])("div",Ut,[a.tag?(Object(c["M"])(),Object(c["m"])("div",{key:0,class:Object(c["A"])(["content-pack-tag","tag-".concat(a.tag.color)])},Object(c["Z"])(a.tag.name),3)):Object(c["l"])("",!0)]),a.movie.score?(Object(c["M"])(),Object(c["m"])("div",zt,[a.movie.count_series>2?(Object(c["M"])(),Object(c["m"])("span",Zt,Object(c["Z"])(a.movie.finished?"全":"更新至")+Object(c["Z"])(a.movie.count_series)+"集 ",1)):Object(c["l"])("",!0),a.movie.score>0?(Object(c["M"])(),Object(c["m"])("span",Ht,Object(c["Z"])(a.movie.score),1)):Object(c["l"])("",!0)])):Object(c["l"])("",!0)]})),_:1},8,["to","title"]),Object(c["n"])("div",Bt,[Object(c["n"])("div",Wt,[Object(c["n"])("h2",Qt,[Object(c["q"])(h,{class:"movie-name",to:"/movie/".concat(null===(l=a.movie)||void 0===l?void 0:l.id)},{default:Object(c["kb"])((function(){var e;return[Object(c["n"])("span",null,Object(c["Z"])(null===(e=a.movie)||void 0===e?void 0:e.name),1)]})),_:1},8,["to"])]),Object(c["n"])("div",Gt,[null!==(s=a.movie)&&void 0!==s&&s.producer?(Object(c["M"])(),Object(c["m"])("div",Jt,[Kt,Object(c["n"])("span",Yt,[Object(c["n"])("span",null,Object(c["Z"])(null===(u=a.movie)||void 0===u?void 0:u.producer),1)])])):Object(c["l"])("",!0),null!==(d=a.movie)&&void 0!==d&&d.actors?(Object(c["M"])(),Object(c["m"])("div",Xt,[en,Object(c["n"])("span",tn,Object(c["Z"])(null===(b=a.movie)||void 0===b?void 0:b.actors),1)])):Object(c["l"])("",!0),null!==(v=a.movie)&&void 0!==v&&v.introduction?(Object(c["M"])(),Object(c["m"])("div",nn,[cn,Object(c["n"])("span",an,[Object(c["p"])(Object(c["Z"])(null===(O=a.movie)||void 0===O?void 0:O.introduction)+" ",1),Object(c["q"])(h,{class:"desc-more",to:"/movie/".concat(null===(m=a.movie)||void 0===m?void 0:m.id)},{default:Object(c["kb"])((function(){return[on,rn]})),_:1},8,["to"])])])):Object(c["l"])("",!0)])]),Object(c["n"])("div",ln,[Object(c["q"])(h,{class:"op-button play",to:"/movie/".concat(null===(j=a.movie)||void 0===j?void 0:j.id)},{default:Object(c["kb"])((function(){return[sn]})),_:1},8,["to"]),Object(c["lb"])(Object(c["n"])("div",{class:Object(c["A"])(["op-button",null!==(p=a.movie)&&void 0!==p&&p.favorited?"favorited":"unfavorite"])},[null!==(f=a.movie)&&void 0!==f&&f.favorited?Object(c["l"])("",!0):(Object(c["M"])(),Object(c["m"])("svg",un,bn)),Object(c["p"])(" "+Object(c["Z"])(null!==(g=a.movie)&&void 0!==g&&g.favorited?"已追剧":"追剧"),1)],2),[[w,a.favoriteHandler,"click"]])])])])}Object(c["N"])();var On=n("5530"),mn={"剧情":{name:"剧集",color:"blue"},"电视剧":{name:"剧集",color:"blue"},"电影":{name:"电影",color:"red"},"综艺":{name:"综艺",color:"yellow"},"真人秀":{name:"综艺",color:"yellow"}},jn={name:"SearchMovieItem",props:{movie:Object},setup:function(e){var t,n=Object(c["cb"])(e),a=n.movie,o=Object(c["R"])(Object(On["a"])({},a.value)),i=Object(c["R"])((null===(t=o.value)||void 0===t?void 0:t.count_series)>1),r=Object(c["i"])((function(){var e,t,n=null===(e=o.value)||void 0===e||null===(t=e.type)||void 0===t?void 0:t.split(","),c="";if(Array.isArray(n)){var a,i=Object(Z["a"])(n);try{for(i.s();!(a=i.n()).done;){var r=a.value;r&&(c=mn[r])}}catch(l){i.e(l)}finally{i.f()}}return c})),s=Object(l["bb"])({id:o.value.id,type:"movies"},{fetchPolicy:"network-only"}),u=s.toggleFavorite,d=s.onDone;d((function(e){var t,n=e.data;n&&(o.value.favorited=null===n||void 0===n||null===(t=n.toggleFavorite)||void 0===t?void 0:t.favorited)}));var b=Object(oe["debounce"])((function(){o.value.favorited=!o.value.favorited,u()}),500);return{tag:r,movie:o,isSeries:i,favoriteHandler:b}}};n("7ab0");jn.render=vn,jn.__scopeId="data-v-51493a50";var pn=jn,fn=n("14ac"),gn={name:"Search",components:{SearchBar:fn["a"],SearchMovieItem:pn,Skeleton:q["a"],Empty:ut["default"]},props:["query"],setup:function(e){var t,n=Object(c["cb"])(e),a=n.query,o=Object(c["R"])((null===(t=a.value)||void 0===t?void 0:t.keyword)||""),i=Object(c["R"])(1),r=Object(l["kb"])(),s=r.searchLogs,u=Object(l["lb"])({keyword:o,page:i},{fetchPolicy:"network-only",enabled:o.value}),d=u.loading,b=u.searchMovies,v=u.total;function O(e){i.value=e}return Object(c["ib"])(a,(function(e,t){o.value=null===e||void 0===e?void 0:e.keyword})),{keyword:o,loading:d,total:v,searchLogs:s,searchMovies:b,onCurrentChange:O}},computed:{paginationAttr:function(){return screen.width<576?{pager_count:5,small:!0}:{pager_count:9,small:!1}}}};n("436a"),n("4a27");gn.render=Nt,gn.__scopeId="data-v-2b25af82";var hn=gn;Object(c["P"])("data-v-597262d4");var yn={class:"movie-play"},wn={class:"play-detail"},kn={class:"mod-main"},Mn={class:"player-wrap"},_n={class:"embed-responsive"},In={class:"player-container"},Pn={key:0,class:"player-overlay"},Cn=Object(c["p"])("视频加载失败，请尝试切换线路或"),$n={class:"media-wrap"},Sn={class:"intro-text"},xn=Object(c["p"])("收起 "),qn=Object(c["n"])("i",{class:"el-icon-arrow-up"},null,-1),Vn=[xn,qn],Rn=Object(c["p"])("展开 "),En=Object(c["n"])("i",{class:"el-icon-arrow-down"},null,-1),Ln=[Rn,En],An={class:"movie-card show-lg"},Tn=["src"],Nn={class:"brief"},Fn={class:"brief-title"},Dn={class:"meta"},Un={class:"text"},zn=Object(c["p"])("收起 "),Zn=Object(c["n"])("i",{class:"el-icon-arrow-up"},null,-1),Hn=[zn,Zn],Bn=Object(c["p"])("展开 "),Wn=Object(c["n"])("i",{class:"el-icon-arrow-down"},null,-1),Qn=[Bn,Wn],Gn={key:1,class:"mod-eplist show-lg"},Jn={class:"mod-wrap show-lg"},Kn=Object(c["n"])("div",{class:"mod-title"},[Object(c["n"])("h3",null,"影视推荐")],-1),Yn={class:"list-items"},Xn={class:"mod-side"},ec={class:"mod-wrap"},tc={key:0,class:"mod-wrap"},nc={class:"mod-wrap"},cc=Object(c["n"])("div",{class:"mod-title"},[Object(c["n"])("h3",null,"影视推荐")],-1),ac={class:"list-items"};function oc(e,t,n,a,o,i){var r,l,s,u,d,b,v,O,m,j,p,f,g,h,y,w,k,M,_,I,P=Object(c["V"])("Masthead"),C=Object(c["V"])("DPlayer"),$=Object(c["V"])("MovieToolbar"),S=Object(c["V"])("MovieEpisodes"),x=Object(c["V"])("Skeleton"),q=Object(c["V"])("RCMovieItem"),V=Object(c["V"])("router-link"),R=Object(c["V"])("CommentModule"),E=Object(c["V"])("MovieInfo"),L=Object(c["V"])("Footer"),A=Object(c["V"])("SideBar"),T=Object(c["V"])("FeedbackModal"),N=Object(c["V"])("InviteModal");return Object(c["M"])(),Object(c["m"])(c["b"],null,[Object(c["q"])(P),Object(c["n"])("div",yn,[Object(c["n"])("div",wn,[Object(c["n"])("div",kn,[Object(c["n"])("div",Mn,[Object(c["n"])("div",_n,[Object(c["n"])("div",In,[a.videoSource?Object(c["lb"])((Object(c["M"])(),Object(c["k"])(C,{key:0,timeLimits:a.showInvitePrompt?360:0,source:a.videoSource,progress:a.last_watch_progress,onPlayEnded:a.playNextEpisode,onOnError:a.onPlayError,onOnProgress:a.saveWatchProgress,onOnTimeLimits:i.showInviteOverlay},null,8,["timeLimits","source","progress","onPlayEnded","onOnError","onOnProgress","onOnTimeLimits"])),[[c["hb"],o.playerVisible]]):Object(c["l"])("",!0)]),null!==(r=a.movie)&&void 0!==r&&r.id&&!a.videoSource||a.playError?(Object(c["M"])(),Object(c["m"])("div",Pn,[Object(c["n"])("p",null,[Cn,Object(c["n"])("button",{onClick:t[0]||(t[0]=function(){return i.showFeedback&&i.showFeedback.apply(i,arguments)})},"提交反馈")])])):Object(c["l"])("",!0)])]),Object(c["n"])("div",$n,[Object(c["n"])("div",{class:Object(c["A"])(["movie-intro","hide-lg",o.isCollapse&&"collapse"])},[Object(c["n"])("div",Sn,[Object(c["p"])(Object(c["Z"])(null===(l=a.movie)||void 0===l?void 0:l.introduction)+" ",1),Object(c["n"])("span",{class:"down-up up-box",onClick:t[1]||(t[1]=function(){return i.toggleCollapse&&i.toggleCollapse.apply(i,arguments)})},Vn)]),Object(c["n"])("span",{class:"down-up down-box",onClick:t[2]||(t[2]=function(){return i.toggleCollapse&&i.toggleCollapse.apply(i,arguments)})},Ln)],2),Object(c["n"])("div",An,[null!==(s=a.movie)&&void 0!==s&&s.cover?(Object(c["M"])(),Object(c["m"])("img",{key:0,class:"poster",src:null===(u=a.movie)||void 0===u?void 0:u.cover,alt:""},null,8,Tn)):Object(c["l"])("",!0),Object(c["n"])("div",Nn,[Object(c["n"])("div",Fn,[Object(c["p"])(Object(c["Z"])(null===(d=a.movie)||void 0===d?void 0:d.name)+" ",1),Object(c["lb"])(Object(c["n"])("div",Dn,[Object(c["n"])("span",null,Object(c["Z"])(null===(b=a.movie)||void 0===b?void 0:b.score)+" 分",1),Object(c["p"])(" · "+Object(c["Z"])(null===(v=a.movie)||void 0===v?void 0:v.year)+"年 · "+Object(c["Z"])(null===(O=a.movie)||void 0===O?void 0:O.region),1)],512),[[c["hb"],null===(m=a.movie)||void 0===m?void 0:m.score]])]),Object(c["n"])("div",{class:Object(c["A"])(["brief-desc",o.isCollapse&&"collapse"])},[Object(c["n"])("div",Un,[Object(c["p"])(Object(c["Z"])(null===(j=a.movie)||void 0===j?void 0:j.introduction)+" ",1),Object(c["n"])("span",{class:"down-up up-box",onClick:t[3]||(t[3]=function(){return i.toggleCollapse&&i.toggleCollapse.apply(i,arguments)})},Hn)]),Object(c["n"])("span",{class:"down-up down-box",onClick:t[4]||(t[4]=function(){return i.toggleCollapse&&i.toggleCollapse.apply(i,arguments)})},Qn)],2)])]),a.movie?(Object(c["M"])(),Object(c["k"])($,{key:0,movie:a.movie},null,8,["movie"])):Object(c["l"])("",!0),null!==(p=a.movie)&&void 0!==p&&p.play_lines&&(null===(f=a.series)||void 0===f?void 0:f.length)>0?(Object(c["M"])(),Object(c["m"])("div",Gn,[Object(c["q"])(S,{type:a.movie.type,playlines:null===(g=a.movie)||void 0===g?void 0:g.play_lines,series:a.series,"current-episode":a.videoSource,onChangePlayline:a.changePlayline,onChangeEpisode:a.changeEpisode},null,8,["type","playlines","series","current-episode","onChangePlayline","onChangeEpisode"])])):Object(c["l"])("",!0),Object(c["n"])("div",Jn,[Kn,Object(c["n"])("div",Yn,[null!==(h=a.relatedMovies)&&void 0!==h&&h.length?(Object(c["M"])(!0),Object(c["m"])(c["b"],{key:1},Object(c["T"])(a.relatedMovies.slice(0,4),(function(e){return Object(c["M"])(),Object(c["k"])(V,{class:"list-item",key:e.id,to:"/movie/".concat(e.id)},{default:Object(c["kb"])((function(){return[Object(c["q"])(q,{movie:e},null,8,["movie"])]})),_:2},1032,["to"])})),128)):(Object(c["M"])(),Object(c["k"])(x,{key:0,type:"recommend-movies",count:4}))])]),null!==(y=a.movie)&&void 0!==y&&y.id?(Object(c["M"])(),Object(c["k"])(R,{key:2,"commentable-id":null===(w=a.movie)||void 0===w?void 0:w.id},null,8,["commentable-id"])):Object(c["l"])("",!0)])]),Object(c["n"])("div",Xn,[Object(c["n"])("div",ec,[Object(c["q"])(E,{movie:a.movie},null,8,["movie"])]),null!==(k=a.movie)&&void 0!==k&&k.play_lines&&(null===(M=a.series)||void 0===M?void 0:M.length)>0?(Object(c["M"])(),Object(c["m"])("div",tc,[Object(c["q"])(S,{type:a.movie.type,playlines:null===(_=a.movie)||void 0===_?void 0:_.play_lines,series:a.series,"current-episode":a.videoSource,onChangePlayline:a.changePlayline,onChangeEpisode:a.changeEpisode},null,8,["type","playlines","series","current-episode","onChangePlayline","onChangeEpisode"])])):Object(c["l"])("",!0),Object(c["n"])("div",nc,[cc,Object(c["n"])("div",ac,[null!==(I=a.relatedMovies)&&void 0!==I&&I.length?(Object(c["M"])(!0),Object(c["m"])(c["b"],{key:1},Object(c["T"])(a.relatedMovies,(function(e){return Object(c["M"])(),Object(c["k"])(V,{class:"list-item",key:null===e||void 0===e?void 0:e.id,to:"/movie/".concat(null===e||void 0===e?void 0:e.id)},{default:Object(c["kb"])((function(){return[Object(c["q"])(q,{movie:e},null,8,["movie"])]})),_:2},1032,["to"])})),128)):(Object(c["M"])(),Object(c["k"])(x,{key:0,type:"recommend-movies"}))])])])])]),Object(c["q"])(L),Object(c["q"])(A),Object(c["q"])(T),Object(c["q"])(N,{movie:a.movie,onOnChange:i.changePlayerVisible},null,8,["movie","onOnChange"])],64)}Object(c["N"])();var ic=n("1da1"),rc=(n("96cf"),n("99af"),n("0613")),lc=n("1c97"),sc=n("be7c"),uc=n("5974");Object(c["P"])("data-v-35511890");var dc={class:"movie-info"},bc={class:"movie-cover",rel:"noopener noreferrer"},vc=["src"],Oc={class:"brief-detail"},mc={class:"movie-title"},jc={class:"movie-name webkit-text-ellipsis"},pc={class:"movie-score"},fc={class:"movie-meta"},gc={class:"meta-item"},hc=Object(c["n"])("span",{class:"meta-name"},"年份",-1),yc={class:"meta-count"},wc={class:"meta-item"},kc=Object(c["n"])("span",{class:"meta-name"},"地区",-1),Mc={class:"meta-count"},_c={class:"meta-item"},Ic=Object(c["n"])("span",{class:"meta-name"},"类型",-1),Pc={class:"meta-count"};function Cc(e,t,n,a,o,i){var r,l,s,u,d,b,v;return Object(c["M"])(),Object(c["m"])("div",dc,[Object(c["n"])("div",bc,[null!==(r=n.movie)&&void 0!==r&&r.cover?(Object(c["M"])(),Object(c["m"])("img",{key:0,class:"poster",src:null===(l=n.movie)||void 0===l?void 0:l.cover,alt:""},null,8,vc)):Object(c["l"])("",!0)]),Object(c["n"])("div",Oc,[Object(c["n"])("div",mc,[Object(c["n"])("div",jc,Object(c["Z"])(null===(s=n.movie)||void 0===s?void 0:s.name),1),Object(c["n"])("div",pc,Object(c["Z"])((null===(u=n.movie)||void 0===u?void 0:u.score)||"评")+"分",1)]),Object(c["n"])("div",fc,[Object(c["n"])("p",gc,[hc,Object(c["n"])("span",yc,Object(c["Z"])(null===(d=n.movie)||void 0===d?void 0:d.year),1)]),Object(c["n"])("p",wc,[kc,Object(c["n"])("span",Mc,Object(c["Z"])(null===(b=n.movie)||void 0===b?void 0:b.region),1)]),Object(c["n"])("p",_c,[Ic,Object(c["n"])("span",Pc,Object(c["Z"])(null===(v=n.movie)||void 0===v?void 0:v.type),1)])])])])}Object(c["N"])();var $c={props:{movie:Object}};n("7b34");$c.render=Cc,$c.__scopeId="data-v-35511890";var Sc=$c;Object(c["P"])("data-v-021c5dda");var xc={class:"movie-toolbar"},qc={class:"user-operation"},Vc={class:"operation-item"},Rc=Object(c["n"])("svg",{t:"1632905874356",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"40911"},[Object(c["n"])("path",{d:"M720.398507 959.573333c73.045333 31.317333 136.96-15.317333 129.706666-94.293333l-20.650666-226.218667 174.634666-199.722666c38.144-43.648 19.2-102.229333-37.418666-115.114667l-258.474667-58.794667-135.68-228.010666c-29.738667-49.877333-91.306667-49.92-121.045333 0L315.74784 265.429333 57.273173 324.224C0.953173 337.066667-18.33216 395.648 19.854507 439.338667l174.634666 199.722666-24.021333 264.405334c-5.248 57.770667 44.544 94.037333 97.877333 71.125333l243.626667-104.533333 208.426667 89.472z","p-id":"40912"})],-1),Ec=Object(c["n"])("div",{class:"op-button"},[Object(c["n"])("svg",{fill:"#909090",t:"1632905818952",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"39381",width:"90",height:"90"},[Object(c["n"])("path",{d:"M1014.88968 411.786477l-364.412811-400.854093c-14.576512-14.576512-36.441281-14.576512-51.017794 0C584.882562 25.508897 584.882562 32.797153 584.882562 47.373665l0 211.359431c-298.818505 0-583.060498 247.800712-583.060498 546.619217 0 80.170819 36.441281 182.206406 72.882562 218.647687 43.729537-225.935943 269.66548-400.854093 510.177936-400.854093 0 21.864769 0 218.647687 0 218.647687 0 7.288256 0 14.576512 7.288256 29.153025 14.576512 14.576512 43.729537 7.288256 51.017794 0l364.412811-393.565836C1022.177936 462.80427 1022.177936 448.227758 1022.177936 440.939502 1022.177936 433.651246 1022.177936 419.074733 1014.88968 411.786477z","p-id":"39382"})]),Object(c["n"])("span",null,"分享")],-1),Lc=[Ec],Ac={class:"operation-item download-app"},Tc=Object(c["n"])("svg",{t:"1632899144543",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"16900",width:"90",height:"90"},[Object(c["n"])("path",{d:"M757.76 30.72l-512 0C197.973333 30.72 160.426667 68.266667 160.426667 116.053333l0 791.893333c0 47.786667 37.546667 88.746667 88.746667 88.746667l215.04 0L580.266667 996.693333l177.493333 0c47.786667 0 88.746667-37.546667 88.746667-88.746667L846.506667 116.053333C846.506667 68.266667 808.96 30.72 757.76 30.72zM419.84 92.16l170.666667 0c6.826667 0 13.653333 6.826667 13.653333 13.653333s-6.826667 13.653333-13.653333 13.653333l-170.666667 0c-6.826667 0-13.653333-6.826667-13.653333-13.653333S409.6 92.16 419.84 92.16zM501.76 928.426667c-34.133333 0-61.44-27.306667-61.44-61.44 0-34.133333 27.306667-61.44 61.44-61.44s61.44 27.306667 61.44 61.44C563.2 901.12 535.893333 928.426667 501.76 928.426667z","p-id":"16901"})],-1),Nc=Object(c["n"])("span",null,"用APP看",-1),Fc=[Tc,Nc],Dc={class:"report-button hide-xs"},Uc=Object(c["n"])("svg",{class:"icon",viewBox:"0 0 1045 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[Object(c["n"])("path",{d:"M557.824 641.194667l17.92-219.818667 1.792-78.848h-87.808l1.792 78.848 17.322667 219.818667h48.981333zM533.333333 793.514667c29.866667 0 54.357333-20.906667 54.357334-51.968S563.2 688.981333 533.333333 688.981333c-29.866667 0-54.357333 21.504-54.357333 52.565334S503.466667 793.514667 533.333333 793.514667z","p-id":"37871"}),Object(c["n"])("path",{d:"M467.989333 116.096L92.309333 795.882667A74.666667 74.666667 0 0 0 157.653333 906.666667h751.36a74.666667 74.666667 0 0 0 65.344-110.784L598.677333 116.096a74.666667 74.666667 0 0 0-130.688 0z m70.506667 26.773333a10.666667 10.666667 0 0 1 4.181333 4.181334l375.68 679.786666a10.666667 10.666667 0 0 1-9.344 15.829334H157.653333a10.666667 10.666667 0 0 1-9.322666-15.829334l375.68-679.786666a10.666667 10.666667 0 0 1 14.485333-4.181334z","p-id":"37872"})],-1),zc=Object(c["n"])("span",null,"举报",-1),Zc=[Uc,zc];function Hc(e,t,n,a,o,i){var r=Object(c["W"])("auth");return Object(c["M"])(),Object(c["m"])("div",xc,[Object(c["n"])("ul",qc,[Object(c["n"])("li",Vc,[Object(c["lb"])(Object(c["n"])("div",{class:Object(c["A"])(["op-button",a.favorited&&"active"])},[Rc,Object(c["n"])("span",null,Object(c["Z"])(a.favorited?"已追剧":"追剧"),1)],2),[[r,a.favoriteHandler,"click"]])]),Object(c["n"])("li",{class:"operation-item",onClick:t[0]||(t[0]=function(){return i.showInviteModal&&i.showInviteModal.apply(i,arguments)})},Lc),Object(c["n"])("li",Ac,[Object(c["n"])("div",{class:"op-button",onClick:t[1]||(t[1]=function(){return i.downloadApp&&i.downloadApp.apply(i,arguments)})},Fc)])]),Object(c["lb"])(Object(c["n"])("div",Dc,Zc,512),[[r,i.showReportModal,"click"]])])}Object(c["N"])();var Bc=n("4995"),Wc=n("af51"),Qc={props:{movie:Object},setup:function(e){var t,n=Object(c["cb"])(e),a=n.movie,o=Object(c["R"])(null===(t=a.value)||void 0===t?void 0:t.favorited),i=Object(l["bb"])({id:a.value.id,type:"movies"},{fetchPolicy:"network-only"}),r=i.toggleFavorite,s=i.onDone;s((function(e){var t,n,c=e.data;c&&(o.value=null===c||void 0===c||null===(t=c.toggleFavorite)||void 0===t?void 0:t.favorited,Object(Bc["a"])({message:"".concat(null!==c&&void 0!==c&&null!==(n=c.toggleFavorite)&&void 0!==n&&n.favorited?"已追剧!":"取消追剧！"),type:"success"}))}));var u=Object(oe["debounce"])((function(){o.value=!o.value,r()}),500);function d(){Object(Bc["a"])({message:"即将上线，敬请期待",type:"info"})}return{favorited:o,favoriteHandler:u,watchTogether:d}},mounted:function(){var e,t={protocol:r["b"],index:{path:"/MovieDetail/".concat(JSON.stringify({id:null===(e=this.movie)||void 0===e?void 0:e.id}))}},n={inApp:!1,appVersion:r["d"],pkgName:r["a"],deeplink:{scheme:{android:t,ios:t}},pkgs:{android:r["c"]},useUniversalLink:!0,useAppLink:Object(Wc["supportLink"])(),autodemotion:!0,useYingyongbao:Wc["inWeixin"]&&Wc["isAndroid"],useGuideMethod:Wc["inWeibo"]&&Wc["isAndroid"],guideMethod:function(){alert("右上角->在浏览器中打开")},timeout:2e3,landPage:r["j"]};this.lanchApp=new Wc["LaunchApp"](n)},methods:{showInviteModal:function(){this.$bus.emit("SHOW_INVITE_MODAL"),window.pwaEventTrack("分享影片",this.movie.name,this.movie.id)},showReportModal:function(){this.$bus.emit("SHOW_REPORT_MODAL",{id:this.movie.id,title:"举报影视"}),window.pwaEventTrack("举报影视",this.movie.name,this.movie.id)},downloadApp:function(){r["q"]?(this.$bus.emit("SHOW_BROWSER_OPEN_PROMPT"),window.pwaEventTrack("用APP看","腾讯浏览器")):"IOS"===r["i"].OS?(this.$bus.emit("SHOW_IOS_PWA_PROMPT"),window.pwaEventTrack("用APP看","iOS浏览器")):(window.pwaEventTrack("用APP看","安卓浏览器"),this.openApp())},openApp:function(){this.lanchApp.open({launchType:{ios:"scheme",android:Wc["inWeixin"]?"store":"scheme"},timeout:2e3})}},data:function(){return{lanchApp:null}}};n("754a");Qc.render=Hc,Qc.__scopeId="data-v-021c5dda";var Gc=Qc;Object(c["P"])("data-v-e887fc12");var Jc={class:"movie-eplist"},Kc={class:"list-title"},Yc={title:"选集 | 线路"},Xc=Object(c["n"])("i",{class:"el-icon-arrow-right"},null,-1),ea=Object(c["n"])("div",{class:"change-line el-dropdown-link"},[Object(c["p"])(" 线路 "),Object(c["n"])("i",{class:"el-icon-arrow-down el-icon--right"})],-1),ta={key:0,class:"list-wrapper longlist"},na={class:"ep-list"},ca=["onClick","title"],aa={key:1,class:"list-wrapper"},oa={class:"playlines"},ia=["onClick","title"],ra={class:"ep-list show-lg"},la=["onClick","title"];function sa(e,t,n,a,o,i){var r,l,s,u,d,b,v,O,m=Object(c["V"])("el-dropdown-item"),j=Object(c["V"])("el-dropdown-menu"),p=Object(c["V"])("el-dropdown"),f=Object(c["V"])("el-drawer");return Object(c["M"])(),Object(c["m"])("div",null,[Object(c["n"])("div",Jc,[Object(c["n"])("div",Kc,[Object(c["n"])("h4",Yc,[Object(c["p"])(Object(c["Z"])((null===(r=n.series)||void 0===r?void 0:r.length)>1?"选集":"线路")+" ",1),(null===(l=n.series)||void 0===l?void 0:l.length)>10?(Object(c["M"])(),Object(c["m"])("span",{key:0,onClick:t[0]||(t[0]=function(e){return o.drawer=!0}),class:"more show-lg"},[Object(c["p"])(" 共"+Object(c["Z"])(null===(s=n.series)||void 0===s?void 0:s.length)+"集 ",1),Xc])):Object(c["l"])("",!0)]),(null===(u=n.series)||void 0===u?void 0:u.length)>1&&(null===(d=n.playlines)||void 0===d?void 0:d.length)>1?(Object(c["M"])(),Object(c["k"])(p,{key:0,onCommand:i.changePlayline},{dropdown:Object(c["kb"])((function(){return[Object(c["q"])(j,null,{default:Object(c["kb"])((function(){return[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(n.playlines,(function(e,t){return Object(c["M"])(),Object(c["k"])(m,{key:t,command:t,disabled:o.playlineIndex?o.playlineIndex===t:0===t},{default:Object(c["kb"])((function(){return[Object(c["n"])("span",null,Object(c["Z"])(e.name),1)]})),_:2},1032,["command","disabled"])})),128))]})),_:1})]})),default:Object(c["kb"])((function(){return[ea]})),_:1},8,["onCommand"])):Object(c["l"])("",!0)]),(null===(b=n.series)||void 0===b?void 0:b.length)>1?(Object(c["M"])(),Object(c["m"])("div",ta,[Object(c["n"])("ul",na,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(n.series,(function(e,t){return Object(c["M"])(),Object(c["m"])("li",{key:t,class:Object(c["A"])(["ep-item",n.currentEpisode.url===e.url&&"visited"])},[Object(c["n"])("button",{onClick:function(n){return i.changeEpisode(e,t)},title:e.name||"第".concat(t+1,"集"),class:"op-button text-ellipsis"},Object(c["Z"])(i.isVariety?e.name:t+1+"集"),9,ca)],2)})),128))])])):(Object(c["M"])(),Object(c["m"])("div",aa,[Object(c["n"])("ul",oa,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(n.playlines,(function(e,t){return Object(c["M"])(),Object(c["m"])("li",{key:t,class:Object(c["A"])({"ep-item":!0,visited:o.playlineIndex?o.playlineIndex===t:0===t})},[Object(c["n"])("button",{class:"op-button text-ellipsis",onClick:function(e){return i.changePlayline(t)},title:e.name+" · "+e.data[0].name},Object(c["Z"])(e.name)+" · "+Object(c["Z"])(e.data[0].name),9,ia)],2)})),128))])]))]),(null===(v=n.series)||void 0===v?void 0:v.length)>10?(Object(c["M"])(),Object(c["k"])(f,{key:0,modelValue:o.drawer,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.drawer=e}),title:"选集(".concat(null===(O=n.series)||void 0===O?void 0:O.length,")"),direction:"btt",size:"60%","custom-class":"drawer_ep-list"},{default:Object(c["kb"])((function(){return[Object(c["n"])("ul",ra,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(n.series,(function(e,t){return Object(c["M"])(),Object(c["m"])("li",{key:t,class:Object(c["A"])(["ep-item",n.currentEpisode.url===e.url&&"visited"])},[Object(c["n"])("button",{class:"op-button text-ellipsis",onClick:function(n){return i.changeEpisode(e,t)},title:e.name||"第".concat(t+1,"集")},Object(c["Z"])(i.isVariety?e.name:t+1+"集"),9,la)],2)})),128))])]})),_:1},8,["modelValue","title"])):Object(c["l"])("",!0)])}Object(c["N"])();n("caad"),n("2532");var ua={props:{type:String,series:Array,playlines:Array,currentEpisode:Object},computed:{isVariety:function(){return this.type.includes("综艺")||this.type.includes("真人秀")}},methods:{changeEpisode:function(e,t){this.$emit("changeEpisode",{episode:e,episodeIndex:t})},changePlayline:function(e){this.playlineIndex=e,this.$emit("changePlayline",this.playlines[e])}},data:function(){return{playlineIndex:"",drawer:!1}}};n("de7c"),n("a718");ua.render=sa,ua.__scopeId="data-v-e887fc12";var da=ua,ba={class:"content"},va={class:"header"};function Oa(e,t,n,a,o,i){var r=this,l=Object(c["V"])("invite-card"),s=Object(c["V"])("el-dialog");return Object(c["M"])(),Object(c["k"])(s,{center:"",modelValue:e.visible,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.visible=t}),"destroy-on-close":"","lock-scroll":"","show-close":!1,"custom-class":"invite-modal",onOpen:t[2]||(t[2]=function(t){return e.$emit("onChange",!0)}),onClose:t[3]||(t[3]=function(t){return e.$emit("onChange",!1)})},{default:Object(c["kb"])((function(){return[Object(c["n"])("div",ba,[Object(c["n"])("div",va,[Object(c["n"])("i",{class:"el-icon-circle-close",onClick:t[0]||(t[0]=function(e){return r.visible=!1})}),Object(c["n"])("p",null,Object(c["Z"])(e.isIos?"长按图片,添加到“照片”,分享至微信群继续看":"长按图片转发至微信群继续看"),1)]),Object(c["q"])(l,{movie:e.movie},null,8,["movie"])])]})),_:1},8,["modelValue"])}Object(c["P"])("data-v-1d3d67dc");var ma={class:"invite-card"},ja={id:"posterHtml"},pa=Object(c["n"])("img",{id:"poster-bg",src:"/img/bg_poster.png"},null,-1),fa={class:"poster-container"},ga=["v-if"],ha=["src"],ya={key:0,class:"poster-image-placeholder"},wa=["v-if"],ka=Object(c["n"])("div",{class:"description"},"我正在追，扫码打开一起看吧",-1),Ma={class:"content"},_a={class:"title"},Ia={class:"info"},Pa={class:"poster-bottom"},Ca=["src"],$a={class:"app-info"},Sa=Object(c["n"])("div",{id:"myCanvas",style:{display:"none"}},null,-1);function xa(e,t,n,a,o,i){var r,l,s,u,d;return Object(c["M"])(),Object(c["m"])("div",ma,[Object(c["n"])("div",ja,[pa,Object(c["n"])("div",fa,[Object(c["n"])("div",{class:"poster","v-if":e.postshow},[Object(c["lb"])(Object(c["n"])("img",{id:"poster-image",src:e.posterImg},null,8,ha),[[c["hb"],e.posterImg]]),e.posterImg?Object(c["l"])("",!0):(Object(c["M"])(),Object(c["m"])("img",ya)),Object(c["n"])("div",{id:"qrcodeImg","v-if":e.postcode},null,8,wa),ka,Object(c["n"])("div",Ma,[Object(c["n"])("h2",_a,Object(c["Z"])(null===(r=e.movie)||void 0===r?void 0:r.name),1),Object(c["n"])("div",Ia,Object(c["Z"])(null===(l=e.movie)||void 0===l?void 0:l.year)+"·"+Object(c["Z"])((null===(s=e.movie)||void 0===s?void 0:s.country)||"未知")+"·"+Object(c["Z"])(null===(u=e.movie)||void 0===u?void 0:u.type)+"·共"+Object(c["Z"])(null===(d=e.movie)||void 0===d?void 0:d.count_series)+"集 ",1)])],8,ga),Object(c["n"])("div",Pa,[Object(c["n"])("img",{class:"logo",src:e.appLogoUrl},null,8,Ca),Object(c["n"])("div",$a,[Object(c["n"])("h2",null,Object(c["Z"])(e.appNameCN),1),Object(c["n"])("p",null,Object(c["Z"])(e.appSlogan),1)])])])]),Sa])}Object(c["N"])();var qa=n("c0e9"),Va=n.n(qa),Ra=n("d044"),Ea=n.n(Ra),La=n("e5ab"),Aa=n("ebd5");function Ta(e,t){var n;document.querySelector("#"+e).addEventListener("touchstart",(function(e){clearTimeout(n),n=setTimeout((function(){t()}),100)})),document.querySelector("#"+e).addEventListener("touchmove",(function(e){clearTimeout(n)})),document.querySelector("#"+e).addEventListener("touchend",(function(e){clearTimeout(n)}))}var Na=Object(c["r"])({setup:function(){var e=!0,t=!0;return{appLogoUrl:r["e"],appNameCN:r["g"],appSlogan:r["h"],postshow:t,postcode:e}},mounted:function(){var e,t=this,n=document.getElementById("myCanvas");n.style.display="none",n.innerHTML="",document.getElementById("poster-image").onload=function(){var e="https://"+r["m"]+"/movie/"+t.movie.id;t.createQrcode(e),t.createPoster(),window.pwaEventTrack("生成海报",t.movie.name,t.movie.id)},Object(La["a"])(null===(e=this.movie)||void 0===e?void 0:e.cover).then((function(e){t.posterImg=e})).catch((function(e){console.log("error",e)}))},props:{movie:{type:Object,default:{}}},methods:{createQrcode:function(e){var t=document.getElementById("qrcodeImg");t.innerHTML="";var n=document.documentElement.clientWidth;n=60;var c=new Ea.a(t,{width:n,height:n,colorDark:"#000000",colorLight:"#ffffff",correctLevel:Ea.a.CorrectLevel.H});c.makeCode(e)},createPoster:function(){var e=this,t=document.getElementById("posterHtml"),n=1,c=t.offsetWidth,a=t.offsetHeight,o=document.createElement("canvas");o.width=c,o.height=a;n=2;o.width=c*n,o.height=a*n;var i={scale:n,canvas:o,width:c,height:a,useCORS:!0,allowTaint:!1,logging:!1,letterRendering:!0},r=this;Va()(t,i).then((function(t){t.getContext("2d");var n=Aa["a"].convertToPNG(t,t.width,t.height);e.postshow=!1,e.postcode=!1,n.style.width="100%",n.style.height="100%",n.style.borderRadius="8px",n.id="posterIMG";var c=document.getElementById("myCanvas");c.innerHTML="",c.appendChild(n);var a=r.movie;Ta("posterIMG",(function(){window.pwaEventTrack("长按分享",a.name,a.id)}));var o=function(){var e=document.getElementById("posterHtml");e.style.display="none";var t=document.getElementById("myCanvas");t.style.display="block"};o()}))}},data:function(){return{posterImg:null}}});n("4099");Na.render=xa,Na.__scopeId="data-v-1d3d67dc";var Fa=Na,Da=Object(c["r"])({components:{InviteCard:Fa},props:{movie:{type:Object,default:{}}},emits:["onChange"],mounted:function(){var e=this;this.$bus.on("SHOW_INVITE_MODAL",(function(){e.visible=!0}))},data:function(){return{visible:!1,isIos:"IOS"===r["i"].OS}}});n("4a7b2");Da.render=Oa;var Ua=Da;Object(c["P"])("data-v-15c178d7");var za={id:"feedback-dialog"},Za=Object(c["n"])("div",{class:"tips"}," 请详细描述您遇到的问题，便于平台更好的为您解决。 ",-1),Ha=Object(c["p"])(" 提交 ");function Ba(e,t,n,a,o,i){var r=Object(c["V"])("el-input"),l=Object(c["V"])("el-button"),s=Object(c["V"])("el-dialog"),u=Object(c["W"])("loading");return Object(c["lb"])((Object(c["M"])(),Object(c["m"])("div",za,[Object(c["q"])(s,{modelValue:e.visible,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.visible=t}),"custom-class":"feedback-modal",title:e.modalTitle,width:"90%","destroy-on-close":"",center:""},{default:Object(c["kb"])((function(){return[Za,Object(c["q"])(r,{modelValue:e.content,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.content=t}),maxlength:"140",placeholder:"请详细描述反馈问题，便于平台更好的解决问题","show-word-limit":"",type:"textarea",class:"input-style",resize:"none"},null,8,["modelValue"]),Object(c["q"])(l,{type:"primary",disabled:e.disabled,onClick:e.onSubmit,class:"submit-button"},{default:Object(c["kb"])((function(){return[Ha]})),_:1},8,["disabled","onClick"])]})),_:1},8,["modelValue","title"])],512)),[[u,e.loading,void 0,{fullscreen:!0,lock:!0}]])}Object(c["N"])();var Wa=n("3835"),Qa=n("d257"),Ga=Object(c["r"])({setup:function(){var e=Object(c["R"])(!1),t=Object(c["R"])(""),n=Object(a["c"])(l["m"],(function(){return{variables:{content:t.value},fetchPolicy:"network-only"}})),o=n.mutate,i=n.loading;function r(){return s.apply(this,arguments)}function s(){return s=Object(ic["a"])(regeneratorRuntime.mark((function t(){var n,c,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Qa["b"])((function(){return o()}));case 2:n=t.sent,c=Object(Wa["a"])(n,2),a=c[0],i=c[1],a?Bc["a"].error("反馈失败：".concat(Object(Qa["a"])(a))):null!==i&&void 0!==i&&i.data.createFeedback&&(e.value=!1,Object(Bc["a"])({message:"反馈成功!",type:"success"}));case 7:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}return{visible:e,loading:i,content:t,onSubmit:r}},computed:{disabled:function(){return!this.content}},mounted:function(){var e=this;this.$bus.on("SHOW_FEEDBACK_MODAL",(function(t){e.content=t,e.visible=!0}))},data:function(){return{content:"",modalTitle:"意见反馈"}}});n("c9a4"),n("7bf6");Ga.render=Ba,Ga.__scopeId="data-v-15c178d7";var Ja=Ga,Ka={name:"MovieDetail",components:{DPlayer:lc["a"],CommentModule:sc["a"],RCMovieItem:uc["a"],Skeleton:q["a"],MovieInfo:Sc,MovieToolbar:Gc,MovieEpisodes:da,InviteModal:Ua,FeedbackModal:Ja},setup:function(e){var t,n,o,i,r,u,d,b,v,O,m,j=Object(s["c"])(),p=Object(c["R"])(Number(null===(t=j.params)||void 0===t?void 0:t.id)),f=Object(c["R"])(!rc["a"].getItem("invitePrompt"+p.value));Object(c["ib"])(j,(function(e,t){var n;p.value=Number(null===(n=e.params)||void 0===n?void 0:n.id)}));var g=Object(l["fb"])({id:p}),h=g.movie,y=Object(l["jb"])({movie_id:p,limit:12}),w=y.relatedMovies,k=Object(c["R"])(null===(n=h.value)||void 0===n?void 0:n.play_lines),M=Object(c["R"])((null===(o=h.value)||void 0===o?void 0:o.last_watch_series)||0),_=Object(c["R"])((null===(i=h.value)||void 0===i?void 0:i.last_watch_progress)||0),I=Object(c["R"])(null===(r=k.value)||void 0===r||null===(u=r[0])||void 0===u?void 0:u.data),P=Object(c["R"])(null===(d=k.value)||void 0===d||null===(b=d[0])||void 0===b?void 0:b.name),C=Object(c["R"])(null===(v=I.value)||void 0===v?void 0:v[M.value]);function $(e){var t,n,c=e.episode,a=e.episodeIndex;M.value=a>=0?a:I.value.indexOf(C.value),C.value=c,window.pwaEventTrack("选集",null===(t=h.value)||void 0===t?void 0:t.name,null===(n=h.value)||void 0===n?void 0:n.id)}function S(){var e,t,n,c;(null===(e=I.value)||void 0===e?void 0:e.length)-1>M.value&&(M.value++,C.value=null===(t=I.value)||void 0===t?void 0:t[M.value],window.pwaEventTrack("播放下一集",null===(n=h.value)||void 0===n?void 0:n.name,null===(c=h.value)||void 0===c?void 0:c.id))}function x(e){var t,n,c;I.value=null===e||void 0===e?void 0:e.data,P.value=null===e||void 0===e?void 0:e.name,C.value=null===(t=I.value)||void 0===t?void 0:t[M.value],window.pwaEventTrack("切换线路",null===(n=h.value)||void 0===n?void 0:n.name,null===(c=h.value)||void 0===c?void 0:c.id),C.value||D()}Object(c["ib"])(h,(function(e,t){var n,c,a,o,i;k.value=null===e||void 0===e?void 0:e.play_lines,M.value=(null===e||void 0===e?void 0:e.last_watch_series)||0,_.value=(null===e||void 0===e?void 0:e.last_watch_progress)||0,I.value=null===(n=k.value)||void 0===n||null===(c=n[0])||void 0===c?void 0:c.data,P.value=null===(a=k.value)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.name,C.value=null===(i=I.value)||void 0===i?void 0:i[M.value],C.value||D(),null!==e&&void 0!==e&&e.name&&(null===e||void 0===e?void 0:e.name)!==(null===t||void 0===t?void 0:t.name)&&window.pwaEventTrack("播放影片",null===e||void 0===e?void 0:e.name,null===e||void 0===e?void 0:e.id)}));var q=Object(a["b"])().client,V=Object(st["b"])(),R=Object(c["R"])(null===(O=V.state)||void 0===O||null===(m=O.user)||void 0===m?void 0:m.user);function E(e){return L.apply(this,arguments)}function L(){return L=Object(ic["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(n=R.value)||void 0===n||!n.id){e.next=3;break}return e.next=3,q.mutate({mutation:l["G"],variables:{movie_id:p.value,series_index:M.value,progress:t},refetchQueries:function(){var e;return[{query:l["t"],variables:{user_id:null===(e=R.value)||void 0===e?void 0:e.id}},{query:l["z"]}]}});case 3:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}var A=Object(oe["throttle"])(E,8e3),T=Object(c["R"])(!1),N=Object(a["c"])(l["F"],(function(){return{variables:{movie_id:p.value,source_name:P.value}}})),F=N.mutate;function D(){console.log("onPlayError",p.value,P.value),T.value=!0,F()}return{movie:h,relatedMovies:w,play_lines:k,sourceName:P,series:I,videoSource:C,last_watch_series:M,last_watch_progress:_,changeEpisode:$,playNextEpisode:S,changePlayline:x,saveWatchProgress:A,showInvitePrompt:f,playError:T,onPlayError:D}},mounted:function(){var e=this,t=location.hostname.toLocaleLowerCase(),n=r["f"]===t.slice(0,t.lastIndexOf(".")),c=rc["a"].getItem("pwaPrompt");n&&!c&&"IOS"===r["i"].OS&&setTimeout((function(){e.$bus.emit("SHOW_IOS_PWA_PROMPT"),rc["a"].setItem("pwaPrompt",!0,86400)}),3e3)},methods:{toggleCollapse:function(){this.isCollapse=!this.isCollapse},showInviteOverlay:function(){var e,t,n;this.showInvitePrompt&&(this.showInvitePrompt=!1,this.$bus.emit("SHOW_INVITE_MODAL"),rc["a"].setItem("invitePrompt"+(null===(e=this.movie)||void 0===e?void 0:e.id),!0),window.pwaEventTrack("弹出分享",null===(t=this.movie)||void 0===t?void 0:t.name,null===(n=this.movie)||void 0===n?void 0:n.id))},changePlayerVisible:function(e){this.playerVisible=!e},showFeedback:function(){var e;this.$bus.emit("SHOW_FEEDBACK_MODAL","视频播放问题：".concat(null===(e=this.movie)||void 0===e?void 0:e.name,"，").concat(this.sourceName,"，").concat(this.series.length>1?"第"+this.last_watch_series+"1集":""))}},data:function(){return{isCollapse:!0,playerVisible:!0}}};n("d34c");Ka.render=oc,Ka.__scopeId="data-v-597262d4";var Ya=Ka,Xa={id:"messagepage"},eo=Object(c["n"])("div",{class:"warn-info"},[Object(c["n"])("p",{class:"placard"},"公告"),Object(c["n"])("p",null,"1. 片源、播放问题请说明具体的影片名，线路，集数，问题！"),Object(c["n"])("p",null,"2. 求片请备注（名称-年份-国家）没有备注的不予理会。"),Object(c["n"])("p",{class:"warn"},"PS：留言求助前，请大家务必在网站搜索，确认无此资源后求助！站长精力有限，不按规则求片的一律删除！！！")],-1),to={class:"comment-module"},no=Object(c["n"])("div",{class:"module-title"},[Object(c["n"])("span",{class:"title"},"全部留言"),Object(c["n"])("div",{class:"divider-wrap"},[Object(c["n"])("div",{class:"divider"})])],-1),co={class:"input-module"},ao={class:"creator"},oo={key:0,class:"user-face"},io=Object(c["n"])("div",{class:"avatar-wrap"},[Object(c["n"])("img",{class:"avatar",src:"/img/noavatar.png",alt:"点击登录"})],-1),ro=[io],lo=["href"],so={class:"avatar-wrap"},uo=["src"],bo={class:"editor-container"},vo={class:"comments-wrap"},Oo={key:0,class:"comments-empty"},mo={key:1,class:"comment-list"},jo={key:0,class:"comments-pagination"};function po(e,t,n,a,o,i){var r,l=Object(c["V"])("FeedbackEditor"),s=Object(c["V"])("Empty"),u=Object(c["V"])("FeedbackItem"),d=Object(c["V"])("el-pagination");return Object(c["M"])(),Object(c["m"])("div",Xa,[eo,Object(c["n"])("div",to,[no,Object(c["n"])("div",co,[Object(c["n"])("div",ao,[e.user.id?(Object(c["M"])(),Object(c["m"])("a",{key:1,class:"user-face",href:"user/".concat(e.user.id)},[Object(c["n"])("div",so,[Object(c["n"])("img",{class:"avatar",src:e.user.avatar,alt:"用户头像"},null,8,uo)])],8,lo)):(Object(c["M"])(),Object(c["m"])("a",oo,ro))]),Object(c["n"])("div",bo,[Object(c["q"])(l)])]),Object(c["n"])("div",vo,[0==(null===(r=e.feedbacks)||void 0===r?void 0:r.length)?(Object(c["M"])(),Object(c["m"])("div",Oo,[Object(c["q"])(s,{type:"comment",description:"暂无评论"})])):(Object(c["M"])(),Object(c["m"])("div",mo,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.feedbacks,(function(t){return Object(c["M"])(),Object(c["k"])(u,{key:null===t||void 0===t?void 0:t.id,feedback:t,currentPage:e.currentPage},null,8,["feedback","currentPage"])})),128))]))]),e.total>10?(Object(c["M"])(),Object(c["m"])("div",jo,[Object(c["q"])(d,{background:"","page-size":10,total:e.total,layout:"prev, pager, next","hide-on-single-page":!0,onCurrentChange:e.onPageChange},null,8,["total","onCurrentChange"])])):Object(c["l"])("",!0)])])}Object(c["P"])("data-v-5e5c91bc");var fo={class:"comment-editor"},go={key:0,class:"not-log"},ho=Object(c["p"])(" 请先 "),yo=Object(c["n"])("span",null," 登录 ",-1),wo=Object(c["p"])("后发表评论 "),ko=[ho,yo,wo],Mo={key:1,class:"editor"},_o={class:"editor-input"},Io={key:0,class:"input-container"},Po=["disabled"],Co={key:1,class:"input-container"},$o=["disabled"],So={class:"editor-toolbar"},xo=Object(c["n"])("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},[Object(c["n"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.5 30C23.851 30 29 24.851 29 18.5S23.851 7 17.5 7 6 12.149 6 18.5 11.149 30 17.5 30zm-5.16-13.883a1.16 1.16 0 001.64 1.64l2.395-2.394v8.838a1.16 1.16 0 002.321 0v-8.839l1.028 1.028 1.368 1.368a1.16 1.16 0 001.64-1.641l-4.219-4.22a1.382 1.382 0 00-1.954 0l-4.22 4.22z"})],-1),qo=[xo];function Vo(e,t,n,a,o,i){var r;return Object(c["M"])(),Object(c["m"])("div",fo,[i.user.id?(Object(c["M"])(),Object(c["m"])("div",Mo,[Object(c["n"])("div",_o,[a.feedbackId?Object(c["l"])("",!0):(Object(c["M"])(),Object(c["m"])("div",Io,[Object(c["lb"])(Object(c["n"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.body=e}),disabled:a.loading,class:"input-root",placeholder:"请输入留言内容.."},null,8,Po),[[c["gb"],a.body]])])),a.feedbackId?(Object(c["M"])(),Object(c["m"])("div",Co,[Object(c["lb"])(Object(c["n"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.body=e}),disabled:a.loading,class:"input-root",type:"text",placeholder:"请输入回复内容.."},null,8,$o),[[c["gb"],a.body]])])):Object(c["l"])("",!0)]),Object(c["n"])("div",So,[Object(c["n"])("div",{class:"toolbar-menu",onClick:t[3]||(t[3]=function(){return a.onSubmit&&a.onSubmit.apply(a,arguments)})},[Object(c["n"])("span",{class:Object(c["A"])(["menu-item",(null===(r=a.body)||void 0===r?void 0:r.length)>0?"active":"disabled"])},qo,2)])])])):(Object(c["M"])(),Object(c["m"])("div",go,[Object(c["n"])("div",{class:"login",onClick:t[0]||(t[0]=function(){return i.showLoginModal&&i.showLoginModal.apply(i,arguments)})},ko)]))])}Object(c["N"])();var Ro={props:{feedbackId:Number},setup:function(e){var t=Object(c["cb"])(e),n=t.feedbackId,o=Object(c["R"])(""),i=Object(a["c"])(l["v"],(function(){return{variables:{type:"web",content:o.value},fetchPolicy:"network-only",refetchQueries:function(){return[{query:l["u"],variables:{type:"web"},fetchPolicy:"network-only"}]}}})),r=i.mutate,s=Object(a["c"])(l["a"],(function(){return{variables:{id:n.value,type:"feedbacks",body:o.value},fetchPolicy:"network-only",refetchQueries:function(){return[{query:l["i"],variables:{id:n.value,type:"feedbacks"},fetchPolicy:"network-only"}]}}})),u=s.mutate,d=s.loading;function b(){return v.apply(this,arguments)}function v(){return v=Object(ic["a"])(regeneratorRuntime.mark((function e(){var t,c,a,i,l,s,d,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(o.value.length>0)){e.next=18;break}if(n.value){e.next=11;break}return e.next=4,Object(Qa["b"])((function(){return r()}));case 4:t=e.sent,c=Object(Wa["a"])(t,2),a=c[0],i=c[1],a?Bc["a"].error("发布失败：".concat(Object(Qa["a"])(a))):null!==i&&void 0!==i&&i.data.createFeedback&&(o.value="",Object(Bc["a"])({message:"发布成功！",type:"success"})),e.next=18;break;case 11:return e.next=13,Object(Qa["b"])((function(){return u()}));case 13:l=e.sent,s=Object(Wa["a"])(l,2),d=s[0],b=s[1],d?Bc["a"].error("发布失败：".concat(Object(Qa["a"])(d))):null!==b&&void 0!==b&&b.data.addComment&&(o.value="",Object(Bc["a"])({message:"发布成功！",type:"success"}));case 18:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}return{body:o,loading:d,feedbackId:n,onSubmit:b}},computed:{user:function(){return this.$store.state.user.user}},methods:{showLoginModal:function(){this.$bus.emit("SHOW_LOGIN_MODAL")}}};n("bf24");Ro.render=Vo,Ro.__scopeId="data-v-5e5c91bc";var Eo=Ro;Object(c["P"])("data-v-5c75bcce");var Lo={class:"comment-item"},Ao={class:"user-face"},To=["href"],No={class:"user-avatar"},Fo=["src"],Do={class:"item-content"},Uo={class:"user-item"},zo={class:"user-info"},Zo=["href"],Ho={class:"time"},Bo={class:"body-text"},Wo={key:0,class:"item-tools"},Qo={class:"tool-btn"},Go=Object(c["n"])("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},[Object(c["n"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 17.617C6 11.561 11.578 7 18 7s12 4.561 12 10.617c0 3.036-1.51 5.529-3.749 7.728-.187.184-.381.364-.58.54-1.925 2.082-3.911 3.417-5.847 3.973-.77.221-1.702.242-2.454-.381-.68-.564-.837-1.361-.878-1.823a3.848 3.848 0 01-.01-.136C10.898 26.91 6 23.264 6 17.617zM18 10c-5.177 0-9 3.602-9 7.617 0 3.867 3.794 6.992 9.152 6.992h1.5v1.717l-.06.206c0-.001-.03.104-.06.259 1.155-.46 2.515-1.394 3.984-2.996l.056-.06.063-.055c.182-.16.353-.318.514-.475C26.075 21.312 27 19.543 27 17.617 27 13.602 23.177 10 18 10z","fill-opacity":"0.9"})],-1),Jo=Object(c["n"])("span",null,"回复",-1),Ko=[Go,Jo],Yo=Object(c["n"])("div",{class:"split"},null,-1),Xo=Object(c["n"])("svg",{class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},[Object(c["n"])("path",{d:"M341.013333 394.666667l27.754667 393.450666h271.829333l27.733334-393.450666h64.106666L704.426667 792.618667a64 64 0 0 1-63.829334 59.498666H368.768a64 64 0 0 1-63.829333-59.52L276.885333 394.666667h64.128z m139.306667 19.818666v298.666667h-64v-298.666667h64z m117.013333 0v298.666667h-64v-298.666667h64zM181.333333 288h640v64h-640v-64z m453.482667-106.666667v64h-256v-64h256z"})],-1),ei=Object(c["n"])("span",null,"删除",-1),ti=[Xo,ei],ni={key:0,class:"editor-container"};function ci(e,t,n,a,o,i){var r=Object(c["V"])("FeedbackEditor"),l=Object(c["V"])("CommentItem"),s=Object(c["W"])("auth");return Object(c["M"])(),Object(c["m"])("div",Lo,[Object(c["n"])("div",Ao,[Object(c["n"])("a",{href:"/user/".concat(a.feedback.user.id)},[Object(c["n"])("div",No,[Object(c["n"])("img",{class:"avatar-img",src:a.feedback.user.avatar,alt:"头像"},null,8,Fo)])],8,To)]),Object(c["n"])("div",Do,[Object(c["n"])("div",Uo,[Object(c["n"])("div",zo,[Object(c["n"])("a",{href:"/user/".concat(a.feedback.user.id),class:"name"},Object(c["Z"])(a.feedback.user.name),9,Zo),Object(c["n"])("span",Ho,Object(c["Z"])(a.feedback.time_ago),1)])]),Object(c["n"])("p",Bo,Object(c["Z"])(a.feedback.content),1),1===i.user.is_admin?(Object(c["M"])(),Object(c["m"])("div",Wo,[Object(c["lb"])(Object(c["n"])("span",Qo,Ko,512),[[s,i.toggleCommentEditor,"click"]]),Yo,Object(c["n"])("span",{class:"tool-btn",onClick:t[0]||(t[0]=function(){return a.onDelete&&a.onDelete.apply(a,arguments)})},ti)])):Object(c["l"])("",!0),Object(c["q"])(c["e"],{name:"slide-fade"},{default:Object(c["kb"])((function(){return[o.showCommentEditor?(Object(c["M"])(),Object(c["m"])("div",ni,[Object(c["q"])(r,{feedbackId:a.feedback.id},null,8,["feedbackId"])])):Object(c["l"])("",!0)]})),_:1}),Object(c["q"])(l,{feedbackId:a.feedback.id},null,8,["feedbackId"])])])}Object(c["N"])(),Object(c["P"])("data-v-22265af6");var ai={key:0,class:"replies"},oi={class:"content"},ii={class:"name"},ri=["onClick"],li=Object(c["n"])("svg",{class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},[Object(c["n"])("path",{d:"M341.013333 394.666667l27.754667 393.450666h271.829333l27.733334-393.450666h64.106666L704.426667 792.618667a64 64 0 0 1-63.829334 59.498666H368.768a64 64 0 0 1-63.829333-59.52L276.885333 394.666667h64.128z m139.306667 19.818666v298.666667h-64v-298.666667h64z m117.013333 0v298.666667h-64v-298.666667h64zM181.333333 288h640v64h-640v-64z m453.482667-106.666667v64h-256v-64h256z"})],-1),si=[li];function ui(e,t,n,a,o,i){return a.comments.length>0?(Object(c["M"])(),Object(c["m"])("div",ai,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(a.comments,(function(e){return Object(c["M"])(),Object(c["m"])("div",{class:"replies-item",key:null===e||void 0===e?void 0:e.id},[Object(c["n"])("div",oi,[Object(c["n"])("p",ii,"管理员回复："+Object(c["Z"])(e.body),1),i.user.id===e.user.id?(Object(c["M"])(),Object(c["m"])("span",{key:0,class:"tool-btn",onClick:function(t){return a.onDelete(e.id)}},si,8,ri)):Object(c["l"])("",!0)])])})),128))])):Object(c["l"])("",!0)}Object(c["N"])();var di={props:{feedbackId:Number},setup:function(e){var t=Object(c["cb"])(e),n=t.feedbackId,o=Object(c["R"])(""),i=Object(a["d"])(l["i"],{id:n.value,type:"feedbacks"}),r=i.result,s=Object(a["e"])(r,[],(function(e){var t;return null===e||void 0===e||null===(t=e.comments)||void 0===t?void 0:t.data})),u=Object(a["c"])(l["p"],(function(){return{variables:{id:o.value},fetchPolicy:"network-only",refetchQueries:function(){return[{query:l["i"],variables:{id:n.value,type:"feedbacks"},fetchPolicy:"network-only"}]}}})),d=u.mutate;function b(e){return v.apply(this,arguments)}function v(){return v=Object(ic["a"])(regeneratorRuntime.mark((function e(t){var n,c,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.value=t,e.next=3,Object(Qa["b"])((function(){return d()}));case 3:n=e.sent,c=Object(Wa["a"])(n,2),a=c[0],i=c[1],a?Bc["a"].error("删除失败：".concat(Object(Qa["a"])(a))):null!==i&&void 0!==i&&i.data.deleteComment&&Object(Bc["a"])({message:"删除成功!",type:"success"});case 8:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}return{comments:s,onDelete:b}},computed:{user:function(){return this.$store.state.user.user}}};n("3717");di.render=ui,di.__scopeId="data-v-22265af6";var bi=di,vi={components:{FeedbackEditor:Eo,CommentItem:bi},props:{feedback:{type:Object},currentPage:Number},setup:function(e){var t=Object(c["cb"])(e),n=t.feedback,o=t.currentPage,i=Object(a["c"])(l["q"],(function(){return{variables:{id:n.value.id},fetchPolicy:"network-only",refetchQueries:function(){return[{query:l["u"],variables:{type:"web",page:o.value},fetchPolicy:"network-only"}]}}})),r=i.mutate;function s(){return u.apply(this,arguments)}function u(){return u=Object(ic["a"])(regeneratorRuntime.mark((function e(){var t,n,c,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Qa["b"])((function(){return r()}));case 2:t=e.sent,n=Object(Wa["a"])(t,2),c=n[0],a=n[1],c?Bc["a"].error("删除失败：".concat(Object(Qa["a"])(c))):null!==a&&void 0!==a&&a.data.deleteFeedback&&Object(Bc["a"])({message:"删除成功!",type:"success"});case 7:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}return{feedback:n,onDelete:s}},computed:{user:function(){return this.$store.state.user.user}},methods:{toggleCommentEditor:function(){this.showCommentEditor=!this.showCommentEditor}},data:function(){return{showCommentEditor:!1}}};n("1aed");vi.render=ci,vi.__scopeId="data-v-5c75bcce";var Oi=vi,mi=Object(c["r"])({name:"Feedback",components:{FeedbackEditor:Eo,FeedbackItem:Oi},setup:function(){var e=Object(c["R"])(1);function t(t){e.value=t}var n=Object(a["d"])(l["u"],{type:"web",page:e}),o=n.result,i=Object(a["e"])(o,[],(function(e){var t;return null===e||void 0===e||null===(t=e.feedbacks)||void 0===t?void 0:t.data})),r=Object(a["e"])(o,{},(function(e){var t,n;return null===e||void 0===e||null===(t=e.feedbacks)||void 0===t||null===(n=t.paginatorInfo)||void 0===n?void 0:n.total}));return{feedbacks:i,total:r,currentPage:e,onPageChange:t}},computed:{user:function(){return this.$store.state.user.user}},methods:{toggleCommentEditor:function(){this.showCommentEditor=!this.showCommentEditor}},data:function(){return{showCommentEditor:!1}}});n("1340");mi.render=po;var ji=mi,pi=[{path:"/",component:M,children:[{path:"",component:qe},{path:"/category",component:Be},{path:"/videos",component:Xe},{path:"/profile",props:function(e){return{query:e.query}},component:pt},{path:"/feedback",component:ji}]},{path:"/:pathMatch(.*)*",name:"notfound",component:wt},{path:"/search",props:function(e){return{query:e.query}},component:hn},{path:"/movie/:id",component:Ya},{path:"/video/:id",component:function(){return n.e("chunk-a45ca4fe").then(n.bind(null,"b96c"))}},{path:"/user/:id",props:function(e){return{params:e.params,query:e.query}},component:function(){return Promise.all([n.e("chunk-b8811c2c"),n.e("chunk-9ccee020")]).then(n.bind(null,"1511"))}},{path:"/login",component:function(){return n.e("chunk-64a1ed8e").then(n.bind(null,"a55b"))}},{path:"/chat",component:function(){return Promise.all([n.e("chunk-b8811c2c"),n.e("chunk-59152ee2")]).then(n.bind(null,"035c"))}}],fi=Object(s["a"])({routes:pi,history:Object(s["b"])("/")});fi.beforeEach((function(e,t,n){window.scrollTo(0,0),n()}));var gi=fi,hi={id:"root"};function yi(e,t,n,a,o,i){var r=Object(c["V"])("router-view"),l=Object(c["V"])("LoginModal"),s=Object(c["V"])("ReportModal"),u=Object(c["V"])("PWAInstallPrompt"),d=Object(c["V"])("IosInstallPrompt"),b=Object(c["V"])("BrowserOpenPrompt");return Object(c["M"])(),Object(c["m"])(c["b"],null,[Object(c["n"])("div",hi,[Object(c["q"])(r,{key:e.$route.fullPath})]),Object(c["q"])(l),Object(c["q"])(s),Object(c["q"])(u,{name:"剧好看",previews:o.previews},null,8,["previews"]),Object(c["q"])(d,{name:"剧好看"}),Object(c["q"])(b)],64)}Object(c["P"])("data-v-6610db17");var wi={class:"welcome-wrap"},ki={href:"/",title:"主页 — 剧好看"},Mi=["src"],_i={key:2,class:"login-tab_nav"},Ii=Object(c["p"])(" 没有账户？ "),Pi={key:3,class:"login-tab_nav"},Ci=Object(c["p"])(" 已有账户？ ");function $i(e,t,n,a,o,i){var r=Object(c["V"])("SignIn"),l=Object(c["V"])("SignUp"),s=Object(c["V"])("el-dialog");return Object(c["M"])(),Object(c["k"])(s,{modelValue:e.visible,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.visible=t}),"custom-class":"login-modal",width:"90%","destroy-on-close":"",center:""},{default:Object(c["kb"])((function(){return[Object(c["n"])("div",wi,[Object(c["n"])("a",ki,[Object(c["n"])("img",{class:"login-logo",src:e.logoIconUrl},null,8,Mi)])]),"登录"===e.activeName?(Object(c["M"])(),Object(c["k"])(r,{key:0,onOnSuccess:e.hideModal},null,8,["onOnSuccess"])):(Object(c["M"])(),Object(c["k"])(l,{key:1,onOnSuccess:e.hideModal},null,8,["onOnSuccess"])),"登录"===e.activeName?(Object(c["M"])(),Object(c["m"])("p",_i,[Ii,Object(c["n"])("a",{onClick:t[0]||(t[0]=function(){return e.toggleActiveTab&&e.toggleActiveTab.apply(e,arguments)}),href:"javascript:void(0)"},"加入")])):(Object(c["M"])(),Object(c["m"])("p",Pi,[Ci,Object(c["n"])("a",{onClick:t[1]||(t[1]=function(){return e.toggleActiveTab&&e.toggleActiveTab.apply(e,arguments)}),href:"javascript:void(0)"},"登录")]))]})),_:1},8,["modelValue"])}Object(c["N"])();var Si=n("20ac"),xi=n("fa46"),qi={signIn:"登录",signUp:"注册"},Vi=Object(c["r"])({components:{SignIn:Si["a"],SignUp:xi["a"]},setup:function(e,t){var n=Object(c["R"])(!1),a=Object(c["R"])(qi.signIn);function o(){n.value=!1}function i(){var e=a.value===qi.signIn?qi.signUp:qi.signIn;a.value=e}return{logoIconUrl:r["n"],visible:n,activeName:a,toggleActiveTab:i,hideModal:o}},mounted:function(){var e=this;this.$bus.on("SHOW_LOGIN_MODAL",(function(){e.activeName=qi.signIn,e.visible=!0}))}});n("363e"),n("c5aa");Vi.render=$i,Vi.__scopeId="data-v-6610db17";var Ri=Vi;Object(c["P"])("data-v-6ea968ed");var Ei={id:"report-dialog"},Li=Object(c["p"])(" 提交 ");function Ai(e,t,n,a,o,i){var r=Object(c["V"])("el-radio"),l=Object(c["V"])("el-radio-group"),s=Object(c["V"])("el-input"),u=Object(c["V"])("el-button"),d=Object(c["V"])("el-dialog"),b=Object(c["W"])("loading");return Object(c["lb"])((Object(c["M"])(),Object(c["m"])("div",Ei,[Object(c["q"])(d,{modelValue:e.visible,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.visible=t}),"custom-class":"report-modal",title:e.modalTitle,width:"90%","destroy-on-close":"",center:""},{default:Object(c["kb"])((function(){return[Object(c["q"])(l,{modelValue:e.reasonType,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.reasonType=t})},{default:Object(c["kb"])((function(){return[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.types,(function(e,t){return Object(c["M"])(),Object(c["m"])("div",{class:"radio-wrap col-xs-4",key:t},[Object(c["q"])(r,{label:e},{default:Object(c["kb"])((function(){return[Object(c["p"])(Object(c["Z"])(e),1)]})),_:2},1032,["label"])])})),128))]})),_:1},8,["modelValue"]),Object(c["q"])(s,{modelValue:e.content,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.content=t}),maxlength:"140",placeholder:"请详细描述举报原因，便于平台判断违规情况","show-word-limit":"",type:"textarea",class:"input-style",resize:"none"},null,8,["modelValue"]),Object(c["q"])(u,{type:"primary",disabled:e.disabled,onClick:e.onSubmit,class:"submit-button"},{default:Object(c["kb"])((function(){return[Li]})),_:1},8,["disabled","onClick"])]})),_:1},8,["modelValue","title"])],512)),[[b,e.loading,void 0,{fullscreen:!0,lock:!0}]])}Object(c["N"])();var Ti=["垃圾广告","色情低俗","违法犯罪","恶意营销","血腥暴力","感官不适","时政发动","其他"],Ni=Object(c["r"])({setup:function(){var e=Object(c["R"])(!1),t=Object(c["R"])(),n=Object(c["R"])("movies"),o=Object(c["R"])(""),i=Object(c["R"])(""),r=Object(a["c"])(l["n"],(function(){return{variables:{id:t.value,type:n.value,reason:i.value?"".concat(o.value,"：").concat(i.value):o.value},fetchPolicy:"network-only"}})),s=r.mutate,u=r.loading;function d(){return b.apply(this,arguments)}function b(){return b=Object(ic["a"])(regeneratorRuntime.mark((function t(){var n,c,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Qa["b"])((function(){return s()}));case 2:n=t.sent,c=Object(Wa["a"])(n,2),a=c[0],o=c[1],a?Bc["a"].error("举报出错：".concat(Object(Qa["a"])(a))):null!==o&&void 0!==o&&o.data.createReport&&(e.value=!1,Object(Bc["a"])({message:"举报成功!",type:"success"}));case 7:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}return{visible:e,loading:u,reportId:t,reportType:n,reasonType:o,content:i,onSubmit:d}},computed:{disabled:function(){return!this.reportId||!this.reasonType}},mounted:function(){var e=this;this.$bus.on("SHOW_REPORT_MODAL",(function(t){var n=t.id,c=t.type,a=t.title;e.reportId=n,c&&(e.reportType=c),a&&(e.modalTitle=a),e.visible=!0}))},data:function(){return{types:Ti,modalTitle:"举报"}}});n("ba7c"),n("98fc");Ni.render=Ai,Ni.__scopeId="data-v-6ea968ed";var Fi=Ni;n("a4d3"),n("e01a");Object(c["P"])("data-v-1c8563dd");var Di={class:"pwa-prompt"},Ui={class:"prompt-header"},zi={class:"app-info"},Zi=Object(c["n"])("img",{src:"/img/logo.png",class:"app_logo"},null,-1),Hi={class:"app-name"},Bi={class:"app-host"},Wi={class:"prompt-body"},Qi={key:0,class:"description"},Gi={class:"introduction"},Ji={class:"previews-wrap"},Ki=["src"];function Yi(e,t,n,a,o,i){var r=Object(c["V"])("el-drawer");return Object(c["M"])(),Object(c["k"])(r,{modelValue:o.visible,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.visible=e}),direction:"btt","custom-class":"pwa-install-drawer","lock-scroll":!0,withHeader:!1},{default:Object(c["kb"])((function(){return[Object(c["n"])("div",Di,[Object(c["n"])("div",Ui,[Object(c["n"])("div",zi,[Zi,Object(c["n"])("div",null,[Object(c["n"])("p",Hi,Object(c["Z"])(n.name),1),Object(c["n"])("p",Bi,Object(c["Z"])(n.host),1)])]),Object(c["n"])("button",{onClick:t[0]||(t[0]=function(){return i.downloadAPK&&i.downloadAPK.apply(i,arguments)}),class:"btn-install"},"下载")]),Object(c["n"])("div",Wi,[n.description?(Object(c["M"])(),Object(c["m"])("p",Qi,Object(c["Z"])(n.description),1)):Object(c["l"])("",!0),Object(c["n"])("div",Gi,[Object(c["n"])("ul",Ji,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(n.previews,(function(e){return Object(c["M"])(),Object(c["m"])("li",{key:e,class:"preview-item"},[Object(c["n"])("img",{src:e,class:"screenshot"},null,8,Ki)])})),128))])])])])]})),_:1},8,["modelValue"])}Object(c["N"])();var Xi=n("7068"),er={props:{name:{type:String,require:!0},host:{type:String,default:function(){return window.location.host}},description:{type:String,default:function(){return"点击按钮下载App，功能更丰富，流畅又高清，随时发现更多精彩影视，解锁追剧新姿势。"}},previews:{type:Array,require:!0},maxAge:{type:Number,default:function(){return 604800}}},beforeMount:function(){this.prompted=rc["a"].getItem("pwaPrompt")},mounted:function(){!this.prompted&&"onbeforeinstallprompt"in window&&this.pwaEventListener()},methods:{installNotification:function(){return Object(Xi["a"])({offset:80,duration:5e3,showClose:!1,position:"bottom-right",dangerouslyUseHTMLString:!0,customClass:"PC"==r["i"].OS?"pwainstall-notification":"pwainstall-notification h5",title:this.name,message:'<div class="pwa-notification"><div class="pwa-notification__group"><div class="group-content">添加快捷方式到桌面，流畅又高清，随时发现更多精彩影视，解锁追剧新姿势。</div><div class="group-button"><button class="pwa-notification__button close" onclick="window.dispatchEvent(new CustomEvent(\'dismisspromptchoice\'));">取消</button><button class="pwa-notification__button" onclick="window.dispatchEvent(new CustomEvent(\'installpromptchoice\'));">安装</button><div/></div></div></div>'})},pwaEventListener:function(){var e,t=this,n=function(n){n.preventDefault(),e=n,t.showInstallPromotion(),console.log("'beforeinstallprompt' event was fired.")};window.addEventListener("beforeinstallprompt",n),window.addEventListener("dismisspromptchoice",(function(){t.hideInstallPromotion(),t.notPromptSoon(),e=null,console.log("PWA was dismissed")})),window.addEventListener("installpromptchoice",Object(ic["a"])(regeneratorRuntime.mark((function c(){var a,o;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return console.log("await installpromptchoice"),window.removeEventListener("beforeinstallprompt",n),t.hideInstallPromotion(),e.prompt(),c.next=6,e.userChoice;case 6:a=c.sent,o=a.outcome,console.log("User response to the install prompt: ".concat(o)),"dismissed"===o&&t.notPromptSoon(),e=null;case 11:case"end":return c.stop()}}),c)})))),window.addEventListener("appinstalled",(function(){t.hideInstallPromotion(),e=null,console.log("PWA was installed")}))},showInstallPromotion:function(){this.notify=this.installNotification(),rc["a"].setItem("pwaPrompt",!0,86400)},hideInstallPromotion:function(){var e;null===(e=this.notify)||void 0===e||e.close()},notPromptSoon:function(){rc["a"].setItem("pwaPrompt",!0,this.maxAge)},downloadAPK:function(){window.open(r["c"])}},data:function(){return{notify:null,visible:!1}}};n("050e"),n("d5d6"),n("0e15");er.render=Yi,er.__scopeId="data-v-1c8563dd";var tr=er;Object(c["P"])("data-v-f02e3634");var nr=Object(c["n"])("div",{class:"modal-text"},[Object(c["p"])("请点击右上角的•••按钮"),Object(c["n"])("br"),Object(c["p"])("在浏览器打开")],-1);function cr(e,t,n,a,o,i){return e.visible?(Object(c["M"])(),Object(c["m"])("div",{key:0,class:"modal-bg",onClick:t[3]||(t[3]=function(){return e.hide&&e.hide.apply(e,arguments)})},[Object(c["n"])("div",{class:"modal-container",onClick:t[2]||(t[2]=function(){return e.hide&&e.hide.apply(e,arguments)})},[Object(c["n"])("div",{class:"modal-header",onClick:t[1]||(t[1]=function(){return e.hide&&e.hide.apply(e,arguments)})},[Object(c["n"])("img",{class:"guide",alt:"guide",src:"/img/browser_open.png",onClick:t[0]||(t[0]=function(){return e.hide&&e.hide.apply(e,arguments)})}),nr])])])):Object(c["l"])("",!0)}Object(c["N"])();var ar=Object(c["r"])({setup:function(e){return{}},beforeMount:function(){var e=this;this.$bus.on("SHOW_BROWSER_OPEN_PROMPT",(function(){var t;e.visible=!0;var n=window.parent||window;null===(t=n.WeixinJSBridge)||void 0===t||t.call("showOptionMenu")}))},methods:{hide:function(){this.visible=!1;var e=window.parent||window;e.WeixinJSBridge.call("hideOptionMenu")}},data:function(){return{visible:!1}}});n("df4e");ar.render=cr,ar.__scopeId="data-v-f02e3634";var or=ar;Object(c["P"])("data-v-f3379142");var ir={class:"install-prompt"},rr={class:"prompt-header"},lr=Object(c["n"])("img",{src:"/img/logo.png",class:"app_logo"},null,-1),sr=Object(c["n"])("div",{class:"title"},Object(c["Z"])("添加到桌面，追剧更方便"),-1),ur=Object(c["n"])("div",{class:"prompt-body"},[Object(c["n"])("ul",{class:"steps"},[Object(c["n"])("li",{class:"step-main"},[Object(c["n"])("div",{class:"step-text"},[Object(c["n"])("span",null,"第1步："),Object(c["p"])("点击浏览器底部工具栏图标")]),Object(c["n"])("div",{class:"step-img"},[Object(c["n"])("img",{src:"/img/ios_add_homescreen_01.png",class:"ios_guide"})])]),Object(c["n"])("li",{class:"step-main"},[Object(c["n"])("div",{class:"step-text"},[Object(c["n"])("span",null,"第2步："),Object(c["p"])("弹出框后选择”添加到主屏幕“")]),Object(c["n"])("div",{class:"step-img"},[Object(c["n"])("img",{src:"/img/ios_add_homescreen_02.png",class:"ios_guide"})])])])],-1);function dr(e,t,n,a,o,i){var r=Object(c["V"])("el-drawer");return Object(c["M"])(),Object(c["k"])(r,{modelValue:o.visible,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.visible=e}),direction:"btt","custom-class":"ios-install-drawer","lock-scroll":!0,withHeader:!1},{default:Object(c["kb"])((function(){return[Object(c["n"])("div",ir,[Object(c["n"])("div",rr,[lr,sr,Object(c["n"])("div",{onClick:t[0]||(t[0]=function(){return i.hidePrompt&&i.hidePrompt.apply(i,arguments)}),class:"btn-close"})]),ur])]})),_:1},8,["modelValue"])}Object(c["N"])();var br={props:{name:{type:String,require:!0},maxAge:{type:Number,default:function(){return 604800}}},beforeMount:function(){this.prompted=rc["a"].getItem("pwaPrompt")},mounted:function(){var e=this;this.$bus.on("SHOW_IOS_PWA_PROMPT",(function(){e.visible=!0}));var t=location.hostname.toLocaleLowerCase(),n=r["f"]===t.slice(0,t.lastIndexOf("."));n&&!this.prompted&&"IOS"===r["i"].OS&&setTimeout((function(){e.visible=!0,rc["a"].setItem("pwaPrompt",!0,86400)}),3e3)},methods:{hidePrompt:function(){this.visible=!1,rc["a"].setItem("pwaPrompt",!0,this.maxAge)}},data:function(){return{visible:!1}}};n("fc56"),n("88c5");br.render=dr,br.__scopeId="data-v-f3379142";var vr=br,Or={components:{LoginModal:Ri,ReportModal:Fi,PWAInstallPrompt:tr,BrowserOpenPrompt:or,IosInstallPrompt:vr},setup:function(e){var t=rc["a"].getItem("user");null!==t&&void 0!==t&&t.id&&rc["c"].commit(rc["b"].USER_LOGIN,t)},data:function(){return{previews:["https://juokan.com/images/screens/1.png","https://juokan.com/images/screens/2.png","https://juokan.com/images/screens/3.png","https://juokan.com/images/screens/4.png","https://juokan.com/images/screens/5.png","https://juokan.com/images/screens/6.png","https://juokan.com/images/screens/7.png"]}}};n("7570");Or.render=yi;var mr=Or,jr=Object(c["j"])({setup:function(){Object(c["O"])(a["a"],{default:l["W"]})},render:function(){return Object(c["u"])(mr)}});jr.config.globalProperties.$bus=r["k"],jr.config.globalProperties.$http=n("bc3a"),jr.directive("auth",{mounted:function(e,t){var n=function(){rc["c"].getters.logged?t.value.apply(this,arguments):r["k"].emit("SHOW_LOGIN_MODAL")},c=t.arg;e.addEventListener(c,n)}}),jr.directive("lazyload",n("e353").lazyload),jr.component("Masthead",n("d35c").default),jr.component("Header",n("c618").default),jr.component("Footer",n("6ecf").default),jr.component("SideBar",n("67d2").default),jr.component("Empty",n("02bc").default),jr.component("FollowButton",n("e292").default),jr.use(rc["c"]).use(gi).use(o["a"]).mount("#app")},cd6d:function(e,t,n){},ced5:function(e,t,n){},ceee:function(e,t,n){"use strict";n("7046")},cef7:function(e,t,n){},d19d:function(e,t,n){"use strict";n("d40e")},d257:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return b}));var c=n("ade3"),a=n("5530"),o=n("2909"),i=n("53ca");n("b64b");function r(e){return null!==e&&("object"===Object(i["a"])(e)||"function"===typeof e)}function l(e,t,n){if(!r(e)&&!r(t))return e;var i=Array.isArray(e)?Object(o["a"])(e):Object(a["a"])({},e),s=Array.isArray(t)?Object(o["a"])(t):Object(a["a"])({},t);if(Array.isArray(i))null!==n&&void 0!==n&&n.prepend?i.unshift.apply(i,Object(o["a"])(s)):i.push.apply(i,Object(o["a"])(s));else for(var u=0,d=Object.keys(s);u<d.length;u++){var b=d[u];r(s[b])?(i[b]||Object.assign(i,Object(c["a"])({},b,Array.isArray(s[b])?[]:{})),i[b]=l(i[b],s[b],n)):i[b]=s[b]}return i}var s=n("1da1");n("96cf");function u(e){return d.apply(this,arguments)}function d(){return d=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,e.abrupt("return",[null,n]);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",[e.t0,null]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),d.apply(this,arguments)}n("ac1f"),n("5319"),n("d81d"),n("99af");function b(e){var t="",n=e.graphQLErrors,c=e.networkError;return"string"===typeof e?t=e.replace("Error: ",""):n?n.map((function(e){var n=e.message;e.locations,e.path;t+="".concat(n.replace("GraphQL error: ",""),"\n")})):c&&(t="".concat(c)),t||"请求失败..."}n("1276");n("e5ab"),n("ebd5"),n("0d27")},d34c:function(e,t,n){"use strict";n("06e8")},d35c:function(e,t,n){"use strict";n.r(t);var c=n("7a23");Object(c["P"])("data-v-5aa40e8a");var a={id:"masthead"},o={class:"header"},i={class:"brand"},r=["src"],l=["src"],s={class:"navigation"},u={class:"search-wrap hide-lg"},d={class:"nav-wrap"},b={class:"site-nav show-lg"},v=Object(c["n"])("svg",{t:"1631696217486",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[Object(c["n"])("path",{d:"M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496l-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28","p-id":"24991"})],-1),O={class:"site-nav menus"},m={class:"nav-user"},j={key:0,class:"nav-item"},p={class:"user-logged el-dropdown-link"},f=["src"],g=Object(c["p"])(" 个人中心 "),h={key:1,class:"nav-item"},y=Object(c["n"])("img",{class:"avatar",alt:"noavatar",src:"/img/noavatar.png"},null,-1),w=[y],k={class:"unlogin-popover"},M=Object(c["n"])("div",{class:"title"},"登录后你可以",-1),_=Object(c["n"])("div",{class:"content"},[Object(c["n"])("div",{class:"login-item"},[Object(c["n"])("span",null,"同步播放记录、追剧不错过")]),Object(c["n"])("div",{class:"login-item"},[Object(c["n"])("span",null,"发弹幕/评论、创房间一起看")])],-1),I={class:"nav-menu hide-md"},P=Object(c["p"])(" 影视分类 "),C=Object(c["p"])(" 热门视频 "),$=Object(c["n"])("div",{id:"recharge"},"播放记录",-1),S={class:"history-popover"},x=Object(c["n"])("div",{class:"title"},"最近的观看记录",-1),q={class:"data-content"},V=Object(c["n"])("div",{id:"recharge"},"播放记录",-1),R={class:"unlogin-popover"},E=Object(c["n"])("div",{class:"title"},"登录后可以查看播放记录",-1),L=Object(c["n"])("a",{class:"nav-item",target:"_blank"},[Object(c["n"])("div",{class:"nav-button"},"下载APP")],-1),A=[L];function T(e,t,n,y,L,T){var N=Object(c["V"])("router-link"),F=Object(c["V"])("SearchBar"),D=Object(c["V"])("el-dropdown-item"),U=Object(c["V"])("el-dropdown-menu"),z=Object(c["V"])("el-dropdown"),Z=Object(c["V"])("el-popover"),H=Object(c["V"])("HistoryPopover"),B=Object(c["W"])("loading");return Object(c["M"])(),Object(c["m"])("div",a,[Object(c["lb"])(Object(c["n"])("header",o,[Object(c["n"])("div",i,[Object(c["q"])(N,{to:"/"},{default:Object(c["kb"])((function(){return[Object(c["n"])("img",{class:"logo hide-sm",alt:"juhaokan logo",src:L.logoUrl},null,8,r),Object(c["n"])("img",{class:"logo show-sm",alt:"juhaokan logo",src:L.logoTextUrl},null,8,l)]})),_:1})]),Object(c["n"])("div",s,[Object(c["n"])("div",u,[Object(c["q"])(F)]),Object(c["n"])("div",d,[Object(c["n"])("div",b,[Object(c["q"])(N,{class:"nav-search",to:"/search"},{default:Object(c["kb"])((function(){return[v]})),_:1})]),Object(c["n"])("div",O,[Object(c["n"])("div",m,[T.logged?(Object(c["M"])(),Object(c["m"])("div",j,[Object(c["q"])(z,null,{dropdown:Object(c["kb"])((function(){return[Object(c["q"])(U,null,{default:Object(c["kb"])((function(){return[Object(c["q"])(D,null,{default:Object(c["kb"])((function(){return[Object(c["q"])(N,{to:"/user/".concat(T.user.id)},{default:Object(c["kb"])((function(){return[g]})),_:1},8,["to"])]})),_:1}),Object(c["q"])(D,null,{default:Object(c["kb"])((function(){return[Object(c["n"])("a",{onClick:t[0]||(t[0]=function(){return T.handleLogout&&T.handleLogout.apply(T,arguments)})}," 退出登录 ")]})),_:1})]})),_:1})]})),default:Object(c["kb"])((function(){return[Object(c["n"])("div",p,[Object(c["n"])("img",{class:"avatar",alt:"avatar",src:T.user.avatar},null,8,f)])]})),_:1})])):(Object(c["M"])(),Object(c["m"])("div",h,[Object(c["q"])(Z,{placement:"bottom",trigger:"hover",width:200},{reference:Object(c["kb"])((function(){return[Object(c["n"])("div",{class:"user-login",onClick:t[1]||(t[1]=function(){return T.handleLogin&&T.handleLogin.apply(T,arguments)})},w)]})),default:Object(c["kb"])((function(){return[Object(c["n"])("div",k,[M,_,Object(c["n"])("a",{class:"button",onClick:t[2]||(t[2]=function(){return T.handleLogin&&T.handleLogin.apply(T,arguments)})}," 立即登录 ")])]})),_:1})]))]),Object(c["n"])("ul",I,[Object(c["n"])("li",null,[Object(c["q"])(N,{to:"/category",rel:"noopener noreferrer"},{default:Object(c["kb"])((function(){return[P]})),_:1})]),Object(c["n"])("li",null,[Object(c["q"])(N,{to:"/videos",rel:"noopener noreferrer"},{default:Object(c["kb"])((function(){return[C]})),_:1})]),Object(c["n"])("li",null,[T.logged?(Object(c["M"])(),Object(c["k"])(Z,{key:0,placement:"bottom",trigger:"hover",width:300,"popper-class":"history-popper"},{reference:Object(c["kb"])((function(){return[$]})),default:Object(c["kb"])((function(){return[Object(c["n"])("div",S,[x,Object(c["n"])("div",q,[Object(c["q"])(H)])])]})),_:1})):(Object(c["M"])(),Object(c["k"])(Z,{key:1,placement:"bottom",trigger:"hover",width:200},{reference:Object(c["kb"])((function(){return[V]})),default:Object(c["kb"])((function(){return[Object(c["n"])("div",R,[E,Object(c["n"])("a",{class:"button",onClick:t[3]||(t[3]=function(){return T.handleLogin&&T.handleLogin.apply(T,arguments)})}," 立即登录 ")])]})),_:1}))])]),Object(c["n"])("div",{class:"nav-btns",onClick:t[4]||(t[4]=function(){return T.downloadApp&&T.downloadApp.apply(T,arguments)})},A)])])])],512),[[B,L.loading,void 0,{fullscreen:!0,lock:!0}]])])}Object(c["N"])();var N=n("2de2"),F=n("0613"),D=n("14ac");Object(c["P"])("data-v-48cb7e20");var U={class:"movies-history"},z={key:0,class:"view-all"},Z=Object(c["n"])("div",{class:"button button-secondary"}," 查看全部 ",-1);function H(e,t,n,a,o,i){var r=Object(c["V"])("HTMovieItem"),l=Object(c["V"])("router-link");return Object(c["M"])(),Object(c["m"])("div",U,[(Object(c["M"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(a.moviesHistory,(function(e){var t;return Object(c["M"])(),Object(c["m"])(c["b"],{key:e.id},[null!==(t=e.movie)&&void 0!==t&&t.id?(Object(c["M"])(),Object(c["k"])(l,{key:0,class:"item-wrap",to:"/movie/".concat(e.movie.id)},{default:Object(c["kb"])((function(){return[Object(c["q"])(r,{movie:e.movie,"time-ago":e.last_watch_time,mini:!0},null,8,["movie","time-ago"])]})),_:2},1032,["to"])):Object(c["l"])("",!0)],64)})),128)),a.disabled?Object(c["l"])("",!0):(Object(c["M"])(),Object(c["m"])("div",z,[Object(c["q"])(l,{to:"/user/".concat(i.user.id,"?tab=history")},{default:Object(c["kb"])((function(){return[Z]})),_:1},8,["to"])]))])}Object(c["N"])();var B=n("a684"),W=n("1ad0"),Q={components:{HTMovieItem:W["a"]},setup:function(e){var t=Object(B["gb"])(),n=t.loading,c=t.error,a=t.disabled,o=t.moviesHistory;return{loading:n,error:c,disabled:a,moviesHistory:o}},computed:{user:function(){return this.$store.state.user.user}}};n("ef34");Q.render=H,Q.__scopeId="data-v-48cb7e20";var G=Q,J={components:{SearchBar:D["a"],HistoryPopover:G},computed:{logged:function(){return this.$store.getters.logged},user:function(){return this.$store.state.user.user}},methods:{handleLogin:function(){screen.width>=576?this.$bus.emit("SHOW_LOGIN_MODAL"):this.$router.push("/login")},handleLogout:function(){this.$store.commit(F["b"].USER_LOGOUT)},downloadApp:function(){N["q"]?(this.$bus.emit("SHOW_BROWSER_OPEN_PROMPT"),window.pwaEventTrack("下载APP","腾讯浏览器")):"IOS"===N["i"].OS?(this.$bus.emit("SHOW_IOS_PWA_PROMPT"),window.pwaEventTrack("下载APP","iOS浏览器")):(window.open(N["j"]),window.pwaEventTrack("下载APP","安卓浏览器"))}},data:function(){return{loading:!1,logoUrl:N["p"],logoTextUrl:N["o"]}}};n("da9b"),n("cd2c");J.render=T,J.__scopeId="data-v-5aa40e8a";t["default"]=J},d40e:function(e,t,n){},d472:function(e,t,n){},d4d0:function(e,t,n){"use strict";n("a082")},d5d6:function(e,t,n){"use strict";n("ced5")},d5ed:function(e,t,n){"use strict";n("1ff6")},d76c:function(e,t,n){"use strict";var c=n("7a23");Object(c["P"])("data-v-5999f142");var a={class:"ld-container"},o=Object(c["n"])("div",{class:"ld-ellipsis"},[Object(c["n"])("div"),Object(c["n"])("div"),Object(c["n"])("div"),Object(c["n"])("div")],-1),i=[o];function r(e,t,n,o,r,l){return Object(c["M"])(),Object(c["m"])("div",a,i)}Object(c["N"])();var l={setup:function(){return{}}};n("96c6");l.render=r,l.__scopeId="data-v-5999f142";t["a"]=l},d950:function(e,t,n){"use strict";n("c767")},da9b:function(e,t,n){"use strict";n("f282")},dd87:function(e,t,n){},de7c:function(e,t,n){"use strict";n("e315")},df4e:function(e,t,n){"use strict";n("4b20")},e292:function(e,t,n){"use strict";n.r(t);var c=n("7a23");function a(e,t,n,a,o,i){var r=Object(c["V"])("el-button"),l=Object(c["W"])("auth");return Object(c["lb"])((Object(c["M"])(),Object(c["k"])(r,{class:"follow-button",round:"",size:a.size,type:a.isFollowed?"info":"primary",loading:a.loading},{default:Object(c["kb"])((function(){return[Object(c["p"])(Object(c["Z"])(a.isFollowed?"已关注":"关 注"),1)]})),_:1},8,["size","type","loading"])),[[l,a.toggleFollow,"click"]])}var o=n("3835"),i=n("1da1"),r=(n("96cf"),n("5502")),l=n("4995"),s=n("f685"),u=n("d257"),d=n("a684"),b={props:{user:{type:Object},size:[String,void 0,null]},setup:function(e){var t,n,a,b=Object(r["b"])(),v=Object(c["cb"])(e),O=v.user,m=v.size,j=Object(c["R"])(null===(t=b.state)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.user),p=Object(c["R"])(null===(a=O.value)||void 0===a?void 0:a.followed_status),f=Object(s["c"])(d["P"],(function(){var e;return{variables:{id:null===(e=O.value)||void 0===e?void 0:e.id,type:"users"},refetchQueries:function(){var e;return[{query:d["V"],variables:{id:null===(e=j.value)||void 0===e?void 0:e.id}}]}}})),g=f.mutate,h=f.loading;function y(){return w.apply(this,arguments)}function w(){return w=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p.value=!p.value,e.next=3,Object(u["b"])((function(){return g()}));case 3:t=e.sent,n=Object(o["a"])(t,2),c=n[0],n[1],c&&(l["a"].error(p.value?"关注失败":"取关失败"),p.value=!p.value);case 8:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}return{size:m,isFollowed:p,toggleFollow:y,loading:h}}};n("d5ed");b.render=a;t["default"]=b},e315:function(e,t,n){},e353:function(e,t,n){"use strict";n.r(t),n.d(t,"lazyload",(function(){return a}));var c=n("3835"),a={mounted:function(e,t){e.src="/img/default_img_load.svg";var n=new IntersectionObserver((function(a){var o=Object(c["a"])(a,1),i=o[0].isIntersecting;i&&(n.unobserve(e),e.src=t.value,e.onerror=function(){e.src="/img/default_img_error.svg"})}),{threshold:0});n.observe(e)}}},e523:function(e,t,n){"use strict";n("e94a")},e5ab:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("d3b7");var c=function(e){return new Promise((function(t,n){var c=document.createElement("img");c.crossOrigin="Anonymous",c.src=e+"?v="+Math.random(),c.onload=function(){var e=document.createElement("canvas"),a=window.devicePixelRatio||2,o=c.width*a,i=c.height*a;e.width=o,e.height=i;var r=e.getContext("2d");r.drawImage(c,0,0,o,i);try{t(e.toDataURL("image/jpeg",.9))}catch(l){console.log("error",l),n(l)}}}))}},e800:function(e,t,n){},e94a:function(e,t,n){},eaac:function(e,t,n){},ebd5:function(e,t,n){"use strict";n("ac1f"),n("5319"),n("466d"),n("99af");var c=function(){var e=function(){var e=document.createElement("canvas"),t=e.getContext("2d");return{canvas:!!t,imageData:!!t.getImageData,dataURL:!!e.toDataURL,btoa:!!window.btoa}}(),t="image/octet-stream";function n(e,t,n){var c=e.width,a=e.height;void 0===t&&(t=c),void 0===n&&(n=a);var o=document.createElement("canvas"),i=o.getContext("2d");return o.width=t,o.height=n,i.drawImage(e,0,0,c,a,0,0,t,n),o}function c(e,t,c,a){return e=n(e,c,a),e.toDataURL(t)}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",c=document.createElement("a");c.download=n+"."+t,c.href=e,c.click()}function o(e){var t=document.createElement("img");return t.src=e,t}function i(e){e=e.toLowerCase().replace(/jpg/i,"jpeg");var t=e.match(/png|jpeg|bmp|gif/)[0];return"image/"+t}function r(e){if(!window.btoa)throw"btoa undefined";var t="";if("string"==typeof e)t=e;else for(var n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}function l(e){var t=e.width,n=e.height;return e.getContext("2d").getImageData(0,0,t,n)}function s(e,t){return"data:"+t+";base64,"+e}var u=function(e){var t=e.width,n=e.height,c=t*n*3,a=c+54,o=[66,77,255&a,a>>8&255,a>>16&255,a>>24&255,0,0,0,0,54,0,0,0],i=[40,0,0,0,255&t,t>>8&255,t>>16&255,t>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,1,0,24,0,0,0,0,0,255&c,c>>8&255,c>>16&255,c>>24&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=(4-3*t%4)%4,s=e.data,u="",d=t<<2,b=n,v=String.fromCharCode;do{for(var O=d*(b-1),m="",j=0;j<t;j++){var p=j<<2;m+=v(s[O+p+2])+v(s[O+p+1])+v(s[O+p])}for(var f=0;f<l;f++)m+=String.fromCharCode(0);u+=m}while(--b);return r(o.concat(i))+r(u)},d=function(o,r,d,b,v){var O=b;if(e.canvas&&e.dataURL)if("string"==typeof o&&(o=document.getElementById(o)),void 0===b&&(b="png"),b=i(b),/bmp/.test(b)){var m=l(n(o,r,d)),j=u(m);a(s(j,t),O,v)}else{var p=c(o,b,r,d);a(p.replace(b,t),O,v)}},b=function(t,a,r,d){if(e.canvas&&e.dataURL){if("string"==typeof t&&(t=document.getElementById(t)),void 0===d&&(d="png"),d=i(d),/bmp/.test(d)){var b=l(n(t,a,r)),v=u(b);return o(s(v,"image/bmp"))}var O=c(t,d,a,r);return o(O)}};return{saveAsImage:d,saveAsPNG:function(e,t,n,c){return d(e,t,n,"png",c)},saveAsJPEG:function(e,t,n,c){return d(e,t,n,"jpeg",c)},saveAsGIF:function(e,t,n,c){return d(e,t,n,"gif",c)},saveAsBMP:function(e,t,n,c){return d(e,t,n,"bmp",c)},convertToImage:b,convertToPNG:function(e,t,n){return b(e,t,n,"png")},convertToJPEG:function(e,t,n){return b(e,t,n,"jpeg")},convertToGIF:function(e,t,n){return b(e,t,n,"gif")},convertToBMP:function(e,t,n){return b(e,t,n,"bmp")}}}();t["a"]=c},ef34:function(e,t,n){"use strict";n("1bd3")},f0fe:function(e,t,n){},f282:function(e,t,n){},f6851:function(e,t,n){},f749:function(e,t,n){"use strict";n("1b9f")},fa46:function(e,t,n){"use strict";n("b0c0");var c=n("7a23");Object(c["P"])("data-v-247bf8db");var a=Object(c["p"])(" +86 "),o=Object(c["p"])(" 注册 ");function i(e,t,n,i,r,l){var s=Object(c["V"])("el-input"),u=Object(c["V"])("el-form-item"),d=Object(c["V"])("el-button"),b=Object(c["V"])("el-form"),v=Object(c["W"])("loading");return Object(c["lb"])((Object(c["M"])(),Object(c["k"])(b,{ref:"loginForm",model:e.formData,rules:e.rules,class:"signUp-container"},{default:Object(c["kb"])((function(){return[Object(c["q"])(u,{class:"form-group",label:"昵 称",prop:"name"},{default:Object(c["kb"])((function(){return[Object(c["q"])(s,{placeholder:"请输入昵称",modelValue:e.formData.name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formData.name=t}),maxlength:"16",clearable:""},null,8,["modelValue"])]})),_:1}),Object(c["q"])(u,{class:"form-group",label:"手机号",prop:"account"},{default:Object(c["kb"])((function(){return[Object(c["q"])(s,{class:"account-input",name:"formData-account",placeholder:"请输入手机号",modelValue:e.formData.account,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.account=t}),maxlength:"11",autocomplete:"",clearable:""},{prefix:Object(c["kb"])((function(){return[a]})),_:1},8,["modelValue"])]})),_:1}),Object(c["q"])(u,{class:"form-group",label:"密 码",prop:"password"},{default:Object(c["kb"])((function(){return[Object(c["q"])(s,{placeholder:"请输入密码",modelValue:e.formData.password,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formData.password=t}),maxlength:"12","show-password":""},null,8,["modelValue"])]})),_:1}),Object(c["q"])(u,{class:"form-group"},{default:Object(c["kb"])((function(){return[Object(c["q"])(d,{type:"primary",onClick:e.handleSignIn,class:"main-button account"},{default:Object(c["kb"])((function(){return[o]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model","rules"])),[[v,e.loading,void 0,{fullscreen:!0,lock:!0}]])}Object(c["N"])();var r=n("3835"),l=n("1da1"),s=(n("96cf"),n("f685")),u=n("4995"),d=n("d257"),b=n("0613"),v=n("a684"),O=Object(c["r"])({setup:function(e,t){var n=Object(c["R"])(!1),a=Object(c["R"])({name:"",account:"",password:""}),o=Object(s["c"])(v["M"],(function(){return{variables:a.value}})),i=o.mutate;function O(e){u["a"].error("注册出错：".concat(Object(d["a"])(e)))}function m(e){t.emit("onSuccess"),Object(u["a"])({message:"注册成功!",type:"success"}),b["c"].commit(b["b"].USER_LOGIN,e),b["a"].setItem("user",e)}function j(){return p.apply(this,arguments)}function p(){return p=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,c,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.value=!0,e.next=3,Object(d["b"])((function(){return i()}));case 3:t=e.sent,c=Object(r["a"])(t,2),a=c[0],o=c[1],n.value=!1,a?O(a):null!==o&&void 0!==o&&o.data.signUp&&m(null===o||void 0===o?void 0:o.data.signUp),window.pwaEventTrack("手机注册",a?"失败":"成功");case 10:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}return{loading:n,formData:a,signUpMutation:j}},computed:{disabled:function(){return!this.formData.account||!this.formData.password}},methods:{handleSignIn:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;e.signUpMutation()}))}},data:function(){return{rules:{account:[{required:!0,message:"请输入手机号",trigger:"blur"},{min:11,message:"手机号长度不正确",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:12,message:"密码格式不正确（6-12）位",trigger:"blur"}]}}}});n("72c4"),n("6483");O.render=i,O.__scopeId="data-v-247bf8db";t["a"]=O},faa7:function(e,t,n){},fb69:function(e,t,n){},fc56:function(e,t,n){"use strict";n("fd80")},fc8e:function(e,t,n){"use strict";n("8376")},fd80:function(e,t,n){},ff1c:function(e,t,n){},ffeb:function(e,t,n){"use strict";n("a0cb")}});
//# sourceMappingURL=app.11d8dbe9.js.map