{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Empty.vue","webpack:///./src/components/Empty.vue?6b28","webpack:///./src/components/Empty.vue?663b","webpack:///./src/views/parts/SignIn.vue?6d32","webpack:///./src/views/parts/PWAInstallPrompt.vue?c5e7","webpack:///./src/store/mutation-types.ts","webpack:///./src/store/storage.ts","webpack:///./src/store/modules/user.ts","webpack:///./src/store/modules/app.ts","webpack:///./src/store/index.ts","webpack:///./src/utils/moment.ts","webpack:///./src/views/parts/PWAInstallPrompt.vue?799b","webpack:///./src/components/VideoItem.vue?17fc","webpack:///./src/components/Empty.vue?8520","webpack:///./src/views/Feedback.vue?3492","webpack:///./src/components/SearchBar.vue","webpack:///./src/components/SearchBar.vue?4651","webpack:///./src/components/SearchBar.vue?1f6b","webpack:///./src/views/parts/NavBar.vue?d8de","webpack:///./src/components/HTMovieItem.vue","webpack:///./src/components/HTMovieItem.vue?8b52","webpack:///./src/components/HTMovieItem.vue?9376","webpack:///./src/components/feedback/FeedbackItem.vue?29ee","webpack:///./src/components/HTMovieItem.vue?044f","webpack:///./src/components/player/DPlayer.vue","webpack:///./src/components/player/DPlayer.vue?efcc","webpack:///./src/views/parts/SignIn.vue","webpack:///./src/views/parts/SignIn.vue?a676","webpack:///./src/views/parts/SignIn.vue?9822","webpack:///./src/components/comment/CommentModule.vue?4e26","webpack:///./src/views/parts/UserPosts.vue","webpack:///./src/views/parts/UserPosts.vue?0179","webpack:///./src/views/parts/UserPosts.vue?527a","webpack:///./src/components/SearchBar.vue?31b6","webpack:///./src/components/Skeleton.vue","webpack:///./src/components/Skeleton.vue?994d","webpack:///./src/config/EventBus.ts","webpack:///./src/config/DeviceInfo.ts","webpack:///./src/config/index.ts","webpack:///./src/views/parts/MoviesHistory.vue","webpack:///./src/views/parts/MoviesHistory.vue?45d9","webpack:///./src/views/parts/MoviesHistory.vue?cd74","webpack:///./src/components/RCMovieItem.vue?0f1a","webpack:///./src/views/parts/GridMovies.vue?96fc","webpack:///./src/views/parts/LoginModal.vue?3da5","webpack:///./src/components/feedback/CommentItem.vue?c8bb","webpack:///./src/views/Profile.vue?e439","webpack:///./src/components/InviteCard.vue?6e84","webpack:///./src/views/Search.vue?b2b3","webpack:///./src/views/Search.vue?9e75","webpack:///./src/views/parts/InviteModal.vue?0f7b","webpack:///./src/views/Notfound.vue?07b3","webpack:///./src/views/Home.vue?4469","webpack:///./src/components/RCMovieItem.vue","webpack:///./src/components/RCMovieItem.vue?6b6d","webpack:///./src/components/RCMovieItem.vue?b638","webpack:///./src/components/comment/CommentEditor.vue?a822","webpack:///./src/components/VideoItem.vue","webpack:///./src/components/VideoItem.vue?b5a7","webpack:///./src/components/VideoItem.vue?33f2","webpack:///./src/views/parts/SignUp.vue?e73d","webpack:///./src/views/parts/SideBar.vue","webpack:///./src/views/parts/SideBar.vue?893e","webpack:///./src/views/parts/SideBar.vue?ab59","webpack:///./src/views/parts/UserInfo.vue","webpack:///./src/views/parts/EditUserInfoModal.vue","webpack:///./src/views/parts/EditUserInfoModal.vue?2867","webpack:///./src/views/parts/EditUserInfoModal.vue?f961","webpack:///./src/views/parts/FollowUsersPane.vue","webpack:///./src/components/UserItem.vue","webpack:///./src/components/UserItem.vue?2afe","webpack:///./src/components/UserItem.vue?abfe","webpack:///./src/views/parts/FollowUsersPane.vue?ecc6","webpack:///./src/views/parts/FollowUsersPane.vue?d745","webpack:///./src/views/parts/UserInfo.vue?deee","webpack:///./src/views/parts/UserInfo.vue?8918","webpack:///./src/views/parts/Footer.vue","webpack:///./src/views/parts/Footer.vue?5ba0","webpack:///./src/views/parts/UserPosts.vue?95e6","webpack:///./src/views/parts/SignUp.vue?24a3","webpack:///./src/views/parts/SignIn.vue?391d","webpack:///./src/views/Recommend.vue?0ebb","webpack:///./src/views/parts/MovieToolbar.vue?bac9","webpack:///./src/App.vue?3619","webpack:///./src/views/parts/SideBar.vue?6d73","webpack:///./src/views/parts/MoviesFavorite.vue","webpack:///./src/views/parts/MoviesFavorite.vue?a4f9","webpack:///./src/views/parts/MoviesFavorite.vue?cf92","webpack:///./src/components/SearchMovieItem.vue?6a72","webpack:///./src/views/parts/MovieInfo.vue?49bb","webpack:///./src/views/parts/FeedbackModal.vue?2567","webpack:///./src/views/parts/UserInfo.vue?781a","webpack:///./src/views/parts/IosInstallPrompt.vue?1735","webpack:///./src/components/SearchBar.vue?886e","webpack:///./src/components/comment/CommentItem.vue?b68d","webpack:///./src/components/MovieItem.vue?37f9","webpack:///./src/components/LoadingSpinner.vue?5722","webpack:///./src/views/parts/Header.vue?e4c7","webpack:///./src/views/parts/ReportModal.vue?483b","webpack:///./src/views/parts/Footer.vue?0b89","webpack:///./src/components/hooks/useItemsPerRow.ts","webpack:///./src/components/UserItem.vue?4b2b","webpack:///./src/graphql/documents/user.ts","webpack:///./src/graphql/documents/chat.ts","webpack:///./src/graphql/documents/movie.ts","webpack:///./src/graphql/documents/post.ts","webpack:///./src/graphql/documents/collection.ts","webpack:///./src/graphql/documents/comment.ts","webpack:///./src/graphql/documents/notification.ts","webpack:///./src/graphql/documents/favorite.ts","webpack:///./src/graphql/documents/report.ts","webpack:///./src/graphql/documents/follow.ts","webpack:///./src/graphql/documents/like.ts","webpack:///./src/graphql/documents/feedback.ts","webpack:///./src/graphql/hooks/usePublicPostsQuery.ts","webpack:///./src/graphql/hooks/useCategoryMovieQuery.ts","webpack:///./src/graphql/hooks/useSearchLogsQuery.ts","webpack:///./src/graphql/hooks/useSearchMoviesQuery.ts","webpack:///./src/graphql/hooks/useMovieQuery.ts","webpack:///./src/graphql/hooks/useRelatedMoviesQuery.ts","webpack:///./src/graphql/hooks/useLikeMutation.ts","webpack:///./src/graphql/hooks/useFavoriteMutation.ts","webpack:///./src/graphql/hooks/useFavoriteMoviesQuery.ts","webpack:///./src/graphql/hooks/useMoviesHistoryQuery.ts","webpack:///./src/graphql/hooks/useFollowUsersQuery.ts","webpack:///./src/graphql/hooks/usePostQuery.ts","webpack:///./src/graphql/hooks/useChatsQuery.ts","webpack:///./src/graphql/hooks/useChatMessagesQuery.ts","webpack:///./src/graphql/hooks/useSearchUsersQuery.ts","webpack:///./src/graphql/apollo.ts","webpack:///./src/views/parts/MovieEpisodes.vue?25c0","webpack:///./src/components/player/DPlayer.vue?ee76","webpack:///./src/views/parts/MoviesHistory.vue?5be9","webpack:///./src/views/parts/ReportModal.vue?842b","webpack:///./src/views/Category.vue?6a69","webpack:///./src/components/comment/CommentModule.vue","webpack:///./src/components/comment/CommentItem.vue","webpack:///./src/components/comment/CommentEditor.vue","webpack:///./src/components/comment/CommentEditor.vue?fb1f","webpack:///./src/components/comment/CommentEditor.vue?9273","webpack:///./src/components/comment/SubCommentItem.vue","webpack:///./src/components/comment/SubCommentItem.vue?5cc3","webpack:///./src/components/comment/CommentItem.vue?ae4e","webpack:///./src/components/comment/CommentModule.vue?1f3f","webpack:///./src/components/comment/CommentModule.vue?339e","webpack:///./src/components/feedback/FeedbackEditor.vue?f99c","webpack:///./src/views/parts/LoginModal.vue?5710","webpack:///./src/views/parts/Header.vue","webpack:///./src/views/parts/Header.vue?a02f","webpack:///./src/views/parts/Header.vue?93cc","webpack:///./src/views/parts/FeedbackModal.vue?8c80","webpack:///./src/views/parts/Masthead.vue?15ab","webpack:///./src/registerServiceWorker.ts","webpack:///./src/views/Home.vue","webpack:///./src/views/parts/NavBar.vue","webpack:///./src/views/parts/NavBar.vue?d430","webpack:///./src/views/Home.vue?e1a9","webpack:///./src/views/Home.vue?4b18","webpack:///./src/views/Recommend.vue","webpack:///./src/components/MovieItem.vue","webpack:///./src/components/MovieItem.vue?ca9d","webpack:///./src/components/MovieItem.vue?7850","webpack:///./src/views/parts/ColumnMovies.vue","webpack:///./src/views/parts/ColumnMovies.vue?86ca","webpack:///./src/views/parts/ColumnMovies.vue?000b","webpack:///./src/views/parts/GridMovies.vue","webpack:///./src/views/parts/GridMovies.vue?b75e","webpack:///./src/views/parts/GridMovies.vue?b901","webpack:///./src/views/Recommend.vue?4769","webpack:///./src/views/Recommend.vue?7fbc","webpack:///./src/views/Category.vue","webpack:///./src/views/Category.vue?55fc","webpack:///./src/views/Category.vue?34cf","webpack:///./src/views/Videos.vue","webpack:///./src/views/Videos.vue?ab25","webpack:///./src/views/Videos.vue?d74c","webpack:///./src/views/Profile.vue","webpack:///./src/views/Profile.vue?c284","webpack:///./src/views/Profile.vue?8484","webpack:///./src/views/Notfound.vue","webpack:///./src/views/Notfound.vue?d581","webpack:///./src/views/Search.vue","webpack:///./src/components/SearchMovieItem.vue","webpack:///./src/components/SearchMovieItem.vue?9442","webpack:///./src/components/SearchMovieItem.vue?0a5d","webpack:///./src/views/Search.vue?be8d","webpack:///./src/views/Search.vue?b0f2","webpack:///./src/views/MovieDetail.vue","webpack:///./src/views/parts/MovieInfo.vue","webpack:///./src/views/parts/MovieInfo.vue?a6a7","webpack:///./src/views/parts/MovieToolbar.vue","webpack:///./src/views/parts/MovieToolbar.vue?6c84","webpack:///./src/views/parts/MovieToolbar.vue?20ab","webpack:///./src/views/parts/MovieEpisodes.vue","webpack:///./src/views/parts/MovieEpisodes.vue?9886","webpack:///./src/views/parts/InviteModal.vue","webpack:///./src/components/InviteCard.vue","webpack:///./src/components/InviteCard.vue?ed69","webpack:///./src/components/InviteCard.vue?d5dd","webpack:///./src/views/parts/InviteModal.vue?4111","webpack:///./src/views/parts/InviteModal.vue?4a02","webpack:///./src/views/parts/FeedbackModal.vue","webpack:///./src/views/parts/FeedbackModal.vue?9eaa","webpack:///./src/views/parts/FeedbackModal.vue?d011","webpack:///./src/views/MovieDetail.vue?e3e0","webpack:///./src/views/MovieDetail.vue?353f","webpack:///./src/views/Feedback.vue","webpack:///./src/components/feedback/FeedbackEditor.vue","webpack:///./src/components/feedback/FeedbackEditor.vue?bd43","webpack:///./src/components/feedback/FeedbackEditor.vue?ebc5","webpack:///./src/components/feedback/FeedbackItem.vue","webpack:///./src/components/feedback/CommentItem.vue","webpack:///./src/components/feedback/CommentItem.vue?ce70","webpack:///./src/components/feedback/CommentItem.vue?c173","webpack:///./src/components/feedback/FeedbackItem.vue?3729","webpack:///./src/components/feedback/FeedbackItem.vue?c84c","webpack:///./src/views/Feedback.vue?a546","webpack:///./src/views/Feedback.vue?08ec","webpack:///./src/router/index.ts","webpack:///./src/App.vue","webpack:///./src/views/parts/LoginModal.vue","webpack:///./src/views/parts/LoginModal.vue?1b46","webpack:///./src/views/parts/LoginModal.vue?bd8b","webpack:///./src/views/parts/ReportModal.vue","webpack:///./src/views/parts/ReportModal.vue?4cd2","webpack:///./src/views/parts/ReportModal.vue?73cd","webpack:///./src/views/parts/PWAInstallPrompt.vue","webpack:///./src/views/parts/PWAInstallPrompt.vue?ed2d","webpack:///./src/views/parts/PWAInstallPrompt.vue?5100","webpack:///./src/views/parts/BrowserOpenPrompt.vue","webpack:///./src/views/parts/BrowserOpenPrompt.vue?06d7","webpack:///./src/views/parts/BrowserOpenPrompt.vue?e39d","webpack:///./src/views/parts/IosInstallPrompt.vue","webpack:///./src/views/parts/IosInstallPrompt.vue?3ad6","webpack:///./src/views/parts/IosInstallPrompt.vue?2c0a","webpack:///./src/App.vue?d004","webpack:///./src/App.vue?2b11","webpack:///./src/main.ts","webpack:///./src/views/Videos.vue?41ae","webpack:///./src/views/parts/SideBar.vue?fa7a","webpack:///./src/utils/structure.ts","webpack:///./src/utils/exceptionCapture.ts","webpack:///./src/utils/errorMessage.ts","webpack:///./src/views/MovieDetail.vue?208f","webpack:///./src/views/parts/Masthead.vue","webpack:///./src/views/parts/HistoryPopover.vue","webpack:///./src/views/parts/HistoryPopover.vue?f185","webpack:///./src/views/parts/Masthead.vue?5494","webpack:///./src/views/parts/Masthead.vue?5aa3","webpack:///./src/components/comment/SubCommentItem.vue?3360","webpack:///./src/views/parts/PWAInstallPrompt.vue?ee8a","webpack:///./src/components/FollowButton.vue?d166","webpack:///./src/components/LoadingSpinner.vue","webpack:///./src/components/LoadingSpinner.vue?21a6","webpack:///./src/views/parts/EditUserInfoModal.vue?e2c2","webpack:///./src/views/parts/Masthead.vue?fe14","webpack:///./src/views/parts/MovieEpisodes.vue?10fb","webpack:///./src/views/parts/BrowserOpenPrompt.vue?9f82","webpack:///./src/components/FollowButton.vue","webpack:///./src/components/FollowButton.vue?6f49","webpack:///./src/components/FollowButton.vue?bc7d","webpack:///./src/config/directives.ts","webpack:///./src/components/Skeleton.vue?4e05","webpack:///./src/utils/getBase64Image.ts","webpack:///./src/utils/Canvas2Image.ts","webpack:///./src/views/parts/HistoryPopover.vue?76eb","webpack:///./src/views/parts/FollowUsersPane.vue?de34","webpack:///./src/views/parts/SignUp.vue","webpack:///./src/views/parts/SignUp.vue?5ebe","webpack:///./src/views/parts/SignUp.vue?4c08","webpack:///./src/views/parts/IosInstallPrompt.vue?b000","webpack:///./src/views/parts/ColumnMovies.vue?1ebf","webpack:///./src/views/parts/MoviesFavorite.vue?f9f9"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","class","style","imageSize","image","description","props","String","default","Number","render","__scopeId","USER_LOGIN","USER_LOGOUT","USER_UPDATE","SEARCH_LOGS","DELETE_SEARCH_LOGS","prefix","location","host","keyGenerator","maxAge","KEY","VALUE","timestamp","Date","now","localStorage","setItem","JSON","stringify","item","getItem","parse","removeItem","state","user","getters","logged","id","token","mutations","payload","log","assign","store","actions","app","format","second","h","parseInt","zero","v","arr","unshift","join","toSecond","date","getHours","getMinutes","getSeconds","messageDateStr","currentDate","prevDate","current_date_str","toLocaleDateString","prev_date_str","transNumber","number","xmlns","viewBox","fill-rule","clip-rule","clearable","keyword","fetch-suggestions","querySearch","placeholder","onSearch","changeStyle","searchLogs","indexOf","deleteSearchLogs","append","disabled","setup","router","route","client","query","searchResult","queryString","index","saveSearchLogs","newLogs","Set","cb","searchMovies","variables","res","status","className","dom","querySelectorAll","display","q","text","path","pwaEventTrack","mini","movie","cover","alt","title","introduction","count_series","timeAgo","actors","producer","Boolean","computed","progress","moment","this","last_watch_progress","mounted","playerConstructor","playerEventListener","timeoutCountdown","beforeDestroy","player","destroy","watch","source","val","pre","switchVideo","url","play","methods","options","container","getElementById","preload","autoplay","screenshot","video","on","timer","duration","restoreProgress","seek","$emit","currentTime","timeLimits","pause","screen","orientation","includes","lock","catch","notice","ref","model","formData","rules","handleAutoSignIn","label","prop","account","maxlength","autocomplete","password","show-password","handleSignIn","loading","context","uuid","fpPromise","load","fp","visitorId","signInMutate","mutate","autoSignInMutate","onError","onSuccess","emit","commit","signInMutation","signIn","autoSignInMutation","autoSignIn","$refs","loginForm","validate","valid","required","trigger","min","max","infinite-scroll-disabled","userPosts","to","loadMore","hasMorePages","components","VideoItem","Skeleton","LoadingSpinner","Empty","userId","user_id","page","first","width","fetchMore","paginatorInfo","currentPage","prevValue","loadingMore","updateQuery","prev","fetchMoreResult","moviesColumn","row","animated","template","variant","videosColumn","count","column","useItemsPerRow","events","eventName","forEach","fn","DeviceInfo","test","navigator","userAgent","OS","EVENT_BUS","DEVICE_INFO","ua","toLowerCase","TX_ENV","match","APP_NAME","appName","APP_NAME_CN","appNameCN","APP_SLOGAN","appSlogan","APK_SCHEMA","apkSchema","APK_PACKAGE","apkPackage","APK_VERSION","apkVersion","HOST_NAME","appDomain","GQL_URI","gqlUri","DOWNLOAD_URL","downloadUrl","APK_URL","apkUrl","LOGO_URL","logoUrl","APP_LOGO_URL","appLogoUrl","LOGO_TEXT_URL","logoTextUrl","LOGO_ICON_URL","logoIconUrl","moviesHistory","time-ago","last_watch_time","HTMovieItem","enabled","year","avatar","created_at","substr","version","p-id","placement","popper-class","reference","toggleMode","colorScheme","visible","goTop","THEME","Dark","Light","beforeMount","matchMedia","darkModeHandler","matches","documentElement","addEventListener","scrollTop","animate","element-loading-spinner","element-loading-text","photo","accept","self","me","onChange","uploading","showFollowModal","count_followings","count_followers","round","handleEditorButton","user-id","custom-class","destroy-on-close","center","gender","birthday","default-value","value-format","show-word-limit","resize","updateUserInfo","input","updateUserInfoMutation","userInfo","gender_msg","birthday_msg","$bus","activeName","followedUsers","people","followers","size","UserItem","fetchPolicy","followedLoading","followedError","followedRefetch","refetch","loadMoreFollowed","followedFinished","isFinished","followedLoadingMore","followersLoading","followersError","followersRefetch","loadMoreFollowers","followersFinished","followersLoadingMore","EditUserInfoModal","FollowUsersPane","formatUserInfo","genderIcon","birthday_year","constellation","userLoading","birthdayDate","getFullYear","$store","file","files","reader","FileReader","readAsDataURL","uploadAvatar","FormData","config","Accept","$http","post","$message","success","finally","favoriteMovies","RCMovieItem","itemName","getItemsCount","styles","getComputedStyle","getPropertyValue","USER_FRAGMENT","SIGN_IN_FRAGMENT","AUTO_SIGN_IN","SIGN_IN","SIGN_UP","UPDATE_USER_INFO","USER_QUERY","SEARCH_USERS_QUERY","CHAT_FRAGMENT","CHATS_QUERY","CHAT_QUERY","MESSAGES_QUERY","CREATE_CHAT_MUTATION","DELETE_CHAT_MUTATION","ADD_MEMBERS_MUTATION","DELETE_MEMBERS_MUTATION","UPDATE_CHAT_MUTATION","SEND_MESSAGE_MUTATION","SLIM_MOVIE_FRAGMENT","MOVIE_FRAGMENT","MOVIE_QUERY","RELATED_MOVIES_QUERY","MOVIES_HISTORY_QUERY","FAVORITE_MOVIES_QUERY","STICKS_QUERY","CATEGORY_MOVIE_QUERY","CHANNELS_QUERY","SEARCH_MOVIES_QUERY","SEARCH_LOGS_QUERY","SAVE_WATCH_PROGRESS_MUTATION","POST_FRAGMENT","POST_QUERY","FAST_RECOMMEND_POSTS_QUERY","PUBLIC_POSTS_QUERY","USER_POSTS_QUERY","COLLECTION_FRAGMENT","COLLECTION_POSTS_QUERY","COMMENT_FRAGMENT","COMMENTS_QUERY","COMMENT_REPLIES_QUERY","ADD_COMMENT_MUTATION","DELETE_COMMENT_MUTATION","NOTIFICATION_FRAGMENT","LIKE_NOTIFICATIONS_QUERY","COMMENT_NOTIFICATIONS_QUERY","PUBLIC_NOTIFICATIONS_QUERY","TOGGLE_FAVORITE_MUTATION","CREATE_REPORT_MUTATION","REPORT_MOVIE_EXCEPTION_MUTATION","CREATE_FEEDBACK_MUTATION","FOLLOWED_USERS_QUERY","USER_FOLLOWERS_QUERY","TOGGLE_FOLLOW_MUTATION","TOGGLE_LIKE_MUTATION","FEEDBACKS_QUERY","FEEDBACK_MUTATION","DELETE_FEEDBACK_MUTATION","usePublicPostsQuery","publicPosts","useCategoryMovieQuery","categoryMovie","useSearchLogsQuery","filter","useSearchMoviesQuery","total","useMovieQuery","useRelatedMoviesQuery","relatedMovies","useLikeMutation","toggleLike","onDone","useFavoriteMutation","toggleFavorite","useFavoriteMoviesQuery","userFavorites","useMoviesHistoryQuery","showMovieHistory","useFollowedUsersQuery","follows","useFollowersQuery","usePostQuery","collections","useChatsQuery","chats","useChatMessagesQuery","messages","Array","isArray","reverse","useSearchUsersQuery","searchUsers","additiveLink","from","ApolloLink","operation","forward","setContext","headers","authorization","HttpLink","uri","apolloClient","ApolloClient","link","cache","showLoginModal","addComment","commentable-id","commentableId","comment","background","page-size","layout","hide-on-single-page","onPageChange","fill","fill-opacity","height","opacity","data-id","time_ago","show-arrow","onDelete","showReportModal","body","liked","likes","likeHandler","toggleCommentEditor","showCommentEditor","addReplies","repliesVisible","replies","deleteReplies","count_replies","hasMore","loadReplies","toggleRepliesVisible","onSubmit","flag","addCommentMutate","data-usercard-mid","updateReplies","CommentEditor","deleteComment","SubCommentItem","comments","findIndex","element","CommentItem","resolveClient","readQuery","commentsdata","writeQuery","back","goBack","$router","replace","ready","registered","cached","updatefound","updated","offline","role","NavBar","sticksData","sideTitle","movies","editorChoice","sideMovies","tvSeries","tvSeriesTitle","color","finished","score","剧情","电视剧","电影","综艺","真人秀","types","split","movieTag","stroke","stroke-width","stroke-linecap","data-rowcount","rowCount","data-count","totalPage","next","minIndex","maxIndex","MovieItem","getColumnItems","Math","ceil","remainder","ColumnMovies","GridMovies","place","sticks","infinite-scroll-distance","Tags","option","handleFilter","filterTags","CATEGORY_TAGS","f","Tabs","posts","favorite","history","UserInfo","UserPosts","MoviesFavorite","MoviesHistory","tab","small","paginationAttr","pager-count","pager_count","onCurrentChange","favorited","favoriteHandler","movieData","isSeries","SearchBar","SearchMovieItem","videoSource","showInvitePrompt","playNextEpisode","onPlayError","saveWatchProgress","showInviteOverlay","playerVisible","playError","showFeedback","isCollapse","toggleCollapse","region","play_lines","series","playlines","current-episode","changePlayline","changeEpisode","changePlayerVisible","showInviteModal","downloadApp","watchTogether","schemeConfig","protocol","launchConfig","inApp","appVersion","pkgName","deeplink","scheme","android","ios","pkgs","useUniversalLink","useAppLink","autodemotion","useYingyongbao","useGuideMethod","guideMethod","alert","landPage","lanchApp","openApp","open","launchType","drawer","dropdown","command","playlineIndex","episode","currentEpisode","isVariety","direction","episodeIndex","lock-scroll","show-close","isIos","v-if","postshow","posterImg","postcode","country","longpress","func","timeOutEvent","querySelector","canvasNode","innerHTML","movieUrl","createQrcode","createPoster","getBase64Image","qrcodeImgEl","clientWidth","qrcode","colorDark","colorLight","correctLevel","CorrectLevel","H","makeCode","vm","domObj","scale","offsetWidth","offsetHeight","canvas","opts","useCORS","allowTaint","logging","letterRendering","_this","getContext","img","Canvas2Image","convertToPNG","borderRadius","togglePosterDom","posterEl","myCanvas","InviteCard","emits","modalTitle","content","createFeedbackMutation","createFeedback","DPlayer","CommentModule","MovieInfo","MovieToolbar","MovieEpisodes","InviteModal","FeedbackModal","movieId","params","movie_id","limit","last_watch_series","sourceName","playline","saveProgressMutation","mutation","series_index","refetchQueries","source_name","reportMovieExceptionMutation","hostname","toLocaleLowerCase","isHost","lastIndexOf","pwaPrompt","feedbacks","feedback","feedbackId","addFeedbackMutate","is_admin","comment_id","deleteCommentMutate","FeedbackEditor","deleteFeedbackMutate","deleteFeedback","FeedbackItem","routes","component","Home","children","Recommend","Category","Videos","Profile","Feedback","Notfound","Search","MovieDetail","beforeEach","scrollTo","$route","fullPath","previews","hideModal","toggleActiveTab","TabName","signUp","SignIn","SignUp","tabName","reasonType","TYPES","reportId","reportType","reason","createReportMutation","createReport","withHeader","downloadAPK","require","prompted","pwaEventListener","installNotification","offset","showClose","position","dangerouslyUseHTMLString","customClass","deferredPrompt","installprompt","preventDefault","showInstallPromotion","hideInstallPromotion","notPromptSoon","removeEventListener","prompt","userChoice","outcome","notify","close","hide","frame","parent","WeixinJSBridge","hidePrompt","LoginModal","ReportModal","PWAInstallPrompt","BrowserOpenPrompt","IosInstallPrompt","App","globalProperties","directive","el","binding","handler","arguments","arg","lazyload","use","mount","isObject","mergeProperty","obj1","obj2","copyObj1","copyObj2","prepend","keys","exceptionCapture","errorMessage","graphQLErrors","networkError","map","locations","handleLogout","handleLogin","HistoryPopover","isFollowed","toggleFollow","followed_status","toggleFollowMutation","observer","IntersectionObserver","isIntersecting","unobserve","threshold","observe","crossOrigin","random","ratio","devicePixelRatio","ctx","drawImage","toDataURL","$support","imageData","getImageData","dataURL","btoa","downloadMime","scaleCanvas","w","retCanvas","retCtx","getDataURL","saveFile","strData","fileType","fileName","saveLink","download","click","genImage","fixType","encodeData","str","fromCharCode","makeURI","genBitmapImage","oData","biWidth","biHeight","biSizeImage","bfSize","BITMAPFILEHEADER","BITMAPINFOHEADER","iPadding","aImgData","strPixelData","biWidth4","y","iOffsetY","strPixelRow","x","iOffsetX","concat","saveAsImage","convertToImage","saveAsPNG","saveAsJPEG","saveAsGIF","saveAsBMP","convertToJPEG","convertToGIF","convertToBMP","signUpMutation"],"mappings":"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","file":"js/app.11d8dbe9.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-64a1ed8e\":\"75ea4807\",\"chunk-a45ca4fe\":\"bc71cbd5\",\"chunk-b8811c2c\":\"6108a0f6\",\"chunk-59152ee2\":\"5e1071f5\",\"chunk-9ccee020\":\"ba5efddd\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-64a1ed8e\":1,\"chunk-a45ca4fe\":1,\"chunk-59152ee2\":1,\"chunk-9ccee020\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-64a1ed8e\":\"fe967df2\",\"chunk-a45ca4fe\":\"b9da6891\",\"chunk-b8811c2c\":\"31d6cfe0\",\"chunk-59152ee2\":\"ca21ef2b\",\"chunk-9ccee020\":\"8a6676b3\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n  <div class=\"empty-container\">\n    <div class=\"empty-image\" :style=\"imageSize && `width:${imageSize}`\">\n      <img v-if=\"image\" :src=\"image\" />\n      <img v-else-if=\"type === 'comment'\" src=\"/img/empty_comment.png\" />\n      <img v-else-if=\"type === 'content'\" src=\"/img/empty_content.png\" />\n      <img v-else-if=\"type === 'notfound'\" src=\"/img/empty_notfound.png\" />\n    </div>\n    <div v-if=\"description\" class=\"empty-description\">\n      <p>{{ description }}</p>\n    </div>\n    <slot></slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from 'vue';\n\ntype EmptyType = 'comment' | 'content' | 'notfound';\n\nexport default {\n  props: {\n    type: {\n      type: String as PropType<EmptyType>,\n      default: 'comment'\n    },\n    image: String,\n    imageSize: [String, Number],\n    description: String\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.empty-container {\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  min-height: inherit;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.empty-image {\n  width: 160px;\n  img {\n    width: 100%;\n  }\n}\n.empty-description {\n  margin-top: 20px;\n  font-size: 16px;\n  color: var(--color-text-2);\n}\n</style>\n","\nimport { PropType } from 'vue';\n\ntype EmptyType = 'comment' | 'content' | 'notfound';\n\nexport default {\n  props: {\n    type: {\n      type: String as PropType<EmptyType>,\n      default: 'comment'\n    },\n    image: String,\n    imageSize: [String, Number],\n    description: String\n  }\n};\n","import { render } from \"./Empty.vue?vue&type=template&id=73b4cade&scoped=true\"\nimport script from \"./Empty.vue?vue&type=script&lang=ts\"\nexport * from \"./Empty.vue?vue&type=script&lang=ts\"\n\nimport \"./Empty.vue?vue&type=style&index=0&id=73b4cade&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-73b4cade\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./SignIn.vue?vue&type=style&index=1&id=48caa0e7&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./PWAInstallPrompt.vue?vue&type=style&index=0&id=1c8563dd&lang=scss\"","// User\nexport const USER_LOGIN = 'USER_LOGIN';\nexport const USER_LOGOUT = 'USER_LOGOUT';\nexport const USER_UPDATE = 'USER_UPDATE';\n// App\nexport const SEARCH_LOGS = 'SEARCH_LOGS';\nexport const DELETE_SEARCH_LOGS = 'DELETE_SEARCH_LOGS';\n","export const prefix = window.location.host;\n\nexport const StorageKeys = {\n  user: 'user',\n  searchLogs: 'searchLogs',\n  pwaPrompt: 'pwaPrompt',\n  invitePrompt: 'invitePrompt',\n  colorScheme: 'colorScheme'\n} as const;\nexport type ItemKeys = typeof StorageKeys;\n\nfunction keyGenerator(key) {\n  return prefix + '-' + key;\n}\n\nexport default class Storage {\n  static setItem(key: keyof ItemKeys | string, value: any, maxAge?: number) {\n    const KEY = keyGenerator(key);\n    const VALUE = {\n      value,\n      maxAge,\n      timestamp: Date.now()\n    };\n    localStorage.setItem(KEY, JSON.stringify(VALUE));\n    // console.log('localStorage.setItem', KEY, '：', VALUE);\n  }\n\n  static getItem(key: keyof ItemKeys | string) {\n    const KEY = keyGenerator(key);\n    let item: any = localStorage.getItem(KEY);\n    try {\n      item = JSON.parse(item);\n    } catch (err) {}\n    // console.log('localStorage.getItem', key, '：', item);\n    if (item && item.value) {\n      if (item.maxAge && Date.now() - item.timestamp > item.maxAge * 1000) {\n        localStorage.removeItem(key);\n        return null;\n      } else {\n        return item.value;\n      }\n    }\n  }\n\n  static removeItem(key: keyof ItemKeys | string) {\n    const KEY = keyGenerator(key);\n    localStorage.removeItem(KEY);\n    // console.log('localStorage.removeItem', KEY);\n  }\n\n  static clear() {\n    // localStorage.clear();\n  }\n}\n","import * as TYPES from '../mutation-types';\nimport Storage from '../storage';\n\nexport default {\n  state: {\n    user: {}\n  },\n  getters: {\n    logged: state => {\n      return state.user.id;\n    },\n    token: state => {\n      return state.user.token;\n    }\n  },\n  mutations: {\n    [TYPES.USER_LOGIN](state, payload) {\n      console.log(TYPES.USER_LOGIN, payload?.id);\n      state.user = payload;\n    },\n    [TYPES.USER_LOGOUT](state) {\n      console.log(TYPES.USER_LOGOUT);\n      state.user = {};\n      Storage.removeItem('user');\n    },\n    [TYPES.USER_UPDATE](state, payload) {\n      console.log(TYPES.USER_UPDATE, payload);\n      state.user = Object.assign({}, state.user, payload);\n      Storage.setItem('user', state.user);\n    }\n  }\n};\n","import * as TYPES from '../mutation-types';\nimport Storage from '../storage';\n\nexport default {\n  state: {},\n  getters: {},\n  mutations: {}\n};\n","import { createStore } from 'vuex';\nimport * as TYPES from './mutation-types';\nimport user from './modules/user';\nimport app from './modules/app';\nimport Storage from './storage';\n\nconst store: any = createStore({\n  state: {},\n  mutations: {},\n  actions: {},\n  modules: {\n    user,\n    app\n  }\n});\n\nexport default store;\n\nexport { TYPES, Storage };\n","function format(second) {\n  let h = 0,\n    m = 0,\n    s = parseInt(second, 10);\n  if (s > 60) {\n    h = parseInt(String(second / 3600), 10);\n    m = parseInt(String((second % 3600) / 60), 10);\n    s = parseInt(String(second % 60), 10);\n  }\n  // 补零\n  const zero = function(v) {\n    return v >> 0 < 10 ? '0' + v : v;\n  };\n  const arr = [zero(h), zero(m), zero(s)];\n  h > 0 && arr.unshift(zero(h));\n  return arr.join(':');\n}\n\nfunction toSecond(second) {\n  var date = new Date(second);\n  var h = date.getHours();\n  var m = date.getMinutes();\n  var s = date.getSeconds();\n\n  return h * 3600 + m * 60 + s;\n}\n\n// 消息日期（与前一条消息日期相同则不展示）\nfunction messageDateStr(currentDate, prevDate) {\n  var current_date_str = new Date(currentDate).toLocaleDateString();\n  var prev_date_str = new Date(prevDate).toLocaleDateString();\n  if (currentDate && current_date_str !== prev_date_str) {\n    return current_date_str;\n  }\n  return '';\n}\n\nfunction transNumber(number) {\n  if (number < 100) {\n    return number;\n  } else if (number > 99 && number < 1000) {\n    return '99+';\n  } else if (number > 999 && number < 10000) {\n    return '999+';\n  } else {\n    return '1w+';\n  }\n}\n\nexport default {\n  format,\n  toSecond,\n  transNumber,\n  messageDateStr\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./PWAInstallPrompt.vue?vue&type=style&index=2&id=1c8563dd&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./VideoItem.vue?vue&type=style&index=0&id=36d358e0&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Empty.vue?vue&type=style&index=0&id=73b4cade&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Feedback.vue?vue&type=style&index=0&id=0586f694&lang=scss\"","<template>\n  <div id=\"search-bar\">\n    <el-autocomplete\n      clearable\n      class=\"search-input\"\n      v-model=\"keyword\"\n      :fetch-suggestions=\"querySearch\"\n      :placeholder=\"`${keyword || '搜索你想看 de 视频'}`\"\n      @keyup.enter=\"onSearch\"\n      @focus=\"changeStyle('block', '.el-autocomplete-suggestion')\"\n    >\n      <template #default=\"{ item }\">\n        <div v-if=\"!keyword && searchLogs.indexOf(item) === 0\" class=\"logs-title\">\n          搜索历史<span class=\"close\" @click=\"deleteSearchLogs\">清除全部</span>\n        </div>\n        <div v-if=\"!keyword\" class=\"history-item\" @click=\"onSearch({ q: item })\">\n          {{ item }}\n          <i class=\"el-icon-close close\" @click.stop=\"deleteSearchLogs(item)\"></i>\n        </div>\n        <div v-else class=\"recommend-item\" @click=\"onSearch({ q: item.name })\">\n          {{ item.name }}\n        </div>\n      </template>\n      <template #prefix>\n        <div class=\"input-icon\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\">\n            <path\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M7.875 1.5a6.375 6.375 0 103.642 11.608l3.063 3.063a1.125 1.125 0 001.59-1.591l-3.062-3.063A6.375 6.375 0 007.875 1.5zM3.75 7.875a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0z\"\n            ></path>\n          </svg>\n        </div>\n      </template>\n      <template #append>\n        <button :class=\"['input-button', keyword && 'active']\" :disabled=\"!keyword\" @click=\"onSearch\">\n          <span class=\"btn-title\">搜索</span>\n        </button>\n      </template>\n    </el-autocomplete>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, onMounted, ref } from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\nimport { useApolloClient } from '@vue/apollo-composable';\nimport { exceptionCapture } from '@/utils';\nimport store, { Storage, TYPES } from '@/store';\nimport { SEARCH_MOVIES_QUERY } from '@/graphql';\n\nexport default defineComponent({\n  setup(props) {\n    const router = useRouter();\n    const route = useRoute();\n    const client = useApolloClient().client;\n    const keyword = ref(route.query?.keyword);\n    const searchLogs = ref(Storage.getItem('searchLogs') || []);\n    const searchResult = ref();\n    const deleteSearchLogs = queryString => {\n      const index = searchLogs.value.indexOf(queryString);\n      if (index >= 0) {\n        searchLogs.value.splice(index, 1);\n      } else {\n        searchLogs.value = [];\n      }\n      Storage.setItem('searchLogs', searchLogs.value);\n    };\n    const saveSearchLogs = queryString => {\n      const newLogs = new Set([queryString, ...searchLogs.value]);\n      searchLogs.value = [...newLogs].slice(0, 10);\n      Storage.setItem('searchLogs', searchLogs.value);\n    };\n\n    const querySearch = async (queryString: string, cb) => {\n      const result = await (queryString ? searchMovies(queryString) : searchLogs.value);\n      searchResult.value = result;\n      // 调用 callback 返回列表数据\n      cb(result);\n    };\n    const searchMovies = async (queryString: string) => {\n      const [err, res] = await exceptionCapture(() =>\n        client.query({ query: SEARCH_MOVIES_QUERY, variables: { keyword: queryString } })\n      );\n      return res?.data?.searchMovies?.data || [];\n    };\n\n    // 输入建议框显示/消失\n    const changeStyle = (status, className) => {\n      let dom = document.querySelectorAll(className);\n      dom[0].style.display = status;\n    };\n\n    const onSearch = ({ q }) => {\n      const text = q || keyword.value || '';\n      if (text) {\n        saveSearchLogs(text);\n        keyword.value = text;\n        router.push({ path: '/search', query: { keyword: text } });\n        changeStyle('none', '.el-autocomplete-suggestion');\n\n        window.pwaEventTrack('搜索', text);\n      }\n    };\n\n    onMounted(() => {\n      keyword.value = route.query?.keyword || '';\n    });\n\n    return {\n      keyword,\n      querySearch,\n      searchLogs,\n      searchResult,\n      onSearch,\n      changeStyle,\n      deleteSearchLogs\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n$icon-height: 20px;\n$colors: #ff4a6a, #ff5c38, #ffb826, #d4d4d4;\n\n.input-icon {\n  width: $icon-height;\n  height: $icon-height;\n  margin-top: 5px;\n  fill: var(--color-text-3);\n}\n\n.input-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 64px;\n  background-color: var(--color-bg-2);\n  cursor: pointer;\n  .btn-title {\n    color: var(--color-text-1);\n    font-size: 14px;\n    font-weight: 500;\n    line-height: 22px;\n  }\n  &.active,\n  &:hover {\n    .btn-title {\n      color: $theme-color_primary;\n    }\n  }\n}\n.el-autocomplete-suggestion__wrap {\n  .history-item,\n  .recommend-item {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 14px;\n    font-weight: 500;\n    color: var(--color-text-0);\n  }\n  .history-item {\n    .close {\n      opacity: 0;\n      visibility: hidden;\n    }\n    &:hover {\n      .close {\n        opacity: 1;\n        visibility: visible;\n      }\n    }\n  }\n}\n</style>\n\n<style lang=\"scss\">\n#search-bar {\n  display: flex;\n  border-radius: 4px;\n  background-color: var(--color-bg-2);\n  overflow: hidden;\n  .search-input {\n    width: 100%;\n  }\n  .el-input {\n    line-height: 40px;\n    font-size: 14px;\n    color: var(--color-text-3);\n    ::placeholder {\n      color: var(--color-text-3);\n      font-size: 14px;\n    }\n    .el-input__inner {\n      padding-left: 34px;\n      height: 40px;\n      line-height: 40px;\n      border: none;\n      color: var(--color-text-3);\n      background-color: var(--color-bg-2);\n    }\n    .el-input__prefix {\n      left: 9px;\n    }\n    .el-input-group__append {\n      background-color: var(--color-bg-2);\n      border: none;\n      padding: 0;\n    }\n  }\n}\n.el-autocomplete-suggestion li:first-child {\n  padding: 0;\n  background: var(--color-bg-0) !important;\n  cursor: default;\n  .logs-title {\n    padding: 0 20px;\n    display: flex;\n    justify-content: space-between;\n    font-size: 15px;\n    color: var(--color-text-1);\n  }\n  .history-item,\n  .recommend-item {\n    cursor: pointer;\n    padding: 0 20px;\n    &:hover {\n      background-color: var(--overlay-bg-hover);\n    }\n  }\n}\n</style>\n","\nimport { defineComponent, onMounted, ref } from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\nimport { useApolloClient } from '@vue/apollo-composable';\nimport { exceptionCapture } from '@/utils';\nimport store, { Storage, TYPES } from '@/store';\nimport { SEARCH_MOVIES_QUERY } from '@/graphql';\n\nexport default defineComponent({\n  setup(props) {\n    const router = useRouter();\n    const route = useRoute();\n    const client = useApolloClient().client;\n    const keyword = ref(route.query?.keyword);\n    const searchLogs = ref(Storage.getItem('searchLogs') || []);\n    const searchResult = ref();\n    const deleteSearchLogs = queryString => {\n      const index = searchLogs.value.indexOf(queryString);\n      if (index >= 0) {\n        searchLogs.value.splice(index, 1);\n      } else {\n        searchLogs.value = [];\n      }\n      Storage.setItem('searchLogs', searchLogs.value);\n    };\n    const saveSearchLogs = queryString => {\n      const newLogs = new Set([queryString, ...searchLogs.value]);\n      searchLogs.value = [...newLogs].slice(0, 10);\n      Storage.setItem('searchLogs', searchLogs.value);\n    };\n\n    const querySearch = async (queryString: string, cb) => {\n      const result = await (queryString ? searchMovies(queryString) : searchLogs.value);\n      searchResult.value = result;\n      // 调用 callback 返回列表数据\n      cb(result);\n    };\n    const searchMovies = async (queryString: string) => {\n      const [err, res] = await exceptionCapture(() =>\n        client.query({ query: SEARCH_MOVIES_QUERY, variables: { keyword: queryString } })\n      );\n      return res?.data?.searchMovies?.data || [];\n    };\n\n    // 输入建议框显示/消失\n    const changeStyle = (status, className) => {\n      let dom = document.querySelectorAll(className);\n      dom[0].style.display = status;\n    };\n\n    const onSearch = ({ q }) => {\n      const text = q || keyword.value || '';\n      if (text) {\n        saveSearchLogs(text);\n        keyword.value = text;\n        router.push({ path: '/search', query: { keyword: text } });\n        changeStyle('none', '.el-autocomplete-suggestion');\n\n        window.pwaEventTrack('搜索', text);\n      }\n    };\n\n    onMounted(() => {\n      keyword.value = route.query?.keyword || '';\n    });\n\n    return {\n      keyword,\n      querySearch,\n      searchLogs,\n      searchResult,\n      onSearch,\n      changeStyle,\n      deleteSearchLogs\n    };\n  }\n});\n","import { render } from \"./SearchBar.vue?vue&type=template&id=91b72634&scoped=true\"\nimport script from \"./SearchBar.vue?vue&type=script&lang=ts\"\nexport * from \"./SearchBar.vue?vue&type=script&lang=ts\"\n\nimport \"./SearchBar.vue?vue&type=style&index=0&id=91b72634&lang=scss&scoped=true\"\nimport \"./SearchBar.vue?vue&type=style&index=1&id=91b72634&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-91b72634\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./NavBar.vue?vue&type=style&index=0&id=1fa122cd&lang=scss&scoped=true\"","<template>\n  <div :class=\"['ht-item', mini && 'mini']\">\n    <a :href=\"`/movie/${movie.id}`\" class=\"movie-cover\">\n      <div class=\"cover-img\">\n        <img :src=\"movie.cover\" alt=\"\" />\n      </div>\n    </a>\n    <div class=\"item-info\">\n      <a\n        :href=\"`/movie/${movie.id}`\"\n        :class=\"['info-title', mini ? 'text-ellipsis' : 'webkit-text-ellipsis']\"\n        :title=\"movie.name\"\n      >\n        {{ movie.name || movie.introduction }}\n      </a>\n      <div class=\"info-meta\">\n        <div class=\"meta-text text-ellipsis\">\n          {{\n            movie?.count_series > 1\n              ? '观看至 第' + (movie.last_watch_series + 1) + '集 ' + progress\n              : '观看至 ' + progress\n          }}\n        </div>\n        <div v-if=\"timeAgo\" class=\"meta-text text-ellipsis\">{{ timeAgo }}</div>\n        <div v-else-if=\"!!movie.actors\" class=\"meta-text text-ellipsis\">{{ '主演：' + movie.actors }}</div>\n        <div v-else-if=\"!!movie.producer\" class=\"meta-text text-ellipsis\">{{ '导演：' + movie.producer }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport moment from '@/utils/moment';\n\nexport default {\n  props: {\n    movie: {\n      type: Object\n    },\n    timeAgo: {\n      type: String\n    },\n    mini: {\n      type: Boolean\n    }\n  },\n  setup(props) {},\n  computed: {\n    progress() {\n      return moment.format(parseInt(this.movie?.last_watch_progress ?? 0));\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.ht-item {\n  display: flex;\n  height: 90px;\n  &:hover {\n    .cover-img {\n      transform: scale(1.2);\n    }\n    .info-title {\n      color: $theme-color_primary;\n    }\n  }\n  &.mini {\n    height: 60px;\n    .movie-cover {\n      width: 90px;\n    }\n    .info-title {\n      height: 20px;\n      line-height: 18px;\n      font-size: 14px;\n    }\n    .info-meta {\n      margin-top: 8px;\n      height: 32px;\n      line-height: 16px;\n      font-size: 12px;\n    }\n  }\n}\n.movie-cover {\n  margin-right: 10px;\n  flex-shrink: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 4px;\n  overflow: hidden;\n  position: relative;\n  cursor: pointer;\n  .cover-img {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    transition: all 2s linear;\n    img {\n      width: 100%;\n      height: 100%;\n      border-radius: 2px;\n      object-fit: cover;\n      background: var(--color-bg-1);\n    }\n  }\n}\n.item-info {\n  flex: 1;\n  overflow: hidden;\n  .info-title {\n    display: block;\n    height: 40px;\n    line-height: 20px;\n    font-size: 16px;\n    font-weight: 500;\n    color: var(--color-text-0);\n    transition: color 0.3s ease;\n  }\n  .info-meta {\n    margin-top: 14px;\n    height: 36px;\n    line-height: 18px;\n    font-size: 13px;\n    color: var(--color-text-3);\n  }\n}\n</style>\n","\nimport moment from '@/utils/moment';\n\nexport default {\n  props: {\n    movie: {\n      type: Object\n    },\n    timeAgo: {\n      type: String\n    },\n    mini: {\n      type: Boolean\n    }\n  },\n  setup(props) {},\n  computed: {\n    progress() {\n      return moment.format(parseInt(this.movie?.last_watch_progress ?? 0));\n    }\n  }\n};\n","import { render } from \"./HTMovieItem.vue?vue&type=template&id=44c3c2f2&scoped=true\"\nimport script from \"./HTMovieItem.vue?vue&type=script&lang=ts\"\nexport * from \"./HTMovieItem.vue?vue&type=script&lang=ts\"\n\nimport \"./HTMovieItem.vue?vue&type=style&index=0&id=44c3c2f2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-44c3c2f2\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./FeedbackItem.vue?vue&type=style&index=0&id=5c75bcce&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./HTMovieItem.vue?vue&type=style&index=0&id=44c3c2f2&lang=scss&scoped=true\"","<template>\n  <div id=\"dplayer\"></div>\n</template>\n<script>\nimport DPlayer from 'dplayer';\nimport moment from '@/utils/moment';\n\nexport default {\n  props: ['source', 'progress', 'timeLimits'],\n  mounted() {\n    this.playerConstructor();\n    this.playerEventListener();\n    this.timeoutCountdown();\n  },\n  beforeDestroy() {\n    if (this.player) {\n      this.player.destroy();\n    }\n  },\n  watch: {\n    source(val, pre) {\n      if (this.player) {\n        this.player.switchVideo({\n          url: val.url,\n          type: 'auto'\n        });\n        this.player.play();\n        this.timeoutCountdown();\n      }\n    }\n  },\n  methods: {\n    //播放器初始化\n    playerConstructor() {\n      const options = {\n        container: document.getElementById('dplayer'),\n        preload: false,\n        autoplay: true,\n        screenshot: true,\n        video: {\n          url: this.source.url,\n          type: 'auto'\n        }\n      };\n      this.player = new DPlayer(options);\n    },\n    // 播放器事件监听\n    playerEventListener() {\n      this.player.on('loadeddata', () => {\n        this.timer && clearTimeout(this.timer);\n        const duration = moment.format(this.player.video.duration);\n        if (this.restoreProgress && this.progress > 0) {\n          this.restoreProgress = false;\n          this.player.seek(this.progress);\n        }\n      });\n      this.player.on('ended', () => {\n        this.$emit('playEnded');\n      });\n      this.player.on('error', () => {\n        this.$emit('onError');\n      });\n      this.player.on('seeking', () => {\n        // const currentTime = moment.format(this.player.video.currentTime);\n        // console.log('seeking：currentTime', currentTime);\n      });\n      this.player.on('progress', () => {\n        const currentTime = parseInt(this.player.video.currentTime);\n        // console.log('currentTime', currentTime);\n        if (currentTime) {\n          this.$emit('onProgress', currentTime);\n        }\n        if (this.timeLimits > 0 && this.timeLimits < currentTime) {\n          this.player.pause();\n          this.$emit('onTimeLimits');\n        }\n      });\n      this.player.on('fullscreen', () => {\n        if (screen.orientation.type.includes('portrait')) {\n          screen.orientation\n            .lock('landscape-primary')\n            .then(function(e) {})\n            .catch(function(error) {});\n        }\n      });\n    },\n    timeoutCountdown() {\n      this.timer && clearTimeout(this.timer);\n      this.timer = setTimeout(() => {\n        this.player?.notice('视频加载太慢？请尝试切换线路或提交反馈', 5000);\n      }, 10000);\n    }\n  },\n  data() {\n    return {\n      restoreProgress: true\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#dplayer {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import { render } from \"./DPlayer.vue?vue&type=template&id=51c3e259&scoped=true\"\nimport script from \"./DPlayer.vue?vue&type=script&lang=js\"\nexport * from \"./DPlayer.vue?vue&type=script&lang=js\"\n\nimport \"./DPlayer.vue?vue&type=style&index=0&id=51c3e259&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-51c3e259\"\n\nexport default script","<template>\n  <el-form\n    ref=\"loginForm\"\n    :model=\"formData\"\n    :rules=\"rules\"\n    class=\"signIn-container\"\n    v-loading.fullscreen.lock=\"loading\"\n  >\n    <el-form-item class=\"form-group\">\n      <el-button type=\"primary\" @click=\"handleAutoSignIn\" class=\"main-button visitor\">\n        游客免密登录\n      </el-button>\n    </el-form-item>\n    <div class=\"form-separator\">\n      <p>\n        或者\n      </p>\n    </div>\n    <el-form-item class=\"form-group\" label=\"手机号\" prop=\"account\">\n      <el-input\n        class=\"account-input\"\n        name=\"formData-account\"\n        placeholder=\"请输入手机号\"\n        v-model=\"formData.account\"\n        maxlength=\"11\"\n        autocomplete\n        clearable\n      >\n        <template #prefix>\n          +86\n        </template>\n      </el-input>\n    </el-form-item>\n    <el-form-item class=\"form-group\" label=\"密&emsp;码\" prop=\"password\">\n      <el-input placeholder=\"请输入密码\" v-model=\"formData.password\" maxlength=\"12\" show-password></el-input>\n    </el-form-item>\n    <el-form-item class=\"form-group\">\n      <el-button type=\"primary\" @click=\"handleSignIn\" class=\"main-button account\">\n        登录\n      </el-button>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, onMounted } from 'vue';\nimport { useMutation } from '@vue/apollo-composable';\nimport { ElMessage } from 'element-plus';\nimport FingerprintJS from '@fingerprintjs/fingerprintjs';\nimport { exceptionCapture, errorMessage } from '@/utils';\nimport store, { Storage, TYPES } from '@/store';\nimport { SIGN_IN, AUTO_SIGN_IN } from '@/graphql';\n\nexport default defineComponent({\n  setup(props, context) {\n    const uuid = ref('');\n    const loading = ref(false);\n    const formData = ref({ account: '', password: '' });\n    onMounted(() => {\n      const fpPromise = FingerprintJS.load();\n      (async () => {\n        // Get the visitor identifier when you need it.\n        const fp = await fpPromise;\n        const result = await fp.get();\n        // This is the visitor identifier:\n        uuid.value = result.visitorId;\n      })();\n    });\n\n    const { mutate: signInMutate } = useMutation(SIGN_IN, () => ({ variables: formData.value }));\n\n    const { mutate: autoSignInMutate } = useMutation(AUTO_SIGN_IN, () => ({\n      variables: {\n        uuid: uuid.value\n      }\n    }));\n\n    function onError(err) {\n      ElMessage.error(`登录出错：${errorMessage(err)}`);\n    }\n\n    function onSuccess(res) {\n      context.emit('onSuccess');\n      ElMessage({\n        message: `登录成功!`,\n        type: 'success'\n      });\n      store.commit(TYPES.USER_LOGIN, res);\n      Storage.setItem('user', res);\n    }\n\n    async function signInMutation() {\n      loading.value = true;\n      const [err, res] = await exceptionCapture(() => signInMutate());\n      loading.value = false;\n      if (err) {\n        onError(err);\n      } else if (res?.data.signIn) {\n        onSuccess(res?.data.signIn);\n      }\n      window.pwaEventTrack('手机登录', err ? '失败' : '成功');\n    }\n\n    async function autoSignInMutation() {\n      loading.value = true;\n      const [err, res] = await exceptionCapture(() => autoSignInMutate());\n      loading.value = false;\n      if (err) {\n        onError(err);\n      } else if (res?.data.autoSignIn) {\n        onSuccess(res?.data.autoSignIn);\n      }\n      window.pwaEventTrack('免密登录', err ? '失败' : '成功');\n    }\n\n    return {\n      uuid,\n      loading,\n      formData,\n      signInMutation,\n      autoSignInMutation\n    };\n  },\n  computed: {\n    disabled() {\n      return !this.formData.account || !this.formData.password;\n    }\n  },\n  methods: {\n    handleSignIn() {\n      this.$refs.loginForm.validate(valid => {\n        if (valid) {\n          this.signInMutation();\n        } else {\n          return false;\n        }\n      });\n    },\n    handleAutoSignIn() {\n      if (this.uuid) {\n        this.autoSignInMutation();\n      } else {\n        ElMessage({\n          message: '无法获取设备ID，请用账号登录',\n          type: 'warning'\n        });\n      }\n    }\n  },\n  data() {\n    return {\n      rules: {\n        account: [\n          {\n            required: true,\n            message: '请输入手机号',\n            trigger: 'blur'\n          },\n          {\n            min: 11,\n            message: '手机号长度不正确',\n            trigger: 'blur'\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: '请输入密码',\n            trigger: 'blur'\n          },\n          {\n            min: 6,\n            max: 12,\n            message: '密码格式不正确（6-12）位',\n            trigger: 'blur'\n          }\n        ]\n      }\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\">\n.signIn-container {\n  .el-form-item__label {\n    color: var(--color-text-2);\n  }\n  .el-input {\n    .el-input__inner {\n      height: 48px;\n      line-height: 48px;\n      border: none;\n      background-color: var(--color-bg-1);\n    }\n    &.account-input {\n      .el-input__inner {\n        padding-left: 60px;\n      }\n      .el-input__prefix {\n        left: 0;\n        margin-top: 10px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 50px;\n        height: 30px;\n        font-size: 14px;\n        color: var(--color-text-0);\n        border-right: 1px solid var(--color-border);\n      }\n    }\n    .el-input__icon {\n      width: 30px;\n      line-height: 48px;\n    }\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.form-group {\n  margin-bottom: 30px;\n}\n\n.form-separator {\n  height: 1px;\n  margin: 30px 0;\n  p {\n    display: block;\n    margin: -10px auto;\n    font-size: 13px;\n    text-align: center;\n    text-transform: uppercase;\n    color: var(--color-text-0);\n  }\n}\n\n.main-button {\n  width: 100%;\n  height: 44px;\n  font-size: 1.6rem;\n  font-weight: 400;\n  &.visitor {\n    background-color: $theme-color_primary;\n  }\n  &.account {\n    background-color: var(--color-page-bg);\n    border-color: var(--color-page-bg);\n  }\n}\n</style>\n","\nimport { defineComponent, ref, onMounted } from 'vue';\nimport { useMutation } from '@vue/apollo-composable';\nimport { ElMessage } from 'element-plus';\nimport FingerprintJS from '@fingerprintjs/fingerprintjs';\nimport { exceptionCapture, errorMessage } from '@/utils';\nimport store, { Storage, TYPES } from '@/store';\nimport { SIGN_IN, AUTO_SIGN_IN } from '@/graphql';\n\nexport default defineComponent({\n  setup(props, context) {\n    const uuid = ref('');\n    const loading = ref(false);\n    const formData = ref({ account: '', password: '' });\n    onMounted(() => {\n      const fpPromise = FingerprintJS.load();\n      (async () => {\n        // Get the visitor identifier when you need it.\n        const fp = await fpPromise;\n        const result = await fp.get();\n        // This is the visitor identifier:\n        uuid.value = result.visitorId;\n      })();\n    });\n\n    const { mutate: signInMutate } = useMutation(SIGN_IN, () => ({ variables: formData.value }));\n\n    const { mutate: autoSignInMutate } = useMutation(AUTO_SIGN_IN, () => ({\n      variables: {\n        uuid: uuid.value\n      }\n    }));\n\n    function onError(err) {\n      ElMessage.error(`登录出错：${errorMessage(err)}`);\n    }\n\n    function onSuccess(res) {\n      context.emit('onSuccess');\n      ElMessage({\n        message: `登录成功!`,\n        type: 'success'\n      });\n      store.commit(TYPES.USER_LOGIN, res);\n      Storage.setItem('user', res);\n    }\n\n    async function signInMutation() {\n      loading.value = true;\n      const [err, res] = await exceptionCapture(() => signInMutate());\n      loading.value = false;\n      if (err) {\n        onError(err);\n      } else if (res?.data.signIn) {\n        onSuccess(res?.data.signIn);\n      }\n      window.pwaEventTrack('手机登录', err ? '失败' : '成功');\n    }\n\n    async function autoSignInMutation() {\n      loading.value = true;\n      const [err, res] = await exceptionCapture(() => autoSignInMutate());\n      loading.value = false;\n      if (err) {\n        onError(err);\n      } else if (res?.data.autoSignIn) {\n        onSuccess(res?.data.autoSignIn);\n      }\n      window.pwaEventTrack('免密登录', err ? '失败' : '成功');\n    }\n\n    return {\n      uuid,\n      loading,\n      formData,\n      signInMutation,\n      autoSignInMutation\n    };\n  },\n  computed: {\n    disabled() {\n      return !this.formData.account || !this.formData.password;\n    }\n  },\n  methods: {\n    handleSignIn() {\n      this.$refs.loginForm.validate(valid => {\n        if (valid) {\n          this.signInMutation();\n        } else {\n          return false;\n        }\n      });\n    },\n    handleAutoSignIn() {\n      if (this.uuid) {\n        this.autoSignInMutation();\n      } else {\n        ElMessage({\n          message: '无法获取设备ID，请用账号登录',\n          type: 'warning'\n        });\n      }\n    }\n  },\n  data() {\n    return {\n      rules: {\n        account: [\n          {\n            required: true,\n            message: '请输入手机号',\n            trigger: 'blur'\n          },\n          {\n            min: 11,\n            message: '手机号长度不正确',\n            trigger: 'blur'\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: '请输入密码',\n            trigger: 'blur'\n          },\n          {\n            min: 6,\n            max: 12,\n            message: '密码格式不正确（6-12）位',\n            trigger: 'blur'\n          }\n        ]\n      }\n    };\n  }\n});\n","import { render } from \"./SignIn.vue?vue&type=template&id=48caa0e7&scoped=true\"\nimport script from \"./SignIn.vue?vue&type=script&lang=ts\"\nexport * from \"./SignIn.vue?vue&type=script&lang=ts\"\n\nimport \"./SignIn.vue?vue&type=style&index=0&id=48caa0e7&lang=scss\"\nimport \"./SignIn.vue?vue&type=style&index=1&id=48caa0e7&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-48caa0e7\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./CommentModule.vue?vue&type=style&index=0&id=6e3f7528&lang=scss&scoped=true\"","<template>\n  <div v-if=\"loading\" class=\"mod-list\">\n    <div class=\"list-item\" v-for=\"item in 12\" :key=\"item\">\n      <Skeleton type=\"video\" />\n    </div>\n  </div>\n  <template v-else-if=\"userPosts?.length > 0\">\n    <div class=\"mod-list\" v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"disabled\">\n      <template v-for=\"item in userPosts\" :key=\"'history' + item.id\">\n        <router-link class=\"list-item\" :to=\"`/video/${item?.id}`\">\n          <VideoItem :video=\"item\" />\n        </router-link>\n      </template>\n    </div>\n    <LoadingSpinner v-if=\"hasMorePages\" />\n  </template>\n  <Empty v-else type=\"content\" description=\"暂无内容\" />\n</template>\n\n<script lang=\"ts\">\nimport { ref, toRefs, watch, computed } from 'vue';\nimport { useQuery, useResult } from '@vue/apollo-composable';\nimport { USER_POSTS_QUERY } from '@/graphql';\nimport { mergeProperty } from '@/utils';\nimport VideoItem from '@/components/VideoItem.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\nimport Empty from '@/components/Empty.vue';\n\nexport default {\n  components: {\n    VideoItem,\n    Skeleton,\n    LoadingSpinner,\n    Empty\n  },\n  props: ['userId'],\n  setup(props) {\n    const { userId } = toRefs(props);\n\n    const variables = ref({\n      user_id: userId.value,\n      page: 1,\n      first: 20\n    });\n    const column = ref(window.screen.width >= 576 ? 2 : 1);\n\n    const { result, loading, error, fetchMore } = useQuery(USER_POSTS_QUERY, variables);\n    const userPosts = useResult(result, [], (data: any) => data?.userPosts?.data);\n    const paginatorInfo = useResult(result, {}, (data: any) => data?.userPosts?.paginatorInfo);\n    const currentPage = ref(1);\n    const hasMorePages = ref(true);\n\n    watch(paginatorInfo, (value, prevValue) => {\n      currentPage.value = value?.currentPage;\n      hasMorePages.value = value?.hasMorePages;\n    });\n\n    const loadingMore = ref(false);\n    const disabled = computed(() => loading.value || loadingMore.value || !hasMorePages.value);\n\n    function loadMore() {\n      if (hasMorePages.value && !loadingMore.value) {\n        loadingMore.value = true;\n        fetchMore({\n          variables: {\n            page: currentPage.value + 1\n          },\n          updateQuery: (prev: any, { fetchMoreResult }) => {\n            loadingMore.value = false;\n            if (!fetchMoreResult) {\n              return prev;\n            }\n            return mergeProperty(prev, fetchMoreResult);\n          }\n        });\n      }\n    }\n\n    return {\n      loading,\n      error,\n      disabled,\n      loadMore,\n      hasMorePages,\n      userPosts\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.mod-list {\n  display: flex;\n  flex-wrap: wrap;\n}\n.mod-list {\n  .list-item {\n    width: 25%;\n    display: block;\n    margin-bottom: 24px;\n    padding-right: 24px;\n    @media (max-width: $col-md-width - 1px) {\n      width: 33.33%;\n      margin-bottom: 14px;\n      padding-right: 14px;\n    }\n    @media (max-width: $col-sm-width - 1px) {\n      width: 50%;\n      margin-bottom: 14px;\n      padding-right: 14px;\n    }\n  }\n}\n</style>\n","\nimport { ref, toRefs, watch, computed } from 'vue';\nimport { useQuery, useResult } from '@vue/apollo-composable';\nimport { USER_POSTS_QUERY } from '@/graphql';\nimport { mergeProperty } from '@/utils';\nimport VideoItem from '@/components/VideoItem.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\nimport Empty from '@/components/Empty.vue';\n\nexport default {\n  components: {\n    VideoItem,\n    Skeleton,\n    LoadingSpinner,\n    Empty\n  },\n  props: ['userId'],\n  setup(props) {\n    const { userId } = toRefs(props);\n\n    const variables = ref({\n      user_id: userId.value,\n      page: 1,\n      first: 20\n    });\n    const column = ref(window.screen.width >= 576 ? 2 : 1);\n\n    const { result, loading, error, fetchMore } = useQuery(USER_POSTS_QUERY, variables);\n    const userPosts = useResult(result, [], (data: any) => data?.userPosts?.data);\n    const paginatorInfo = useResult(result, {}, (data: any) => data?.userPosts?.paginatorInfo);\n    const currentPage = ref(1);\n    const hasMorePages = ref(true);\n\n    watch(paginatorInfo, (value, prevValue) => {\n      currentPage.value = value?.currentPage;\n      hasMorePages.value = value?.hasMorePages;\n    });\n\n    const loadingMore = ref(false);\n    const disabled = computed(() => loading.value || loadingMore.value || !hasMorePages.value);\n\n    function loadMore() {\n      if (hasMorePages.value && !loadingMore.value) {\n        loadingMore.value = true;\n        fetchMore({\n          variables: {\n            page: currentPage.value + 1\n          },\n          updateQuery: (prev: any, { fetchMoreResult }) => {\n            loadingMore.value = false;\n            if (!fetchMoreResult) {\n              return prev;\n            }\n            return mergeProperty(prev, fetchMoreResult);\n          }\n        });\n      }\n    }\n\n    return {\n      loading,\n      error,\n      disabled,\n      loadMore,\n      hasMorePages,\n      userPosts\n    };\n  }\n};\n","import { render } from \"./UserPosts.vue?vue&type=template&id=089c10e8&scoped=true\"\nimport script from \"./UserPosts.vue?vue&type=script&lang=ts\"\nexport * from \"./UserPosts.vue?vue&type=script&lang=ts\"\n\nimport \"./UserPosts.vue?vue&type=style&index=0&id=089c10e8&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-089c10e8\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./SearchBar.vue?vue&type=style&index=1&id=91b72634&lang=scss\"","<template>\n  <ul v-if=\"type === 'movies'\" class=\"grid-items\">\n    <li class=\"item-wrap\" v-for=\"item in moviesColumn * row\" :key=\"item\">\n      <el-skeleton animated>\n        <template #template>\n          <div class=\"movie-item\">\n            <div class=\"thumbnail\">\n              <div class=\"responsive-item\">\n                <el-skeleton-item variant=\"image\" class=\"cover\" />\n              </div>\n            </div>\n            <el-skeleton-item variant=\"p\" class=\"title\" />\n            <el-skeleton-item variant=\"text\" class=\"mate\" />\n          </div>\n        </template>\n      </el-skeleton>\n    </li>\n  </ul>\n  <ul v-else-if=\"type === 'videos'\" class=\"flow-items\">\n    <li class=\"item-wrap\" v-for=\"item in videosColumn * row\" :key=\"item\">\n      <el-skeleton animated>\n        <template #template>\n          <div class=\"video-item\">\n            <div class=\"thumbnail\">\n              <div class=\"responsive-item\">\n                <el-skeleton-item variant=\"image\" class=\"cover\" />\n              </div>\n            </div>\n            <div class=\"content\">\n              <el-skeleton-item variant=\"p\" class=\"desc\" />\n              <el-skeleton-item variant=\"p\" class=\"desc\" style=\"width:60%\" />\n            </div>\n            <div class=\"flex-row\">\n              <div class=\"flex-row\">\n                <el-skeleton-item variant=\"circle\" class=\"avatar\" />\n                <el-skeleton-item variant=\"text\" class=\"mate\" />\n              </div>\n            </div>\n          </div>\n        </template>\n      </el-skeleton>\n    </li>\n  </ul>\n  <ul v-else-if=\"type === 'recommend-movies'\" class=\"recommend-movies\">\n    <li\n      :style=\"`width:${column ? 100 / column : 100}%;padding: 0 calc(var(--list-item-margin) / 2);`\"\n      v-for=\"item in count\"\n      :key=\"item\"\n    >\n      <el-skeleton animated>\n        <template #template>\n          <div class=\"recommend-movie-item\">\n            <div class=\"item-cover\">\n              <el-skeleton-item variant=\"caption\" class=\"cover\" />\n            </div>\n            <div class=\"item-info\">\n              <el-skeleton-item variant=\"p\" class=\"title\" />\n              <div>\n                <el-skeleton-item variant=\"text\" class=\"mate\" />\n                <el-skeleton-item variant=\"text\" class=\"mate\" />\n              </div>\n            </div>\n          </div>\n        </template>\n      </el-skeleton>\n    </li>\n  </ul>\n  <ul v-else-if=\"type === 'searched-movies'\" class=\"searched-movies\">\n    <li v-for=\"item in count\" :key=\"item\">\n      <el-skeleton animated>\n        <template #template>\n          <div class=\"searched-movie-item\">\n            <div class=\"item-cover\">\n              <el-skeleton-item variant=\"caption\" class=\"cover\" />\n            </div>\n            <div class=\"item-info\">\n              <div>\n                <el-skeleton-item variant=\"p\" class=\"title\" />\n                <el-skeleton-item variant=\"text\" class=\"mate\" />\n                <el-skeleton-item variant=\"text\" class=\"mate hide-lg\" />\n              </div>\n              <el-skeleton-item variant=\"p\" class=\"mate\" style=\"width:40%\" />\n            </div>\n          </div>\n        </template>\n      </el-skeleton>\n    </li>\n  </ul>\n  <ul v-else-if=\"type === 'comments'\" class=\"comment-list\">\n    <li v-for=\"item in count\" :key=\"item\">\n      <el-skeleton animated>\n        <template #template>\n          <div class=\"comment-item\">\n            <el-skeleton-item variant=\"circle\" class=\"avatar\" />\n            <div class=\"body\">\n              <el-skeleton-item variant=\"p\" class=\"title\" />\n              <el-skeleton-item variant=\"text\" class=\"mate\" />\n            </div>\n          </div>\n        </template>\n      </el-skeleton>\n    </li>\n  </ul>\n  <div v-else-if=\"type === 'media'\">\n    <el-skeleton animated>\n      <template #template>\n        <div class=\"recommend-movie-item\">\n          <div class=\"item-cover\">\n            <el-skeleton-item variant=\"caption\" class=\"cover\" />\n          </div>\n          <div class=\"item-info\">\n            <el-skeleton-item variant=\"p\" class=\"title\" />\n            <div>\n              <el-skeleton-item variant=\"text\" class=\"mate\" />\n              <el-skeleton-item variant=\"text\" class=\"mate\" />\n            </div>\n          </div>\n        </div>\n      </template>\n    </el-skeleton>\n  </div>\n  <div v-else-if=\"type === 'video'\">\n    <el-skeleton animated>\n      <template #template>\n        <div class=\"video-item\">\n          <div class=\"thumbnail\">\n            <div class=\"responsive-item\">\n              <el-skeleton-item variant=\"image\" class=\"cover\" />\n            </div>\n          </div>\n          <div class=\"content\">\n            <el-skeleton-item variant=\"p\" class=\"desc\" />\n            <el-skeleton-item variant=\"p\" class=\"desc\" style=\"width:60%\" />\n          </div>\n          <div class=\"flex-row\">\n            <div class=\"flex-row\">\n              <el-skeleton-item variant=\"circle\" class=\"avatar\" />\n              <el-skeleton-item variant=\"text\" class=\"mate\" />\n            </div>\n          </div>\n        </div>\n      </template>\n    </el-skeleton>\n  </div>\n</template>\n\n<script>\nimport useItemsPerRow from './hooks/useItemsPerRow';\n\nexport default {\n  props: {\n    type: String,\n    count: {\n      type: Number,\n      default: () => {\n        return 5;\n      }\n    },\n    row: {\n      type: Number,\n      default: () => {\n        return 5;\n      }\n    },\n    column: {\n      type: Number,\n      default: () => {\n        return 1;\n      }\n    }\n  },\n  setup(props) {\n    const videosColumn = useItemsPerRow('--column-video-items-per-row');\n    const moviesColumn = useItemsPerRow('--column-movie-items-per-row');\n\n    return {\n      videosColumn,\n      moviesColumn\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.responsive-item {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.row {\n  display: flex;\n}\n\n.comment-item {\n  display: flex;\n  margin-top: 25px;\n  .avatar {\n    width: 40px;\n    height: 40px;\n    margin-right: 12px;\n  }\n  .body {\n    flex: 1;\n    .title {\n      width: 12%;\n      height: 18px;\n      margin-bottom: 10px;\n    }\n    .mate {\n      height: 20px;\n      margin-bottom: 10px;\n    }\n  }\n}\n\n.recommend-movies {\n  margin: 0 calc(calc(var(--list-item-margin) / 2) * -1);\n}\n\n.recommend-movie-item,\n.searched-movie-item {\n  display: flex;\n  height: 90px;\n  width: 100%;\n  margin-top: 24px;\n  .item-cover {\n    margin-right: 10px;\n    width: 120px;\n    height: 100%;\n    .cover {\n      width: 100%;\n      height: 100%;\n    }\n  }\n  .item-info {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    .title {\n      width: 55%;\n      height: 20px;\n      border-radius: 4px;\n    }\n    .mate {\n      height: 18px;\n      border-radius: 4px;\n    }\n  }\n}\n\n.searched-movie-item {\n  height: 214px;\n  margin-bottom: 28px;\n  .item-cover {\n    width: 154px;\n    height: 100%;\n  }\n  .mate {\n    margin-top: 10px;\n  }\n\n  @media screen and (max-width: $col-sm-width - 1px) {\n    height: 120px;\n    margin-bottom: 14px;\n    .item-cover {\n      width: 90px;\n    }\n  }\n}\n\n.video-item {\n  .thumbnail {\n    padding-top: 66%;\n    border-radius: 6px;\n    position: relative;\n    overflow: hidden;\n    .cover {\n      width: 100%;\n      height: 100%;\n    }\n  }\n  .content {\n    margin: 10px 0 4px;\n    .desc {\n      height: 1.6rem;\n      margin: 2px;\n      border-radius: 4px;\n    }\n  }\n  .flex-row {\n    flex: 1;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    .avatar {\n      width: 20px;\n      height: 20px;\n      margin-right: 5%;\n    }\n    .mate {\n      width: 30%;\n      height: 1.6rem;\n      border-radius: 4px;\n    }\n  }\n}\n\n.movie-item {\n  .thumbnail {\n    padding-top: 140%;\n    border-radius: 4px;\n    position: relative;\n    overflow: hidden;\n    .cover {\n      width: 100%;\n      height: 100%;\n    }\n  }\n  .title {\n    margin: 12px 0 6px;\n    width: 55%;\n    height: 2rem;\n    border-radius: 4px;\n  }\n  .mate {\n    height: 1.6rem;\n    border-radius: 4px;\n  }\n}\n</style>\n","import { render } from \"./Skeleton.vue?vue&type=template&id=461d69f8&scoped=true\"\nimport script from \"./Skeleton.vue?vue&type=script&lang=js\"\nexport * from \"./Skeleton.vue?vue&type=script&lang=js\"\n\nimport \"./Skeleton.vue?vue&type=style&index=0&id=461d69f8&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-461d69f8\"\n\nexport default script","export default class EventBus {\n  events: Object;\n\n  constructor() {\n    this.events = {};\n  }\n\n  emit(eventName, data?) {\n    if (this.events[eventName]) {\n      this.events[eventName].forEach(function(fn) {\n        fn(data);\n      });\n    }\n  }\n\n  on(eventName, fn) {\n    this.events[eventName] = this.events[eventName] || [];\n    this.events[eventName].push(fn);\n  }\n\n  off(eventName, fn) {\n    if (this.events[eventName]) {\n      for (var i = 0; i < this.events[eventName].length; i++) {\n        if (this.events[eventName][i] === fn) {\n          this.events[eventName].splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n}\n","type OS = 'IOS' | 'Android' | 'PC';\n\ninterface Device {\n  OS: OS;\n}\n\nconst DeviceInfo: Device = {} as Device;\n\nif (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {\n  //判断iPhone|iPad|iPod|iOS\n  DeviceInfo.OS = 'IOS';\n} else if (/(Android)/i.test(navigator.userAgent)) {\n  //判断Android\n  DeviceInfo.OS = 'Android';\n} else {\n  DeviceInfo.OS = 'PC';\n}\n\nexport default DeviceInfo;\n","import EventBus from './EventBus';\nimport DeviceInfo from './DeviceInfo';\n\nexport const EVENT_BUS = new EventBus();\nexport const DEVICE_INFO = DeviceInfo;\nexport const NODE_ENV = process.env.NODE_ENV || 'prod';\n\nvar ua = navigator.userAgent.toLowerCase();\nexport const TX_ENV = !!(ua.match(/MicroMessenger\\/[0-9]/i) || ua.match(/QQ\\/[0-9]/i));\n\nexport const APP_NAME = (window as any).appName || 'juhaokantv';\nexport const APP_NAME_CN = (window as any).appNameCN || '剧好看';\nexport const APP_SLOGAN = (window as any).appSlogan || '就要给你好看';\nexport const APK_SCHEMA = (window as any).apkSchema || 'juhaokantv';\nexport const APK_PACKAGE = (window as any).apkPackage || 'com.zmide.study';\nexport const APK_VERSION = (window as any).apkVersion || '4.1.3';\nexport const HOST_NAME = (window as any).appDomain || 'juokan.com';\nexport const GQL_URI = (window as any).gqlUri || 'https://pwa.juhaokantv.com/gql';\nexport const DOWNLOAD_URL = (window as any).downloadUrl || 'https://juokan.com/app';\nexport const APK_URL = (window as any).apkUrl || 'https://yy.juhaokantv.com/juhaokan_4.0.8_1.apk';\nexport const LOGO_URL = (window as any).logoUrl || '/img/logo.svg';\nexport const APP_LOGO_URL = (window as any).appLogoUrl || '/img/logo.png';\nexport const LOGO_TEXT_URL = (window as any).logoTextUrl || '/img/logo-text.svg';\nexport const LOGO_ICON_URL = (window as any).logoIconUrl || '/img/logo-icon.svg';\n","<template>\n  <div v-if=\"loading\" class=\"mod-list\">\n    <div class=\"list-item\" v-for=\"item in 10\" :key=\"item\">\n      <Skeleton type=\"media\" />\n    </div>\n  </div>\n  <template v-else-if=\"moviesHistory?.length > 0\">\n    <div class=\"mod-list\" v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"disabled\">\n      <template v-for=\"item in moviesHistory\" :key=\"'history' + item.id\">\n        <router-link v-if=\"item.movie?.id\" class=\"list-item\" :to=\"`/movie/${item.movie?.id}`\">\n          <HTMovieItem :movie=\"item.movie\" :time-ago=\"item.last_watch_time\" />\n        </router-link>\n      </template>\n    </div>\n    <LoadingSpinner v-if=\"hasMorePages\" />\n  </template>\n  <Empty v-else type=\"content\" description=\"暂无内容\" />\n</template>\n\n<script lang=\"ts\">\nimport { ref, watch, toRefs } from 'vue';\nimport { useMoviesHistoryQuery } from '@/graphql';\nimport HTMovieItem from '@/components/HTMovieItem.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\nimport Empty from '@/components/Empty.vue';\n\nexport default {\n  components: {\n    HTMovieItem,\n    Skeleton,\n    LoadingSpinner,\n    Empty\n  },\n  props: ['userId'],\n  setup(props) {\n    const { userId } = toRefs(props);\n\n    const variables = ref({\n      first: 20\n    });\n\n    const { loading, moviesHistory, loadMore, hasMorePages, disabled } = useMoviesHistoryQuery(variables, {\n      enabled: !!userId.value\n    });\n\n    return {\n      loading,\n      moviesHistory,\n      loadMore,\n      hasMorePages,\n      disabled\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.mod-list {\n  display: flex;\n  flex-wrap: wrap;\n}\n.mod-list {\n  .list-item {\n    width: 50%;\n    display: block;\n    margin-bottom: 24px;\n    padding-right: 24px;\n    @media (max-width: $col-sm-width - 1px) {\n      width: 100%;\n      margin-bottom: 14px;\n      padding-right: 14px;\n    }\n  }\n}\n</style>\n","\nimport { ref, watch, toRefs } from 'vue';\nimport { useMoviesHistoryQuery } from '@/graphql';\nimport HTMovieItem from '@/components/HTMovieItem.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\nimport Empty from '@/components/Empty.vue';\n\nexport default {\n  components: {\n    HTMovieItem,\n    Skeleton,\n    LoadingSpinner,\n    Empty\n  },\n  props: ['userId'],\n  setup(props) {\n    const { userId } = toRefs(props);\n\n    const variables = ref({\n      first: 20\n    });\n\n    const { loading, moviesHistory, loadMore, hasMorePages, disabled } = useMoviesHistoryQuery(variables, {\n      enabled: !!userId.value\n    });\n\n    return {\n      loading,\n      moviesHistory,\n      loadMore,\n      hasMorePages,\n      disabled\n    };\n  }\n};\n","import { render } from \"./MoviesHistory.vue?vue&type=template&id=ae225688&scoped=true\"\nimport script from \"./MoviesHistory.vue?vue&type=script&lang=ts\"\nexport * from \"./MoviesHistory.vue?vue&type=script&lang=ts\"\n\nimport \"./MoviesHistory.vue?vue&type=style&index=0&id=ae225688&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-ae225688\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./RCMovieItem.vue?vue&type=style&index=0&id=58ccaba8&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./GridMovies.vue?vue&type=style&index=0&id=3f067394&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./LoginModal.vue?vue&type=style&index=0&id=6610db17&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./CommentItem.vue?vue&type=style&index=0&id=22265af6&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Profile.vue?vue&type=style&index=0&id=54675879&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./InviteCard.vue?vue&type=style&index=0&id=1d3d67dc&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Search.vue?vue&type=style&index=0&id=2b25af82&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Search.vue?vue&type=style&index=1&id=2b25af82&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./InviteModal.vue?vue&type=style&index=0&id=324c00ca&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Notfound.vue?vue&type=style&index=0&id=4f4a01a9&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&id=bfeeab6a&lang=scss\"","<template>\n  <div class=\"rc-movie-item\">\n    <a :href=\"`/movie/${movie.id}`\" class=\"figure\">\n      <div class=\"figure-pic\">\n        <img v-lazyload=\"movie.cover\" />\n      </div>\n    </a>\n    <div class=\"detail\">\n      <a :href=\"`/movie/${movie.id}`\" class=\"detail-title webkit-text-ellipsis\" :title=\"movie.name\">\n        {{ movie.name || movie.introduction }}\n      </a>\n      <div class=\"detail-info\">\n        <div class=\"meta-text text-ellipsis\">{{ movie.year + '上映 · ' + movie.type }}</div>\n        <div v-if=\"!!movie.actors\" class=\"meta-text text-ellipsis\">{{ '主演：' + movie.actors }}</div>\n        <div v-else-if=\"!!movie.producer\" class=\"meta-text text-ellipsis\">{{ '导演：' + movie.producer }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  props: {\n    movie: {\n      type: Object\n    }\n  },\n  setup(props) {}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.rc-movie-item {\n  display: flex;\n  height: 90px;\n  width: 100%;\n  &:hover {\n    .detail-title {\n      color: $theme-color_primary;\n    }\n  }\n}\n.figure {\n  flex-shrink: 0;\n  margin-right: 10px;\n  width: 120px;\n  height: 90px;\n  border-radius: 4px;\n  overflow: hidden;\n  position: relative;\n  cursor: pointer;\n  box-shadow: 0 2px 4px rgb(40 40 40 / 10%);\n  .figure-pic {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    transition: transform 2s linear;\n    background: var(--color-bg-1);\n    &:hover {\n      transform: scale(1.2);\n    }\n    img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n  }\n}\n.detail {\n  flex: 1;\n  overflow: hidden;\n  .detail-title {\n    display: block;\n    height: 40px;\n    font-size: 14px;\n    line-height: 20px;\n    font-weight: 500;\n    color: var(--color-text-0);\n    transition: color 0.3s ease;\n  }\n  .detail-info {\n    margin-top: 14px;\n    height: 36px;\n    line-height: 18px;\n    font-size: 13px;\n    color: var(--color-text-3);\n  }\n}\n</style>\n","\nexport default {\n  props: {\n    movie: {\n      type: Object\n    }\n  },\n  setup(props) {}\n};\n","import { render } from \"./RCMovieItem.vue?vue&type=template&id=58ccaba8&scoped=true\"\nimport script from \"./RCMovieItem.vue?vue&type=script&lang=ts\"\nexport * from \"./RCMovieItem.vue?vue&type=script&lang=ts\"\n\nimport \"./RCMovieItem.vue?vue&type=style&index=0&id=58ccaba8&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-58ccaba8\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./CommentEditor.vue?vue&type=style&index=0&id=415c9c6c&lang=scss&scoped=true\"","<template>\n  <div class=\"video-item\">\n    <router-link class=\"figure\" :to=\"`/video/${video?.id}`\">\n      <div class=\"figure-pic\">\n        <img v-lazyload=\"video.cover\" />\n      </div>\n      <div class=\"figure-caption\">\n        <span v-if=\"duration\" class=\"video-duration\">{{ duration }}</span>\n      </div>\n    </router-link>\n    <div class=\"detail\">\n      <router-link class=\"detail-title webkit-text-ellipsis\" :to=\"`/video/${video?.id}`\">\n        {{ video?.description || '' }}\n      </router-link>\n      <div class=\"detail-info\">\n        <router-link class=\"info-author text-ellipsis\" :to=\"`/user/${video?.user?.id}`\">\n          <img class=\"user-avatar\" :src=\"video?.user?.avatar\" />\n          <span class=\"user-name\">\n            {{ video?.user?.name }}\n          </span>\n        </router-link>\n        <span class=\"time-ago text-ellipsis\">{{ video?.created_at }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { toRefs } from 'vue';\nimport moment from '@/utils/moment';\nimport { PostItemInterface } from '@/graphql/schema';\n\nexport default {\n  props: {\n    video: Object as () => PostItemInterface\n  },\n  setup(props) {\n    const { video } = toRefs(props);\n    const duration = moment.format(video.value?.video?.duration)?.substr(-5);\n    return { duration };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.video-item {\n  width: 100%;\n}\n.figure {\n  display: block;\n  width: 100%;\n  padding-top: 66%;\n  border-radius: 8px;\n  overflow: hidden;\n  position: relative;\n  box-shadow: 0 2px 4px rgb(40 40 40 / 10%);\n  .figure-pic {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: var(--color-bg-1);\n    transition: transform ease-out 0.35s;\n    &:hover {\n      transform: scale(1.1);\n    }\n    img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n  }\n  .figure-caption {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    padding: 5px 10px;\n    background-repeat: no-repeat;\n    background-image: linear-gradient(transparent, rgba(0, 0, 0, 0.5));\n    .video-duration {\n      font-size: 12px;\n      font-weight: 500;\n      line-height: 1.4rem;\n      color: var(--color-anti-white);\n      overflow: hidden;\n    }\n  }\n}\n.detail {\n  .detail-title {\n    margin: 12px 0 8px;\n    display: block;\n    height: 4rem;\n    line-height: 2rem;\n    font-size: 1.4rem;\n    font-weight: 500;\n    color: var(--color-text-0);\n    @media (max-width: $col-sm-width - 1px) {\n      font-size: 1.3rem;\n    }\n    &:hover {\n      color: $theme-color_primary;\n    }\n  }\n  .detail-info {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 1.3rem;\n    line-height: 1.6rem;\n    .info-author {\n      flex: 1;\n      display: flex;\n      align-items: center;\n      margin-right: 10px;\n      .user-avatar {\n        width: 20px;\n        height: 20px;\n        border-radius: 10px;\n        margin-right: 5px;\n        background-color: var(--color-bg-1);\n      }\n      .user-name {\n        color: var(--color-text-0);\n      }\n      &:hover {\n        .user-name {\n          color: $theme-color_primary;\n        }\n      }\n    }\n    .time-ago {\n      display: block;\n      color: var(--color-text-3);\n      @media (max-width: $col-sm-width - 1px) {\n        font-size: 1.2rem;\n      }\n    }\n  }\n}\n</style>\n","\nimport { toRefs } from 'vue';\nimport moment from '@/utils/moment';\nimport { PostItemInterface } from '@/graphql/schema';\n\nexport default {\n  props: {\n    video: Object as () => PostItemInterface\n  },\n  setup(props) {\n    const { video } = toRefs(props);\n    const duration = moment.format(video.value?.video?.duration)?.substr(-5);\n    return { duration };\n  }\n};\n","import { render } from \"./VideoItem.vue?vue&type=template&id=36d358e0&scoped=true\"\nimport script from \"./VideoItem.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoItem.vue?vue&type=script&lang=ts\"\n\nimport \"./VideoItem.vue?vue&type=style&index=0&id=36d358e0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-36d358e0\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./SignUp.vue?vue&type=style&index=1&id=247bf8db&lang=scss&scoped=true\"","<template>\n  <div id=\"sidebar\">\n    <div class=\"side-button contact-us\">\n      <el-popover placement=\"left\" :width=\"120\" trigger=\"hover\" popper-class=\"qqgroup-popper\">\n        <template #reference>\n          <a class=\"qq-logo\" href=\"https://jq.qq.com/?_wv=1027&k=w9450OnJ\" target=\"_blank\"> </a>\n        </template>\n        <div class=\"popper-content\">\n          <div>扫码加QQ粉丝群</div>\n          <img src=\"/img/qqgroup.png\" alt=\"群聊二维码\" class=\"qqgroup-qrcode\" />\n        </div>\n      </el-popover>\n    </div>\n    <div class=\"side-button\" @click=\"toggleMode\">\n      <svg\n        v-if=\"colorScheme === 'dark'\"\n        class=\"light\"\n        viewBox=\"0 0 1024 1024\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        p-id=\"13182\"\n      >\n        <path\n          d=\"M512 874.666667a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64A32 32 0 0 1 512 874.666667z m-256.426667-106.24a32 32 0 0 1 0 45.269333l-45.269333 45.248a32 32 0 0 1-45.248-45.226667l45.226667-45.269333a32 32 0 0 1 45.269333 0z m558.122667 0l45.248 45.269333a32 32 0 0 1-45.226667 45.248l-45.269333-45.226667a32 32 0 1 1 45.248-45.269333zM512 213.333333c164.949333 0 298.666667 133.717333 298.666667 298.666667s-133.717333 298.666667-298.666667 298.666667-298.666667-133.717333-298.666667-298.666667 133.717333-298.666667 298.666667-298.666667z m0 64c-129.6 0-234.666667 105.066667-234.666667 234.666667s105.066667 234.666667 234.666667 234.666667 234.666667-105.066667 234.666667-234.666667-105.066667-234.666667-234.666667-234.666667zM117.333333 480a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64h64z m853.333334 0a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64h64zM210.304 165.056l45.248 45.226667a32 32 0 1 1-45.248 45.269333L165.056 210.304a32 32 0 0 1 45.226667-45.248z m648.64 0a32 32 0 0 1 0 45.226667l-45.226667 45.269333a32 32 0 1 1-45.269333-45.248l45.248-45.248a32 32 0 0 1 45.248 0zM512 21.333333a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64A32 32 0 0 1 512 21.333333z\"\n          p-id=\"13183\"\n        ></path>\n      </svg>\n      <svg v-else class=\"dark\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"13334\">\n        <path\n          d=\"M512 117.333333c-6.250667 0-12.544 0.149333-18.837333 0.426667a32 32 0 0 0-28.885334 42.197333c10.389333 30.72 15.722667 63.018667 15.722667 96.042667 0 168.405333-139.370667 305.706667-313.130667 309.269333l-7.957333 0.085334a32 32 0 0 0-30.592 39.488C170.730667 780.672 328.682667 906.666667 512 906.666667c217.962667 0 394.666667-176.704 394.666667-394.666667S729.962667 117.333333 512 117.333333z m26.282667 74.090667l-1.813334-9.194667 2.325334 0.170667C708.885333 196.053333 842.666667 338.389333 842.666667 512c0 182.613333-148.053333 330.666667-330.666667 330.666667l-7.296-0.085334a330.944 330.944 0 0 1-301.44-211.861333l-1.344-3.562667 0.768-0.064C394.282667 606.656 544 448.490667 544 256c0-21.824-1.92-43.413333-5.717333-64.576z\"\n          p-id=\"13335\"\n        ></path>\n      </svg>\n    </div>\n    <div v-if=\"visible\" class=\"side-button goTop\" @click=\"goTop\">\n      <svg class=\"upward\" viewBox=\"0 0 1820 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"22196\">\n        <path\n          d=\"M1341.155556 774.921481l-412.444445-559.028148c-5.12-7.016296-13.274074-11.093333-21.997037-11.093333h-0.094815c-8.722963 0-16.877037 4.266667-21.997037 11.282963L478.53037 775.964444c-6.068148 8.343704-6.921481 19.247407-2.18074 28.444445 4.645926 9.102222 14.032593 14.885926 24.367407 14.885926h819.2c15.075556 0 27.306667-12.231111 27.306667-27.306667-0.094815-6.447407-2.275556-12.325926-6.068148-17.066667z\"\n          p-id=\"22197\"\n        ></path>\n      </svg>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport $ from 'jquery';\nimport { Storage } from '@/store';\n\nconst THEME = {\n  Dark: 'dark',\n  Light: 'light'\n};\n\nexport default {\n  beforeMount() {\n    const matchMedia = window.matchMedia('(prefers-color-scheme: dark)');\n    function darkModeHandler() {\n      if (matchMedia.matches) {\n        document.documentElement.setAttribute('data-theme', THEME.Dark);\n      } else {\n        document.documentElement.setAttribute('data-theme', THEME.Light);\n      }\n    }\n    matchMedia.addEventListener('change', darkModeHandler);\n\n    this.colorScheme = matchMedia.matches ? THEME.Dark : Storage.getItem('colorScheme');\n    if (this.colorScheme === THEME.Dark) {\n      document.documentElement.setAttribute('data-theme', THEME.Dark);\n    }\n  },\n  mounted() {\n    $(window).on('scroll', () => {\n      if ($(window).scrollTop() > 1000) {\n        this.visible = true;\n      } else {\n        this.visible = false;\n      }\n    });\n  },\n  methods: {\n    toggleMode() {\n      this.colorScheme = this.colorScheme === THEME.Dark ? THEME.Light : THEME.Dark;\n      Storage.setItem('colorScheme', this.colorScheme);\n      document.documentElement.setAttribute('data-theme', this.colorScheme);\n    },\n    goTop() {\n      $('body,html').animate({ scrollTop: 0 }, 1000);\n    }\n  },\n  data() {\n    return {\n      visible: false,\n      colorScheme: ''\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#sidebar {\n  position: fixed;\n  right: 12px;\n  bottom: 12px;\n  z-index: 1000;\n  margin-bottom: env(safe-area-inset-bottom);\n  .side-button {\n    margin-top: 12px;\n    width: 40px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    background-color: var(--color-bg-0);\n    box-shadow: var(--shadow-2);\n    cursor: pointer;\n    .qq-logo {\n      width: 70%;\n      height: 70%;\n      background: url(/img/qq.svg) no-repeat;\n      animation: el-dance 10s infinite ease-in-out;\n    }\n    svg {\n      width: 70%;\n      height: 70%;\n      fill: var(--color-text-1);\n    }\n  }\n  @media (max-width: $col-sm-width - 1px) {\n    bottom: calc(12px + var(--navbar-height));\n    .side-button {\n      width: 36px;\n      height: 36px;\n    }\n  }\n}\n\n@keyframes el-dance {\n  0% {\n    transform: translate(0) rotate(0deg);\n  }\n  2% {\n    transform: translateY(1.5px) rotate(1.5deg);\n  }\n  4% {\n    transform: translateY(-1.5px) rotate(-0.5deg);\n  }\n  6% {\n    transform: translateY(1.5px) rotate(-1.5deg);\n  }\n  8% {\n    transform: translateY(-1.5px) rotate(-1.5deg);\n  }\n  10% {\n    transform: translateY(2.5px) rotate(1.5deg);\n  }\n  12% {\n    transform: translateY(-0.5px) rotate(1.5deg);\n  }\n  14% {\n    transform: translateY(-1.5px) rotate(1.5deg);\n  }\n  16% {\n    transform: translateY(-0.5px) rotate(-1.5deg);\n  }\n  18% {\n    transform: translateY(0.5px) rotate(-1.5deg);\n  }\n  20% {\n    transform: translateY(-1.5px) rotate(2.5deg);\n  }\n  22% {\n    transform: translateY(0.5px) rotate(-1.5deg);\n  }\n  24% {\n    transform: translateY(1.5px) rotate(1.5deg);\n  }\n  26% {\n    transform: translateY(0.5px) rotate(0.5deg);\n  }\n  28% {\n    transform: translateY(0.5px) rotate(1.5deg);\n  }\n  30% {\n    transform: translateY(-0.5px) rotate(2.5deg);\n  }\n  32% {\n    transform: translateY(1.5px) rotate(-0.5deg);\n  }\n  34% {\n    transform: translateY(1.5px) rotate(-0.5deg);\n  }\n  36% {\n    transform: translateY(-1.5px) rotate(2.5deg);\n  }\n  38% {\n    transform: translateY(1.5px) rotate(-1.5deg);\n  }\n  40% {\n    transform: translateY(-0.5px) rotate(2.5deg);\n  }\n  42% {\n    transform: translateY(2.5px) rotate(-1.5deg);\n  }\n  44% {\n    transform: translateY(1.5px) rotate(0.5deg);\n  }\n  46% {\n    transform: translateY(-1.5px) rotate(2.5deg);\n  }\n  48% {\n    transform: translateY(-0.5px) rotate(0.5deg);\n  }\n  50% {\n    transform: translateY(0.5px) rotate(0.5deg);\n  }\n  52% {\n    transform: translateY(2.5px) rotate(2.5deg);\n  }\n  54% {\n    transform: translateY(-1.5px) rotate(1.5deg);\n  }\n  56% {\n    transform: translateY(2.5px) rotate(2.5deg);\n  }\n  58% {\n    transform: translateY(0.5px) rotate(2.5deg);\n  }\n  60% {\n    transform: translateY(2.5px) rotate(2.5deg);\n  }\n  62% {\n    transform: translateY(-0.5px) rotate(2.5deg);\n  }\n  64% {\n    transform: translateY(-0.5px) rotate(1.5deg);\n  }\n  66% {\n    transform: translateY(1.5px) rotate(-0.5deg);\n  }\n  68% {\n    transform: translateY(-1.5px) rotate(-0.5deg);\n  }\n  70% {\n    transform: translateY(1.5px) rotate(0.5deg);\n  }\n  72% {\n    transform: translateY(2.5px) rotate(1.5deg);\n  }\n  74% {\n    transform: translateY(-0.5px) rotate(0.5deg);\n  }\n  76% {\n    transform: translateY(-0.5px) rotate(2.5deg);\n  }\n  78% {\n    transform: translateY(-0.5px) rotate(1.5deg);\n  }\n  80% {\n    transform: translateY(1.5px) rotate(1.5deg);\n  }\n  82% {\n    transform: translateY(-0.5px) rotate(0.5deg);\n  }\n  84% {\n    transform: translateY(1.5px) rotate(2.5deg);\n  }\n  86% {\n    transform: translateY(-1.5px) rotate(-1.5deg);\n  }\n  88% {\n    transform: translateY(-0.5px) rotate(2.5deg);\n  }\n  90% {\n    transform: translateY(2.5px) rotate(-0.5deg);\n  }\n  92% {\n    transform: translateY(0.5px) rotate(-0.5deg);\n  }\n  94% {\n    transform: translateY(2.5px) rotate(0.5deg);\n  }\n  96% {\n    transform: translateY(-0.5px) rotate(1.5deg);\n  }\n  98% {\n    transform: translateY(-1.5px) rotate(-0.5deg);\n  }\n  100% {\n    transform: translate(0) rotate(0deg);\n  }\n}\n</style>\n\n<style lang=\"scss\">\n.el-popper.qqgroup-popper {\n  padding: 8px 16px;\n  .popper-content {\n    color: var(--color-text-1);\n    text-align: center;\n    margin-bottom: 6px;\n  }\n  .qqgroup-qrcode {\n    width: 100%;\n    height: 100%;\n  }\n}\n</style>\n","\nimport $ from 'jquery';\nimport { Storage } from '@/store';\n\nconst THEME = {\n  Dark: 'dark',\n  Light: 'light'\n};\n\nexport default {\n  beforeMount() {\n    const matchMedia = window.matchMedia('(prefers-color-scheme: dark)');\n    function darkModeHandler() {\n      if (matchMedia.matches) {\n        document.documentElement.setAttribute('data-theme', THEME.Dark);\n      } else {\n        document.documentElement.setAttribute('data-theme', THEME.Light);\n      }\n    }\n    matchMedia.addEventListener('change', darkModeHandler);\n\n    this.colorScheme = matchMedia.matches ? THEME.Dark : Storage.getItem('colorScheme');\n    if (this.colorScheme === THEME.Dark) {\n      document.documentElement.setAttribute('data-theme', THEME.Dark);\n    }\n  },\n  mounted() {\n    $(window).on('scroll', () => {\n      if ($(window).scrollTop() > 1000) {\n        this.visible = true;\n      } else {\n        this.visible = false;\n      }\n    });\n  },\n  methods: {\n    toggleMode() {\n      this.colorScheme = this.colorScheme === THEME.Dark ? THEME.Light : THEME.Dark;\n      Storage.setItem('colorScheme', this.colorScheme);\n      document.documentElement.setAttribute('data-theme', this.colorScheme);\n    },\n    goTop() {\n      $('body,html').animate({ scrollTop: 0 }, 1000);\n    }\n  },\n  data() {\n    return {\n      visible: false,\n      colorScheme: ''\n    };\n  }\n};\n","import { render } from \"./SideBar.vue?vue&type=template&id=58fad64d&scoped=true\"\nimport script from \"./SideBar.vue?vue&type=script&lang=ts\"\nexport * from \"./SideBar.vue?vue&type=script&lang=ts\"\n\nimport \"./SideBar.vue?vue&type=style&index=0&id=58fad64d&lang=scss&scoped=true\"\nimport \"./SideBar.vue?vue&type=style&index=1&id=58fad64d&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-58fad64d\"\n\nexport default script","<template>\n  <div class=\"user-info\">\n    <div class=\"info-item\">\n      <div class=\"user-avatar\">\n        <div\n          class=\"avatar-wrap\"\n          v-loading=\"uploading\"\n          element-loading-spinner=\"el-icon-loading\"\n          element-loading-text=\"Loading...\"\n        >\n          <img v-if=\"photo\" :src=\"photo\" class=\"avatar\" />\n          <img v-else-if=\"user?.avatar\" :src=\"user?.avatar\" class=\"avatar\" />\n          <input\n            class=\"avatar-uploader\"\n            type=\"file\"\n            accept=\"image/png, image/jpeg, image/jpg\"\n            :disabled=\"!self || !me?.token\"\n            @change=\"onChange\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"info-item\">\n      <h2 class=\"user-name text-ellipsis\">{{ user?.name }}</h2>\n    </div>\n    <div class=\"info-item\">\n      <div class=\"introduction\">\n        {{ user?.introduction || '这个人很高冷，没有自我介绍' }}\n      </div>\n    </div>\n    <div class=\"info-item\">\n      <div class=\"interpersonal\">\n        <div class=\"meta-item\" @click=\"showFollowModal('following')\">\n          <span class=\"meta-count\">{{ user?.count_followings }}</span>\n          关注\n        </div>\n        <div class=\"split\">·</div>\n        <div class=\"meta-item\" @click=\"showFollowModal('follower')\">\n          <span class=\"meta-count\">{{ user?.count_followers }}</span>\n          粉丝\n        </div>\n      </div>\n    </div>\n    <div class=\"info-item\">\n      <div class=\"operation\">\n        <div v-if=\"self\" class=\"button-wrap\">\n          <el-button class=\"edit-btn\" type=\"info\" round @click=\"handleEditorButton\">\n            编辑资料\n          </el-button>\n        </div>\n        <div v-else-if=\"user\" class=\"button-wrap\">\n          <FollowButton :user=\"user\" />\n        </div>\n        <!-- <div v-if=\"!self\" class=\"button-wrap\">\n          <a :href=\"`/chat?user_id=${user?.id}`\">\n            <el-button class=\"chat-btn\" type=\"info\" round>\n              私信\n            </el-button>\n          </a>\n        </div> -->\n      </div>\n    </div>\n  </div>\n  <EditUserInfoModal :user=\"user\" />\n  <FollowUsersPane :user-id=\"userId\" />\n</template>\n\n<script lang=\"ts\">\nimport { watch, reactive, toRefs } from 'vue';\nimport { useQuery, useResult } from '@vue/apollo-composable';\nimport { USER_QUERY } from '@/graphql';\nimport store, { TYPES } from '@/store';\nimport { HOST_NAME } from '@/config';\nimport EditUserInfoModal from './EditUserInfoModal.vue';\nimport FollowUsersPane from './FollowUsersPane.vue';\n\nexport default {\n  components: {\n    EditUserInfoModal,\n    FollowUsersPane\n  },\n  props: ['userId'],\n  setup(props) {\n    const { userId } = toRefs(props);\n\n    const formatUserInfo = reactive({ genderIcon: 'gender_boy', birthday_year: 2000, constellation: '天秤' });\n    const { genderIcon, birthday_year, constellation } = toRefs(formatUserInfo);\n\n    const { result, loading: userLoading } = useQuery(USER_QUERY, { id: userId });\n    const user = useResult(result, null, (data: any) => data?.user);\n\n    watch(user, (value, prevValue) => {\n      const birthdayDate = new Date(value?.birthday_msg && value.birthday_msg);\n      genderIcon.value = value?.gender_msg === '男' ? 'gender_boy' : 'gender_girl';\n      birthday_year.value = birthdayDate.getFullYear();\n    });\n\n    return {\n      userId,\n      user,\n      userLoading,\n      genderIcon,\n      birthday_year\n    };\n  },\n  computed: {\n    me() {\n      return this.$store.state.user.user;\n    },\n    self() {\n      return this.me?.id && this.me?.id === this.userId;\n    }\n  },\n  methods: {\n    handleEditorButton() {\n      this.$bus.emit('SHOW_EDIT_MODAL');\n    },\n    showFollowModal(tag) {\n      this.$bus.emit('SHOW_FOLLOW_MODAL', { tag });\n    },\n    onChange(e) {\n      const file = e.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = e => {\n          this.photo = e.target.result;\n        };\n        reader.readAsDataURL(file);\n        this.uploadAvatar(file);\n      }\n    },\n    uploadAvatar(file) {\n      this.uploading = true;\n      var formData = new FormData();\n      formData.append('avatar', file);\n      var config = {\n        Accept: 'application/json',\n        'Content-Type': 'multipart/form-data'\n      };\n      this.$http\n        .post(`https://${HOST_NAME}/api/user/save-avatar?api_token=${this.me?.token}`, formData, config)\n        .then(result => {\n          this.$message.success('头像上传成功!');\n          store.commit(TYPES.USER_UPDATE, { avatar: result.data });\n        })\n        .catch(err => {\n          this.$message.error('头像上传失败!');\n        })\n        .finally(() => {\n          this.uploading = false;\n        });\n    }\n  },\n\n  data() {\n    return {\n      photo: '',\n      uploading: ''\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.user-info {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  .info-item {\n    margin: 4px 0;\n  }\n}\n\n.user-avatar {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .avatar-wrap {\n    height: 120px;\n    width: 120px;\n    border-radius: 50%;\n    background-color: var(--color-bg-2);\n    overflow: hidden;\n    position: relative;\n    .avatar {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n    .avatar-uploader {\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      opacity: 0;\n      cursor: pointer;\n    }\n  }\n}\n\n.user-name {\n  height: 42px;\n  line-height: 42px;\n  color: var(--color-text-0);\n  font-size: 30px;\n  font-weight: 500;\n  text-align: center;\n}\n\n.introduction,\n.meta-item {\n  font-size: 16px;\n  line-height: 22px;\n  color: var(--color-text-1);\n  cursor: pointer;\n}\n\n.interpersonal {\n  display: flex;\n  align-items: center;\n  .meta-count {\n    font-weight: 600;\n    color: var(--color-text-0);\n  }\n  .split {\n    padding: 0px 4px;\n    font-size: 14px;\n    color: var(--color-text-3);\n  }\n}\n\n.operation {\n  display: flex;\n  padding-top: 8px;\n  min-height: 48px;\n  .button-wrap {\n    margin: 0 4px;\n    .edit-btn {\n      color: var(--color-text-1);\n      border-color: var(--overlay-bg);\n      background-color: var(--overlay-bg);\n    }\n    .chat-btn {\n      background-color: $theme-color_primary;\n    }\n  }\n}\n// .button {\n//   display: block;\n//   padding: 9px 12px;\n//   min-width: 64px;\n//   min-height: 32px;\n//   font-size: 14px;\n//   font-weight: 500;\n//   color: #262626;\n//   border-radius: 4px;\n//   text-align: center;\n// }\n</style>\n","<template>\n  <div id=\"edit-dialog\">\n    <el-dialog v-model=\"visible\" custom-class=\"edit-modal\" title=\"编辑资料\" width=\"90%\" destroy-on-close center>\n      <el-form ref=\"editForm\" :model=\"formData\" :rules=\"rules\">\n        <el-form-item label=\"昵&emsp;称\" prop=\"name\">\n          <el-input\n            name=\"formData-account\"\n            autocomplete\n            class=\"account-input\"\n            v-model=\"formData.name\"\n            :placeholder=\"formData.name\"\n            clearable\n            maxlength=\"12\"\n          >\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"性&emsp;别\" prop=\"gender\">\n          <el-radio v-model=\"formData.gender\" label=\"男\">男</el-radio>\n          <el-radio v-model=\"formData.gender\" label=\"女\">女</el-radio>\n        </el-form-item>\n        <el-form-item label=\"生&emsp;日\" prop=\"birthday\">\n          <el-date-picker\n            v-model=\"formData.birthday\"\n            type=\"date\"\n            :placeholder=\"formData?.birthday || '请选择你的生日'\"\n            :default-value=\"new Date(formData?.birthday)\"\n            value-format=\"YYYY-MM-DD\"\n            class=\"birthday-picker\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item prop=\"introduction\">\n          <span class=\"introduction-label\">个性签名</span>\n          <el-input\n            v-model=\"formData.introduction\"\n            maxlength=\"140\"\n            :placeholder=\"formData?.introduction\"\n            show-word-limit\n            type=\"textarea\"\n            class=\"input-style\"\n            resize=\"none\"\n          >\n          </el-input>\n        </el-form-item>\n        <el-button type=\"primary\" class=\"submit-button\" :disabled=\"disabled\" @click=\"updateUserInfo\">\n          完成\n          <i v-if=\"loading\" class=\"el-icon-loading loading-icon\"></i>\n        </el-button>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, toRefs, computed, watch } from 'vue';\nimport { useMutation } from '@vue/apollo-composable';\nimport { ElMessage } from 'element-plus';\nimport { exceptionCapture, errorMessage } from '@/utils';\nimport { UPDATE_USER_INFO } from '@/graphql';\nimport store, { Storage, TYPES } from '@/store';\n\nexport default defineComponent({\n  props: ['user'],\n  setup(props) {\n    const { user } = toRefs(props);\n    const me = ref(store.state?.user?.user);\n    const visible = ref(false);\n    const formData = ref({ avatar: '', name: '', gender: '男', birthday: '', introduction: '' });\n    const disabled = computed(() => !formData.value.name || !formData.value.birthday || !formData.value.introduction);\n\n    const { mutate: updateUserInfoMutation, loading } = useMutation(UPDATE_USER_INFO, () => ({\n      variables: { id: user.value?.id, input: formData.value }\n    }));\n\n    async function updateUserInfo() {\n      const [err, res] = await exceptionCapture(() => updateUserInfoMutation());\n      if (err) {\n        ElMessage.error(`修改资料出错：${errorMessage(err)}`);\n      } else if (res?.data?.updateUserInfo) {\n        const userInfo = Object.assign(me.value, user.value, res.data?.updateUserInfo);\n        ElMessage({ message: '修改成功!', type: 'success' });\n        store.commit(TYPES.USER_LOGIN, userInfo);\n        Storage.setItem('user', userInfo);\n        visible.value = false;\n      }\n    }\n\n    watch(visible, value => {\n      if (value) {\n        formData.value = {\n          avatar: user.value?.avatar,\n          name: user.value?.name,\n          gender: user.value?.gender_msg || '男',\n          birthday: user.value?.birthday_msg,\n          introduction: user.value?.introduction\n        };\n      }\n    });\n\n    return {\n      visible,\n      formData,\n      disabled,\n      loading,\n      updateUserInfo\n    };\n  },\n  mounted() {\n    this.$bus.on('SHOW_EDIT_MODAL', () => {\n      this.visible = true;\n    });\n  },\n  data() {\n    return {\n      rules: {\n        name: [\n          {\n            required: true,\n            message: '请填写用户名',\n            trigger: 'blur'\n          },\n          {\n            max: 20,\n            message: '用户名不得超过20字',\n            trigger: 'blur'\n          }\n        ],\n        gender: [\n          {\n            required: true,\n            message: '请选择性别',\n            trigger: 'blur'\n          }\n        ],\n        birthday: [\n          {\n            required: true,\n            message: '请选择生日',\n            trigger: 'blur'\n          }\n        ],\n        introduction: [\n          {\n            required: true,\n            message: '请填写个性签名',\n            trigger: 'blur'\n          },\n          {\n            max: 140,\n            message: '个性签名不得超过140字',\n            trigger: 'blur'\n          }\n        ]\n      }\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.edit-modal {\n  .introduction-label {\n    color: $theme-color_primary;\n    font-size: 14px;\n    font-weight: 500;\n  }\n  .submit-button {\n    width: 100%;\n    height: 44px;\n    font-size: 1.6rem;\n    font-weight: 400;\n    .loading-icon {\n      color: #fff;\n      margin-left: 5px;\n    }\n  }\n}\n// 穿透 el-dialog el-form style\n#edit-dialog :deep(.el-dialog.edit-modal) {\n  max-width: 428px;\n  position: relative;\n  border-radius: 6px;\n  box-shadow: 0 0 10px rgb(255 255 255 / 80%);\n  padding: 25px 20px 0;\n  --el-dialog-padding-primary: 10px;\n  .el-dialog__body {\n    padding: 10px calc(var(--el-dialog-padding-primary) + 5px) 30px;\n    .el-form .el-form-item {\n      .el-input.birthday-picker {\n        max-width: 100%;\n      }\n      .el-textarea.input-style {\n        .el-textarea__inner {\n          min-height: 105px !important;\n          background: #f8f9fd;\n          border: none;\n          color: #2f3035;\n          border-radius: 4px;\n          font-size: 14px;\n          font-weight: 400;\n          line-height: 22px;\n        }\n        .el-input__count {\n          background: #f8f9fd;\n        }\n      }\n    }\n  }\n}\n</style>\n","\nimport { defineComponent, ref, toRefs, computed, watch } from 'vue';\nimport { useMutation } from '@vue/apollo-composable';\nimport { ElMessage } from 'element-plus';\nimport { exceptionCapture, errorMessage } from '@/utils';\nimport { UPDATE_USER_INFO } from '@/graphql';\nimport store, { Storage, TYPES } from '@/store';\n\nexport default defineComponent({\n  props: ['user'],\n  setup(props) {\n    const { user } = toRefs(props);\n    const me = ref(store.state?.user?.user);\n    const visible = ref(false);\n    const formData = ref({ avatar: '', name: '', gender: '男', birthday: '', introduction: '' });\n    const disabled = computed(() => !formData.value.name || !formData.value.birthday || !formData.value.introduction);\n\n    const { mutate: updateUserInfoMutation, loading } = useMutation(UPDATE_USER_INFO, () => ({\n      variables: { id: user.value?.id, input: formData.value }\n    }));\n\n    async function updateUserInfo() {\n      const [err, res] = await exceptionCapture(() => updateUserInfoMutation());\n      if (err) {\n        ElMessage.error(`修改资料出错：${errorMessage(err)}`);\n      } else if (res?.data?.updateUserInfo) {\n        const userInfo = Object.assign(me.value, user.value, res.data?.updateUserInfo);\n        ElMessage({ message: '修改成功!', type: 'success' });\n        store.commit(TYPES.USER_LOGIN, userInfo);\n        Storage.setItem('user', userInfo);\n        visible.value = false;\n      }\n    }\n\n    watch(visible, value => {\n      if (value) {\n        formData.value = {\n          avatar: user.value?.avatar,\n          name: user.value?.name,\n          gender: user.value?.gender_msg || '男',\n          birthday: user.value?.birthday_msg,\n          introduction: user.value?.introduction\n        };\n      }\n    });\n\n    return {\n      visible,\n      formData,\n      disabled,\n      loading,\n      updateUserInfo\n    };\n  },\n  mounted() {\n    this.$bus.on('SHOW_EDIT_MODAL', () => {\n      this.visible = true;\n    });\n  },\n  data() {\n    return {\n      rules: {\n        name: [\n          {\n            required: true,\n            message: '请填写用户名',\n            trigger: 'blur'\n          },\n          {\n            max: 20,\n            message: '用户名不得超过20字',\n            trigger: 'blur'\n          }\n        ],\n        gender: [\n          {\n            required: true,\n            message: '请选择性别',\n            trigger: 'blur'\n          }\n        ],\n        birthday: [\n          {\n            required: true,\n            message: '请选择生日',\n            trigger: 'blur'\n          }\n        ],\n        introduction: [\n          {\n            required: true,\n            message: '请填写个性签名',\n            trigger: 'blur'\n          },\n          {\n            max: 140,\n            message: '个性签名不得超过140字',\n            trigger: 'blur'\n          }\n        ]\n      }\n    };\n  }\n});\n","import { render } from \"./EditUserInfoModal.vue?vue&type=template&id=348eedd6&scoped=true\"\nimport script from \"./EditUserInfoModal.vue?vue&type=script&lang=ts\"\nexport * from \"./EditUserInfoModal.vue?vue&type=script&lang=ts\"\n\nimport \"./EditUserInfoModal.vue?vue&type=style&index=0&id=348eedd6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-348eedd6\"\n\nexport default script","<template>\n  <div id=\"follow-dialog\">\n    <el-dialog v-model=\"visible\" custom-class=\"follow-modal\" width=\"90%\" destroy-on-close center>\n      <el-tabs v-model=\"activeName\" class=\"user-tabs\">\n        <el-tab-pane label=\"关注\" name=\"following\">\n          <div class=\"pane-content\">\n            <div class=\"user-item-wrap\" v-for=\"item in followedUsers\" :key=\"'followed' + item.people?.id\">\n              <UserItem v-if=\"item.people?.id\" :user=\"item.people\" />\n            </div>\n          </div>\n        </el-tab-pane>\n        <el-tab-pane label=\"粉丝\" name=\"follower\">\n          <div class=\"pane-content\">\n            <div class=\"user-item-wrap\" v-for=\"item in followers\" :key=\"'followed' + item.user?.id\">\n              <UserItem v-if=\"item?.id\" :user=\"item.user\" />\n            </div>\n          </div>\n        </el-tab-pane>\n      </el-tabs>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, toRefs } from 'vue';\nimport { useFollowedUsersQuery, useFollowersQuery } from '@/graphql';\nimport UserItem from '@/components/UserItem.vue';\n\nexport default defineComponent({\n  components: { UserItem },\n  props: ['userId'],\n  setup(props) {\n    const { userId } = toRefs(props);\n    const visible = ref(false);\n    const activeName = ref('following');\n\n    // 关注的用户\n    const {\n      followedUsers,\n      loading: followedLoading,\n      error: followedError,\n      refetch: followedRefetch,\n      loadMore: loadMoreFollowed,\n      isFinished: followedFinished,\n      loadingMore: followedLoadingMore\n    } = useFollowedUsersQuery({ user_id: userId.value }, { fetchPolicy: 'network-only', enabled: !!userId.value });\n\n    // 我的粉丝\n    const {\n      followers,\n      loading: followersLoading,\n      error: followersError,\n      refetch: followersRefetch,\n      loadMore: loadMoreFollowers,\n      isFinished: followersFinished,\n      loadingMore: followersLoadingMore\n    } = useFollowersQuery({ user_id: userId.value }, { fetchPolicy: 'network-only', enabled: !!userId.value });\n\n    return {\n      visible,\n      activeName,\n      followedUsers,\n      followedLoading,\n      followedError,\n      followedRefetch,\n      loadMoreFollowed,\n      followedFinished,\n      followedLoadingMore,\n      followers,\n      followersLoading,\n      followersError,\n      followersRefetch,\n      loadMoreFollowers,\n      followersFinished,\n      followersLoadingMore\n    };\n  },\n  mounted() {\n    this.$bus.on('SHOW_FOLLOW_MODAL', ({ tag }) => {\n      this.activeName = tag === 'follower' ? 'follower' : 'following';\n      this.followedRefetch();\n      this.followersRefetch();\n      this.visible = true;\n    });\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.follow-modal .user-tabs {\n  .load-more-button {\n    display: block;\n    height: 35px;\n    line-height: 35px;\n    border-radius: 4px;\n    font-size: 14px;\n    color: #666;\n    text-align: center;\n    background: #f4f4f4;\n    cursor: pointer;\n    margin: 10px 0;\n    .loading-icon {\n      color: #666;\n      font-size: 14px;\n      margin-left: 5px;\n    }\n  }\n  .el-tab-pane {\n    .pane-content {\n      height: 380px;\n      padding-right: 10px;\n      overflow: auto;\n      .user-item-wrap {\n        display: block;\n        padding: 10px 0;\n      }\n    }\n  }\n}\n// 穿透 el-dialog 与 el-tabs style\n#follow-dialog :deep(.el-dialog.follow-modal) {\n  max-width: 428px;\n  position: relative;\n  border-radius: 6px;\n  box-shadow: 0 0 10px rgb(255 255 255 / 80%);\n  padding: 25px 20px 0;\n  --el-dialog-padding-primary: 10px;\n  .el-dialog__header {\n    padding: 0;\n    .el-dialog__headerbtn .el-icon {\n      --font-size: 20px;\n      font-weight: bold;\n    }\n  }\n  .el-tabs__header .el-tabs__nav-wrap {\n    &::after {\n      content: '';\n      height: 0;\n    }\n    .el-tabs__nav-scroll {\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      align-items: flex-start;\n      .el-tabs__nav .el-tabs__item {\n        height: 30px;\n        font-size: 17px;\n        font-weight: normal;\n        line-height: 30px;\n        padding-right: 15px;\n      }\n    }\n  }\n  .el-dialog__body {\n    /* padding: 0 calc(var(--el-dialog-padding-primary) + 5px) 20px; */\n    padding: 0 0 20px;\n  }\n}\n</style>\n","<template>\n  <div class=\"user-item\" v-if=\"user?.id\">\n    <router-link class=\"item-left\" :to=\"`/user/${user?.id}`\">\n      <img class=\"avatar-img\" :src=\"user?.avatar\" alt=\"\" />\n      <div class=\"info-detail\">\n        <div class=\"user-name\">\n          {{ user?.name }}\n        </div>\n        <div class=\"introduction\">\n          {{ user?.introduction }}\n        </div>\n      </div>\n    </router-link>\n    <FollowButton :user=\"user\" size=\"small\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { toRefs } from 'vue';\n\nexport default {\n  props: ['user'],\n  setup(props) {\n    const { user } = toRefs(props);\n    return { user };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.user-item {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  .item-left {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    .avatar-img {\n      width: 40px;\n      height: 40px;\n      border-radius: 20px;\n      background-color: #eee;\n    }\n    .info-detail {\n      margin-left: 8px;\n      .user-name {\n        color: #333;\n        font-size: 15px;\n        line-height: 24px;\n        font-weight: 500;\n      }\n      .introduction {\n        color: #666;\n        font-size: 14px;\n        line-height: 22px;\n      }\n    }\n  }\n}\n</style>\n","\nimport { toRefs } from 'vue';\n\nexport default {\n  props: ['user'],\n  setup(props) {\n    const { user } = toRefs(props);\n    return { user };\n  }\n};\n","import { render } from \"./UserItem.vue?vue&type=template&id=f9894dae&scoped=true\"\nimport script from \"./UserItem.vue?vue&type=script&lang=ts\"\nexport * from \"./UserItem.vue?vue&type=script&lang=ts\"\n\nimport \"./UserItem.vue?vue&type=style&index=0&id=f9894dae&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-f9894dae\"\n\nexport default script","\nimport { defineComponent, ref, toRefs } from 'vue';\nimport { useFollowedUsersQuery, useFollowersQuery } from '@/graphql';\nimport UserItem from '@/components/UserItem.vue';\n\nexport default defineComponent({\n  components: { UserItem },\n  props: ['userId'],\n  setup(props) {\n    const { userId } = toRefs(props);\n    const visible = ref(false);\n    const activeName = ref('following');\n\n    // 关注的用户\n    const {\n      followedUsers,\n      loading: followedLoading,\n      error: followedError,\n      refetch: followedRefetch,\n      loadMore: loadMoreFollowed,\n      isFinished: followedFinished,\n      loadingMore: followedLoadingMore\n    } = useFollowedUsersQuery({ user_id: userId.value }, { fetchPolicy: 'network-only', enabled: !!userId.value });\n\n    // 我的粉丝\n    const {\n      followers,\n      loading: followersLoading,\n      error: followersError,\n      refetch: followersRefetch,\n      loadMore: loadMoreFollowers,\n      isFinished: followersFinished,\n      loadingMore: followersLoadingMore\n    } = useFollowersQuery({ user_id: userId.value }, { fetchPolicy: 'network-only', enabled: !!userId.value });\n\n    return {\n      visible,\n      activeName,\n      followedUsers,\n      followedLoading,\n      followedError,\n      followedRefetch,\n      loadMoreFollowed,\n      followedFinished,\n      followedLoadingMore,\n      followers,\n      followersLoading,\n      followersError,\n      followersRefetch,\n      loadMoreFollowers,\n      followersFinished,\n      followersLoadingMore\n    };\n  },\n  mounted() {\n    this.$bus.on('SHOW_FOLLOW_MODAL', ({ tag }) => {\n      this.activeName = tag === 'follower' ? 'follower' : 'following';\n      this.followedRefetch();\n      this.followersRefetch();\n      this.visible = true;\n    });\n  }\n});\n","import { render } from \"./FollowUsersPane.vue?vue&type=template&id=188c1b99&scoped=true\"\nimport script from \"./FollowUsersPane.vue?vue&type=script&lang=ts\"\nexport * from \"./FollowUsersPane.vue?vue&type=script&lang=ts\"\n\nimport \"./FollowUsersPane.vue?vue&type=style&index=0&id=188c1b99&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-188c1b99\"\n\nexport default script","\nimport { watch, reactive, toRefs } from 'vue';\nimport { useQuery, useResult } from '@vue/apollo-composable';\nimport { USER_QUERY } from '@/graphql';\nimport store, { TYPES } from '@/store';\nimport { HOST_NAME } from '@/config';\nimport EditUserInfoModal from './EditUserInfoModal.vue';\nimport FollowUsersPane from './FollowUsersPane.vue';\n\nexport default {\n  components: {\n    EditUserInfoModal,\n    FollowUsersPane\n  },\n  props: ['userId'],\n  setup(props) {\n    const { userId } = toRefs(props);\n\n    const formatUserInfo = reactive({ genderIcon: 'gender_boy', birthday_year: 2000, constellation: '天秤' });\n    const { genderIcon, birthday_year, constellation } = toRefs(formatUserInfo);\n\n    const { result, loading: userLoading } = useQuery(USER_QUERY, { id: userId });\n    const user = useResult(result, null, (data: any) => data?.user);\n\n    watch(user, (value, prevValue) => {\n      const birthdayDate = new Date(value?.birthday_msg && value.birthday_msg);\n      genderIcon.value = value?.gender_msg === '男' ? 'gender_boy' : 'gender_girl';\n      birthday_year.value = birthdayDate.getFullYear();\n    });\n\n    return {\n      userId,\n      user,\n      userLoading,\n      genderIcon,\n      birthday_year\n    };\n  },\n  computed: {\n    me() {\n      return this.$store.state.user.user;\n    },\n    self() {\n      return this.me?.id && this.me?.id === this.userId;\n    }\n  },\n  methods: {\n    handleEditorButton() {\n      this.$bus.emit('SHOW_EDIT_MODAL');\n    },\n    showFollowModal(tag) {\n      this.$bus.emit('SHOW_FOLLOW_MODAL', { tag });\n    },\n    onChange(e) {\n      const file = e.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = e => {\n          this.photo = e.target.result;\n        };\n        reader.readAsDataURL(file);\n        this.uploadAvatar(file);\n      }\n    },\n    uploadAvatar(file) {\n      this.uploading = true;\n      var formData = new FormData();\n      formData.append('avatar', file);\n      var config = {\n        Accept: 'application/json',\n        'Content-Type': 'multipart/form-data'\n      };\n      this.$http\n        .post(`https://${HOST_NAME}/api/user/save-avatar?api_token=${this.me?.token}`, formData, config)\n        .then(result => {\n          this.$message.success('头像上传成功!');\n          store.commit(TYPES.USER_UPDATE, { avatar: result.data });\n        })\n        .catch(err => {\n          this.$message.error('头像上传失败!');\n        })\n        .finally(() => {\n          this.uploading = false;\n        });\n    }\n  },\n\n  data() {\n    return {\n      photo: '',\n      uploading: ''\n    };\n  }\n};\n","import { render } from \"./UserInfo.vue?vue&type=template&id=0e9f31df&scoped=true\"\nimport script from \"./UserInfo.vue?vue&type=script&lang=ts\"\nexport * from \"./UserInfo.vue?vue&type=script&lang=ts\"\n\nimport \"./UserInfo.vue?vue&type=style&index=0&id=0e9f31df&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0e9f31df\"\n\nexport default script","<template>\n  <div class=\"footer\">\n    <div class=\"statement\">\n      <p>\n        本站所有视频和图片均来自互联网收集而来，版权归原创者所有，本网站只提供web页面服务，并不提供资源存储，也不参与录制、上传。\n      </p>\n      <p>\n        若本站收录的内容无意侵犯了贵司版权，请发邮件至neihandianying@gmail.com，收到信息后会在一个星期内删除侵权内容，谢谢。\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {};\n</script>\n\n<style lang=\"scss\" scoped>\n.footer {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n  padding: var(--content-margin) 0 var(--content-margin);\n  color: var(--color-text-2);\n  background-color: var(--color-panel-bg);\n  position: relative;\n  text-align: center;\n  .statement {\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 22px;\n    opacity: 0.6;\n    p {\n      padding: 2px 14px;\n    }\n  }\n}\n</style>\n","import { render } from \"./Footer.vue?vue&type=template&id=2dfbe634&scoped=true\"\nimport script from \"./Footer.vue?vue&type=script&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&lang=js\"\n\nimport \"./Footer.vue?vue&type=style&index=0&id=2dfbe634&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2dfbe634\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./UserPosts.vue?vue&type=style&index=0&id=089c10e8&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./SignUp.vue?vue&type=style&index=0&id=247bf8db&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./SignIn.vue?vue&type=style&index=0&id=48caa0e7&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Recommend.vue?vue&type=style&index=0&id=7a626735&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./MovieToolbar.vue?vue&type=style&index=0&id=021c5dda&lang=scss&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=2822e9cb&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./SideBar.vue?vue&type=style&index=1&id=58fad64d&lang=scss\"","<template>\n  <div v-if=\"loading\" class=\"mod-list\">\n    <div class=\"list-item\" v-for=\"item in 10\" :key=\"item\">\n      <Skeleton type=\"media\" />\n    </div>\n  </div>\n  <template v-else-if=\"favoriteMovies?.length > 0\">\n    <div class=\"mod-list\" v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"disabled\">\n      <router-link\n        class=\"list-item\"\n        v-for=\"item in favoriteMovies\"\n        :key=\"'favorite' + item.movie?.id\"\n        :to=\"`/movie/${item.movie?.id}`\"\n      >\n        <RCMovieItem :movie=\"item.movie\" />\n      </router-link>\n    </div>\n    <LoadingSpinner v-if=\"hasMorePages\" />\n  </template>\n  <Empty v-else type=\"content\" description=\"暂无内容\" />\n</template>\n\n<script lang=\"ts\">\nimport { ref, watch, toRefs } from 'vue';\nimport { useFavoriteMoviesQuery } from '@/graphql';\nimport RCMovieItem from '@/components/RCMovieItem.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\nimport Empty from '@/components/Empty.vue';\n\nexport default {\n  components: {\n    RCMovieItem,\n    Skeleton,\n    LoadingSpinner,\n    Empty\n  },\n  props: ['userId'],\n  setup(props) {\n    const { userId } = toRefs(props);\n\n    const variables = ref({\n      user_id: userId,\n      first: 20\n    });\n\n    const { loading, favoriteMovies, loadMore, hasMorePages, disabled } = useFavoriteMoviesQuery(variables, {\n      enabled: !!userId.value\n    });\n\n    return {\n      loading,\n      favoriteMovies,\n      loadMore,\n      hasMorePages,\n      disabled\n    };\n  },\n  computed: {\n    me() {\n      return this.$store.state.user.user;\n    },\n    self() {\n      return this.userId === this.me?.id;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.mod-list {\n  display: flex;\n  flex-wrap: wrap;\n}\n.mod-list {\n  .list-item {\n    width: 50%;\n    display: block;\n    margin-bottom: 24px;\n    padding-right: 24px;\n    @media (max-width: $col-sm-width - 1px) {\n      width: 100%;\n      margin-bottom: 14px;\n      padding-right: 14px;\n    }\n  }\n}\n</style>\n","\nimport { ref, watch, toRefs } from 'vue';\nimport { useFavoriteMoviesQuery } from '@/graphql';\nimport RCMovieItem from '@/components/RCMovieItem.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\nimport Empty from '@/components/Empty.vue';\n\nexport default {\n  components: {\n    RCMovieItem,\n    Skeleton,\n    LoadingSpinner,\n    Empty\n  },\n  props: ['userId'],\n  setup(props) {\n    const { userId } = toRefs(props);\n\n    const variables = ref({\n      user_id: userId,\n      first: 20\n    });\n\n    const { loading, favoriteMovies, loadMore, hasMorePages, disabled } = useFavoriteMoviesQuery(variables, {\n      enabled: !!userId.value\n    });\n\n    return {\n      loading,\n      favoriteMovies,\n      loadMore,\n      hasMorePages,\n      disabled\n    };\n  },\n  computed: {\n    me() {\n      return this.$store.state.user.user;\n    },\n    self() {\n      return this.userId === this.me?.id;\n    }\n  }\n};\n","import { render } from \"./MoviesFavorite.vue?vue&type=template&id=2ad15730&scoped=true\"\nimport script from \"./MoviesFavorite.vue?vue&type=script&lang=ts\"\nexport * from \"./MoviesFavorite.vue?vue&type=script&lang=ts\"\n\nimport \"./MoviesFavorite.vue?vue&type=style&index=0&id=2ad15730&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2ad15730\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./SearchMovieItem.vue?vue&type=style&index=0&id=51493a50&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./MovieInfo.vue?vue&type=style&index=0&id=35511890&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./FeedbackModal.vue?vue&type=style&index=1&id=15c178d7&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./UserInfo.vue?vue&type=style&index=0&id=0e9f31df&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./IosInstallPrompt.vue?vue&type=style&index=1&id=f3379142&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./SearchBar.vue?vue&type=style&index=0&id=91b72634&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./CommentItem.vue?vue&type=style&index=0&id=1e88060a&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./MovieItem.vue?vue&type=style&index=0&id=49213a35&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./LoadingSpinner.vue?vue&type=style&index=0&id=5999f142&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./Header.vue?vue&type=style&index=0&id=8fbd30ec&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./ReportModal.vue?vue&type=style&index=1&id=6ea968ed&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./Footer.vue?vue&type=style&index=0&id=2dfbe634&lang=scss&scoped=true\"","import { Ref } from 'vue-demi';\nimport { ref, onMounted, watch } from 'vue';\nimport { throttle } from 'lodash';\n\nexport default function useItemsPerRow(itemName: string): Ref<number> {\n  const count = ref(1);\n  function getItemsCount() {\n    const container = document.getElementById('app');\n    var styles = window.getComputedStyle(container);\n    count.value = Number(styles.getPropertyValue(itemName));\n  }\n  getItemsCount();\n  onMounted(() => {\n    window.addEventListener('resize', throttle(getItemsCount, 200));\n  });\n  return count;\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./UserItem.vue?vue&type=style&index=0&id=f9894dae&lang=scss&scoped=true\"","import { gql } from '@apollo/client/core';\n\nconst USER_FRAGMENT = gql`\n  fragment userFragment on User {\n    id\n    age\n    name\n    avatar\n    gender\n    gender_msg\n    birthday_msg\n    introduction\n    background\n    count_likes\n    count_articles\n    count_posts\n    count_followers\n    count_followings\n    count_favorites\n    followed_status\n    role\n  }\n`;\n\nconst SIGN_IN_FRAGMENT = gql`\n  ${USER_FRAGMENT}\n\n  fragment signInFragment on User {\n    ...userFragment\n    uuid\n    token\n    phone\n  }\n`;\n\n// 自动登录(性能优化-普通用户不需要太多隐藏资料和属性)\nexport const AUTO_SIGN_IN = gql`\n  ${USER_FRAGMENT}\n\n  mutation autoSignInMutation($uuid: String!, $phone: String) {\n    autoSignIn(uuid: $uuid, phone: $phone) {\n      ...userFragment\n      uuid\n      token\n    }\n  }\n`;\n\n// 账号密码登录\nexport const SIGN_IN = gql`\n  ${SIGN_IN_FRAGMENT}\n\n  mutation signInMutation($account: String!, $password: String!, $uuid: String) {\n    signIn(account: $account, password: $password, uuid: $uuid) {\n      ...signInFragment\n    }\n  }\n`;\n\n// 注册\nexport const SIGN_UP = gql`\n  ${SIGN_IN_FRAGMENT}\n\n  mutation signUpMutation($account: String!, $password: String!, $name: String, $uuid: String) {\n    signUp(account: $account, password: $password, name: $name, uuid: $uuid) {\n      ...signInFragment\n    }\n  }\n`;\n\n// 获取验证码\n// verifyType: RESET_PASSWORD | USER_INFO_CHANGE | USER_REGISTER | USER_LOGIN;\nexport const SEND_VERIFY_CODE = gql`\n  mutation sendVerifyCodeMutation($phone: String!, $action: verifyType!) {\n    sendVerifyCode(phone: $phone, action: $action) {\n      id\n      code\n      account\n    }\n  }\n`;\n\n// 重置密码\nexport const RESET_PASSWORD = gql`\n  mutation retrievePasswordMutation(\n    $code: String!\n    $phone: String\n    $action: verifyType = RESET_PASSWORD\n    $newPassword: String!\n  ) {\n    retrievePassword(code: $code, phone: $phone, action: $action, newPassword: $newPassword) {\n      id\n      name\n      phone\n      token\n    }\n  }\n`;\n\n// 修改用户信息\nexport const UPDATE_USER_INFO = gql`\n  mutation updateUserInfoMutation($id: Int, $input: updateUserInfo!, $code: String) {\n    updateUserInfo(id: $id, input: $input, code: $code) {\n      id\n      name\n      avatar\n      gender\n      gender_msg\n      birthday_msg\n      introduction\n    }\n  }\n`;\n\nexport const USER_QUERY = gql`\n  ${USER_FRAGMENT}\n\n  query userQuery($id: Int!) {\n    user(id: $id) {\n      ...userFragment\n      phone\n    }\n  }\n`;\n\n// 搜索用户\nexport const SEARCH_USERS_QUERY = gql`\n  query searchUsersQuery($keywords: String!, $page: Int) {\n    searchUsers(keywords: $keywords, page: $page) {\n      paginatorInfo {\n        hasMorePages\n        currentPage\n      }\n      data {\n        id\n        name\n        avatar\n        introduction\n        followed_status\n        count_likes\n        count_articles\n      }\n    }\n  }\n`;\n","import { gql } from '@apollo/client/core';\n\nexport const CHAT_FRAGMENT = gql`\n  fragment chatFragment on Chat {\n    id\n    subject\n    icon\n    unreads\n    time_ago\n    updated_at\n    last_message_id\n    lastMessage {\n      id\n      message\n    }\n    user {\n      id\n      name\n      avatar\n    }\n    users {\n      id\n      name\n      avatar\n    }\n    withUser {\n      id\n      name\n      avatar\n      gender\n      age\n    }\n    type\n  }\n`;\n\n// 聊天列表\nexport const CHATS_QUERY = gql`\n  ${CHAT_FRAGMENT}\n\n  query chatsQuery($user_id: Int!, $page: Int) {\n    chats(user_id: $user_id, page: $page) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        ...chatFragment\n      }\n    }\n  }\n`;\n\n// 查询单个群聊信息\nexport const CHAT_QUERY = gql`\n  ${CHAT_FRAGMENT}\n\n  query chatQuery($chat_id: Int!) {\n    chat(chat_id: $chat_id) {\n      ...chatFragment\n    }\n  }\n`;\n\nexport const MESSAGES_QUERY = gql`\n  query messagesQuery($chat_id: Int!, $page: Int) {\n    messages(chat_id: $chat_id, page: $page) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        id\n        message\n        type\n        body {\n          text\n          url\n        }\n        messageable_id\n        messageable_type\n        messageable {\n          ... on Article {\n            id\n            type\n            title\n            description\n            images {\n              id\n              url\n            }\n          }\n        }\n        time_ago\n        created_at\n        user {\n          id\n          name\n          avatar\n        }\n      }\n    }\n  }\n`;\n\n// 创建聊天（创建群聊必须传type）\nexport const CREATE_CHAT_MUTATION = gql`\n  ${CHAT_FRAGMENT}\n\n  mutation createChatMutation($uids: [Int!], $subject: String, $status: ChatStatus, $type: ChatType) {\n    createChat(uids: $uids, subject: $subject, status: $status, type: $type) {\n      ...chatFragment\n    }\n  }\n`;\n\n// 删除功能只从列表删除聊天对话框\n// 重新创建对话框时，可以查询出之前的历史记录\nexport const DELETE_CHAT_MUTATION = gql`\n  mutation deleteChatMutation($chat_id: Int!) {\n    deleteChat(chat_id: $chat_id) {\n      id\n    }\n  }\n`;\n\n// 添加成员进群\nexport const ADD_MEMBERS_MUTATION = gql`\n  mutation addMembersMutation($chat_id: Int!, $uids: [Int!]) {\n    addParticipantsInGroupChat(chat_id: $chat_id, uids: $uids) {\n      id\n    }\n  }\n`;\n\n// 删除成员\nexport const DELETE_MEMBERS_MUTATION = gql`\n  mutation deleteMembersMutation($chat_id: Int!, $uids: [Int!]) {\n    removeParticipantsInGroupChat(chat_id: $chat_id, uids: $uids) {\n      id\n    }\n  }\n`;\n\n// 修改群聊信息\nexport const UPDATE_CHAT_MUTATION = gql`\n  mutation updateChatMutation($chat_id: Int!, $subject: String, $icon: String, $status: ChatStatus) {\n    updateChat(chat_id: $chat_id, subject: $subject, icon: $icon, status: $status) {\n      id\n      subject\n      icon\n      status\n    }\n  }\n`;\n\n// 发送消息\nexport const SEND_MESSAGE_MUTATION = gql`\n  mutation sendMessageMutation(\n    $user_id: Int!\n    $chat_id: Int!\n    $message: String!\n    $url: String\n    $messageable_id: Int\n    $messageable_type: MessageableType\n  ) {\n    sendMessage(\n      user_id: $user_id\n      chat_id: $chat_id\n      text: $message\n      url: $url\n      messageable_id: $messageable_id\n      messageable_type: $messageable_type\n    ) {\n      id\n      message\n      body {\n        text\n        url\n      }\n      time_ago\n      created_at\n      user {\n        id\n        name\n        avatar\n      }\n      messageable_id\n      messageable_type\n      messageable {\n        ... on Article {\n          id\n          title\n          type\n          description\n          images {\n            id\n            url\n          }\n        }\n      }\n    }\n  }\n`;\n","import { gql } from '@apollo/client/core';\n\nexport const SLIM_MOVIE_FRAGMENT = gql`\n  fragment slimMovieFragment on Movie {\n    id\n    name\n    cover\n    score\n    count_series\n    actors\n    producer\n    year\n    type\n    finished\n  }\n`;\nexport const MOVIE_FRAGMENT = gql`\n  ${SLIM_MOVIE_FRAGMENT}\n\n  fragment movieFragment on Movie {\n    ...slimMovieFragment\n    region\n    country\n    introduction\n    hits\n    favorited\n    last_watch_series\n    last_watch_progress\n    count_comments\n    count_favorites\n  }\n`;\n\n// 电影详情\nexport const MOVIE_QUERY = gql`\n  ${MOVIE_FRAGMENT}\n\n  query movieQuery($id: Int, $key: String) {\n    movie(movie_id: $id, movie_key: $key) {\n      ...movieFragment\n      series {\n        name\n        url\n      }\n      play_lines {\n        name\n        data\n      }\n    }\n  }\n`;\n\n// 影片的相关推荐\nexport const RELATED_MOVIES_QUERY = gql`\n  ${SLIM_MOVIE_FRAGMENT}\n\n  query relatedMoviesQuery($movie_id: Int!, $limit: Int) {\n    relatedMovies(movie_id: $movie_id, limit: $limit) {\n      ...slimMovieFragment\n    }\n  }\n`;\n\n// # 观看历史记录\nexport const MOVIES_HISTORY_QUERY = gql`\n  ${SLIM_MOVIE_FRAGMENT}\n  query showMovieHistoryQuery($first: Int = 10, $page: Int) {\n    showMovieHistory(first: $first, page: $page) {\n      paginatorInfo {\n        hasMorePages\n        currentPage\n      }\n      data {\n        id\n        progress\n        series_index\n        last_watch_time\n        movie {\n          ...slimMovieFragment\n          last_watch_series\n          last_watch_progress\n        }\n      }\n    }\n  }\n`;\n\n// 用户在追的剧\nexport const FAVORITE_MOVIES_QUERY = gql`\n  ${SLIM_MOVIE_FRAGMENT}\n\n  query favoriteMoviesQuery($user_id: Int, $type: FavorableEnum = movies, $first: Int, $page: Int) {\n    userFavorites(user_id: $user_id, type: $type, first: $first, page: $page) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        id\n        movie {\n          ...slimMovieFragment\n        }\n      }\n    }\n  }\n`;\n\n// 编辑精选的电影\nexport const EDITOR_CHOICE_MOVIES_QUERY = gql`\n  ${SLIM_MOVIE_FRAGMENT}\n\n  query editorChoiceQuery($title: String!, $page: Int) {\n    editorChoice(title: $title) {\n      id\n      title\n      summary\n      editor {\n        id\n        age\n        name\n        avatar\n      }\n      activities {\n        image_url\n        subtitle\n        movie {\n          id\n          name\n          actors\n          movie_key\n        }\n      }\n      movies(page: $page, first: 12) {\n        paginatorInfo {\n          hasMorePages\n          currentPage\n        }\n        data {\n          ...slimMovieFragment\n        }\n      }\n    }\n  }\n`;\n\n// 获取指定位置置顶数据\nexport const STICKS_QUERY = gql`\n  ${SLIM_MOVIE_FRAGMENT}\n\n  # 获取指定位置置顶数据\n  query sticksQuery($place: String, $page: Int, $movies_page: Int) {\n    sticks(place: $place, page: $page) {\n      paginatorInfo {\n        hasMorePages\n        currentPage\n      }\n      data {\n        id\n        cover\n        place\n        editorChoice {\n          id\n          title\n          summary\n          activities {\n            id\n            title\n            image_url\n            subtitle\n            movie {\n              id\n              name\n              actors\n              movie_key\n              series {\n                name\n                url\n              }\n            }\n            activityable_type\n            activityable_id\n            image_url\n          }\n\n          editor {\n            id\n            age\n            name\n            avatar\n          }\n          movies(page: $movies_page, first: 12) {\n            paginatorInfo {\n              hasMorePages\n              currentPage\n            }\n            data {\n              ...slimMovieFragment\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\n// 分类筛选出来的电影\nexport const CATEGORY_MOVIE_QUERY = gql`\n  ${SLIM_MOVIE_FRAGMENT}\n\n  query categoryMovieQuery(\n    $region: MovieCategory\n    $type: String\n    $style: String\n    $country: String\n    $lang: String\n    $first: Int\n    $page: Int\n    $year: String\n    $scopes: ScopesType\n  ) {\n    categoryMovie(\n      region: $region\n      type: $type\n      country: $country\n      lang: $lang\n      style: $style\n      first: $first\n      page: $page\n      year: $year\n      scopes: $scopes\n    ) {\n      paginatorInfo {\n        hasMorePages\n        currentPage\n      }\n      data {\n        ...slimMovieFragment\n      }\n    }\n  }\n`;\n\n// 影视片单\nexport const CHANNELS_QUERY = gql`\n  ${SLIM_MOVIE_FRAGMENT}\n\n  query channelsQuery($page: Int, $first: Int, $sort: Sort = LASTEST) {\n    channels(page: $page, first: $first, sort: $sort) {\n      paginatorInfo {\n        total\n        hasMorePages\n        currentPage\n      }\n      data {\n        id\n        title\n        sketch\n        cover\n        state\n        click_count\n        serie_count\n        movie {\n          ...slimMovieFragment\n        }\n      }\n    }\n  }\n`;\n\n// # 搜索影视\nexport const SEARCH_MOVIES_QUERY = gql`\n  ${SLIM_MOVIE_FRAGMENT}\n\n  query searchMoviesQuery($keyword: String!, $page: Int) {\n    searchMovies(keyword: $keyword, page: $page) {\n      paginatorInfo {\n        total\n        currentPage\n        hasMorePages\n      }\n      data {\n        ...slimMovieFragment\n        introduction\n      }\n    }\n  }\n`;\n\n// # 大家都在搜\nexport const SEARCH_LOGS_QUERY = gql`\n  query searchLogsQuery {\n    searchLogs\n  }\n`;\n\n// 保存观看记录\nexport const SAVE_WATCH_PROGRESS_MUTATION = gql`\n  mutation saveWatchProgressMutation($movie_id: Int!, $series_index: Int, $progress: Int) {\n    saveWatchProgress(movie_id: $movie_id, series_index: $series_index, progress: $progress)\n  }\n`;\n","import { gql } from '@apollo/client/core';\n\nexport const POST_FRAGMENT = gql`\n  fragment postFragment on Post {\n    id\n    spider {\n      id\n    }\n    description\n    cover\n    status\n    media_type\n    liked\n    count_visits\n    count_likes\n    count_comments\n    review_id\n    review_day\n    is_ad\n    created_at\n    current_episode\n    user {\n      id\n      name\n      avatar\n      followed_status\n      gender\n      age\n      introduction\n      count_likes\n      count_followings\n      count_followers\n    }\n    tag_names\n    images {\n      id\n      url\n      width\n      height\n    }\n    video {\n      id\n      url\n      cover\n      dynamic_cover\n      duration\n      width\n      height\n      isHd\n      json\n    }\n    movie {\n      id\n      name\n      introduction\n      cover\n    }\n    collections {\n      id\n      logo\n      name\n      description\n      count_posts\n    }\n  }\n`;\n\n// 动态详情\nexport const POST_QUERY = gql`\n  ${POST_FRAGMENT}\n\n  query postQuery($id: Int!) {\n    post(id: $id) {\n      ...postFragment\n    }\n  }\n`;\n\n// 推荐视频刷（快速版）\nexport const FAST_RECOMMEND_POSTS_QUERY = gql`\n  ${POST_FRAGMENT}\n\n  query fastRecommendPostsQuery {\n    fastRecommendPosts {\n      ...postFragment\n    }\n  }\n`;\n\n// 推荐视频刷（快速版）\nexport const PUBLIC_POSTS_QUERY = gql`\n  ${POST_FRAGMENT}\n\n  query publicPostsQuery($user_id: Int, $first: Int = 10, $page: Int) {\n    publicPosts(user_id: $user_id, first: $first, page: $page) {\n      paginatorInfo {\n        hasMorePages\n        currentPage\n      }\n      data {\n        ...postFragment\n      }\n    }\n  }\n`;\n\n// 用户发布\n// # filter 筛选动态类型\n// # enum PostFilter {\n// # spider\n// # 用户爬取的动态\n// # normal\n// # 用户发布的动态\n// # all\n// # 全部\n// # }\nexport const USER_POSTS_QUERY = gql`\n  ${POST_FRAGMENT}\n\n  query userPostsQuery($user_id: Int!, $filter: PostFilter, $page: Int, $first: Int) {\n    userPosts(user_id: $user_id, filter: $filter, page: $page, first: $first) {\n      paginatorInfo {\n        hasMorePages\n        currentPage\n      }\n      data {\n        ...postFragment\n      }\n    }\n  }\n`;\n","import { gql } from '@apollo/client/core';\nimport { POST_FRAGMENT } from './post';\n\nexport const COLLECTION_FRAGMENT = gql`\n  fragment collectionFragment on Collection {\n    id\n    logo\n    name\n    description\n    count_articles\n    count_follows\n    count_posts\n    count_views\n    updated_to_episode\n    followed\n    user {\n      id\n      name\n      avatar\n    }\n    movie {\n      id\n      name\n      introduction\n      cover\n    }\n  }\n`;\n\nexport const COLLECTION_QUERY = gql`\n  ${COLLECTION_FRAGMENT}\n\n  query randomCollectionsQuery($page: Int) {\n    randomCollections(page: $page) {\n      paginatorInfo {\n        hasMorePages\n        currentPage\n      }\n      data {\n        ...collectionFragment\n      }\n    }\n  }\n`;\n\n// # 合集内的视频\nexport const COLLECTION_POSTS_QUERY = gql`\n  ${POST_FRAGMENT}\n  ${COLLECTION_FRAGMENT}\n\n  query collectionPostsQuery($id: Int!, $page: Int, $count: Int) {\n    collection(collection_id: $id) {\n      type\n      status\n      ...collectionFragment\n      posts(page: $page, count: $count) {\n        paginatorInfo {\n          lastPage\n          currentPage\n          hasMorePages\n        }\n        data {\n          ...postFragment\n          collections {\n            ...collectionFragment\n          }\n        }\n      }\n    }\n  }\n`;\n","import { gql } from '@apollo/client/core';\n\n// # 评论列表\nexport const COMMENT_FRAGMENT = gql`\n  fragment commentFragment on Comment {\n    id\n    body\n    likes\n    liked\n    time_ago\n    count_replies\n    commentable_id\n    user {\n      id\n      name\n      avatar\n      is_admin\n    }\n  }\n`;\n\n// # 评论列表\nexport const COMMENTS_QUERY = gql`\n  ${COMMENT_FRAGMENT}\n\n  query commentsQuery(\n    $type: CommentType!\n    $id: Int!\n    $page: Int\n    $first: Int\n    $user_id: Int\n    $order: [OrderByClause!]\n  ) {\n    comments(\n      commentable_type: $type\n      commentable_id: $id\n      page: $page\n      first: $first\n      user_id: $user_id\n      orderBy: $order\n    ) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n        total\n      }\n      data {\n        ...commentFragment\n        # comments(first: 3) {\n        #   data {\n        #     ...commentFragment\n        #   }\n        # }\n      }\n    }\n  }\n`;\n\n// # 子评论列表\nexport const COMMENT_REPLIES_QUERY = gql`\n  ${COMMENT_FRAGMENT}\n\n  query commentRepliesQuery($id: Int!, $page: Int, $first: Int) {\n    comment(id: $id) {\n      id\n      comments(page: $page, first: $first) {\n        paginatorInfo {\n          currentPage\n          hasMorePages\n          total\n        }\n        data {\n          ...commentFragment\n        }\n      }\n    }\n  }\n`;\n\n// # 发评论\nexport const ADD_COMMENT_MUTATION = gql`\n  ${COMMENT_FRAGMENT}\n\n  mutation addCommentMutation($type: CommentType!, $id: Int!, $body: String!) {\n    addComment(commentable_type: $type, commentable_id: $id, body: $body) {\n      ...commentFragment\n    }\n  }\n`;\n\n// 删除评论\nexport const DELETE_COMMENT_MUTATION = gql`\n  mutation deleteCommentMutation($id: Int!) {\n    deleteComment(id: $id)\n  }\n`;\n","import { gql } from '@apollo/client/core';\n\nexport const NOTIFICATION_FRAGMENT = gql`\n  fragment notificationFragment on Notification {\n    id\n    type\n    time_ago\n    data_id\n    data_type\n    data_message\n    data_cover\n    data_description\n    data_url\n    user {\n      id\n      name\n      avatar\n      followed_status\n      gender\n      age\n      introduction\n    }\n  }\n`;\n\n// 点赞通知\nexport const LIKE_NOTIFICATIONS_QUERY = gql`\n  ${NOTIFICATION_FRAGMENT}\n\n  query likeNotificationsQuery($page: Int) {\n    notifications(type: GROUP_LIKES, page: $page) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        ...notificationFragment\n      }\n    }\n  }\n`;\n\n// 评论通知\nexport const COMMENT_NOTIFICATIONS_QUERY = gql`\n  ${NOTIFICATION_FRAGMENT}\n\n  query commentNotificationQuery($page: Int) {\n    notifications(type: GROUP_COMMENT, page: $page) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        ...notificationFragment\n      }\n    }\n  }\n`;\n\n// 粉丝通知\nexport const FOLLOWS_NOTIFICATIONS_QUERY = gql`\n  query followersNotificationsQuery($page: Int) {\n    notifications(type: USER_FOLLOWED, page: $page) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        id\n        type\n        time_ago\n        user {\n          id\n          name\n          avatar\n          followed_status\n          gender\n          age\n          introduction\n        }\n      }\n    }\n  }\n`;\n\n// 系统通知\nexport const PUBLIC_NOTIFICATIONS_QUERY = gql`\n  query publicNoticesQuery($page: Int) {\n    notices(page: $page) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        id\n        type\n        title\n        content\n        expires_at #过期时间\n        created_at\n        updated_at\n        user {\n          id\n          name\n          avatar\n          balance\n        }\n      }\n    }\n  }\n`;\n\n// 未读消息数\nexport const UNREADS_QUERY = gql`\n  query unreadsQuery {\n    me {\n      id\n      unread_comments\n      unread_likes\n      unread_follows\n      unread_others\n      unread_tips\n      unread_chat\n    }\n  }\n`;\n","import { gql } from '@apollo/client/core';\n\nexport const TOGGLE_FAVORITE_MUTATION = gql`\n  mutation toggleFavoriteMutation($type: FavorableEnum!, $id: Int!) {\n    toggleFavorite(type: $type, id: $id) {\n      id\n      favorited\n    }\n  }\n`;\n","import { gql } from '@apollo/client/core';\n\n// 举报\nexport const CREATE_REPORT_MUTATION = gql`\n  mutation createReportMutation($id: Int!, $reason: String, $type: ReportType) {\n    createReport(id: $id, reason: $reason, type: $type) {\n      id\n      reason\n    }\n  }\n`;\n\n// 汇报影片异常\nexport const REPORT_MOVIE_EXCEPTION_MUTATION = gql`\n  mutation reportMovieException($movie_id: Int!, $source_name: String!) {\n    reportMovieException(movie_id: $movie_id, source_name: $source_name)\n  }\n`;\n\n// #创建意见反馈\n// #content：反馈内容\n// #contact：联系方式\n// #images: 图片补充\n// #video_id: 视频信息（比如粘贴视频求片）\n// content: `影视播放bug：${movie?.name}，第${playerStore.currentEpisodeIndex + 1}集，${playerStore.playLineName}，进度为${playerStore.progress}时，反馈：${selected}`,\nexport const CREATE_FEEDBACK_MUTATION = gql`\n  mutation createFeedbackMutation($content: String!, $images: [String], $contact: String, $video_id: Int) {\n    createFeedback(content: $content, images: $images, contact: $contact, video_id: $video_id) {\n      id\n      user {\n        id\n        name\n        avatar\n        gender\n      }\n      images {\n        id\n        width\n        height\n        url\n        thumbnail\n      }\n      content\n      contact\n      status_msg\n      created_at\n      hot\n      comments {\n        id\n        body\n      }\n    }\n  }\n`;\n","import { gql } from '@apollo/client/core';\n\n// 关注的用户\nexport const FOLLOWED_USERS_QUERY = gql`\n  query followedUsersQuery($user_id: Int!, $page: Int, $filter: FollowedEnumType) {\n    follows(user_id: $user_id, page: $page, followed_type: \"users\", filter: $filter) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        id\n        name\n        people {\n          id\n          age\n          name\n          avatar\n          gender\n          count_articles\n          count_likes\n          introduction\n          followed_status\n          count_followings\n          count_followers\n        }\n      }\n    }\n  }\n`;\n\n// 用户的粉丝\nexport const USER_FOLLOWERS_QUERY = gql`\n  query userFollowersQuery($user_id: Int!, $page: Int, $filter: FollowedEnumType) {\n    followers(followed_id: $user_id, page: $page, followed_type: \"users\", filter: $filter) {\n      paginatorInfo {\n        currentPage\n        hasMorePages\n      }\n      data {\n        id\n        user {\n          id\n          age\n          name\n          avatar\n          gender\n          count_articles\n          count_likes\n          introduction\n          followed_status\n          count_followings\n          count_followers\n        }\n      }\n    }\n  }\n`;\n\nexport const TOGGLE_FOLLOW_MUTATION = gql`\n  mutation toggleFollowMutation($id: Int!, $type: FollowedEnumType!) {\n    toggleFollow(id: $id, type: $type) {\n      id\n      isFollowed\n    }\n  }\n`;\n","import { gql } from '@apollo/client/core';\n\n// enum LikableEnumType {\n// POST\n// VIDEO\n// MOVIE\n// ARTICLE\n// QUESTION\n// COMMENT\n// }\n\nexport const TOGGLE_LIKE_MUTATION = gql`\n  mutation toggleLikeMutation($id: Int!, $type: LikeType!) {\n    toggleLike(liked_id: $id, liked_type: $type) {\n      id\n      isLiked\n    }\n  }\n`;\n","import { gql } from '@apollo/client/core';\n\n// 反馈列表\nexport const FEEDBACKS_QUERY = gql`\n  query feedbacksQuery($type: FeedbackEnum!, $page: Int, $first: Int){\n    feedbacks(type: $type, page: $page, first: $first){\n      paginatorInfo {\n        currentPage\n        hasMorePages\n        total\n      }\n      data{\n        id\n        content\n        count_comment\n        time_ago\n        user{\n          id\n          name\n          avatar\n        }\n      }\n    }\n  }\n`;\n\n// 创建反馈\nexport const FEEDBACK_MUTATION = gql`\n  mutation createFeedbackMutation($type: FeedbackEnum!, $content: String!) {\n    createFeedback(type: $type, content: $content) {\n    \tid\n      content\n      count_comment\n      time_ago\n      user{\n        id\n        name\n        avatar\n      }\n    }\n  }\n`;\n\n// 删除反馈\nexport const DELETE_FEEDBACK_MUTATION = gql`\n  mutation deleteFeedbackMutation($id: Int!){\n    deleteFeedback(id: $id){\n      id\n      content\n    }\n  }\n`;","// @ts-nocheck\n\nimport { Ref } from 'vue-demi';\nimport { ref, toRefs, watch, computed } from 'vue';\nimport { useQuery, useResult, UseQueryOptions } from '@vue/apollo-composable';\nimport { PUBLIC_POSTS_QUERY } from '@/graphql';\nimport { mergeProperty } from '@/utils';\n\ninterface Variables {\n  first?: Number;\n}\nexport default function usePublicPostsQuery(variables?: Ref<Variables | undefined>, options?: UseQueryOptions) {\n  const { result, loading, error, fetchMore } = useQuery(PUBLIC_POSTS_QUERY, variables, options);\n  const publicPosts = useResult(result, [], (data: any) => data?.publicPosts?.data);\n  const paginatorInfo = useResult(result, {}, (data: any) => data?.publicPosts?.paginatorInfo);\n\n  const currentPage = ref(paginatorInfo?.currentPage);\n  const hasMorePages = ref(paginatorInfo?.hasMorePages);\n  watch(paginatorInfo, (value, prevValue) => {\n    currentPage.value = value?.currentPage;\n    hasMorePages.value = value?.hasMorePages;\n  });\n  const loadingMore = ref(false);\n  const disabled = computed(() => loading.value || loadingMore.value || !hasMorePages.value);\n\n  function loadMore() {\n    console.log('====================================');\n    console.log('loadMore', currentPage.value);\n    console.log('====================================');\n    loadingMore.value = true;\n    fetchMore({\n      variables: {\n        page: currentPage.value + 1\n      },\n      updateQuery: (prev: any, { fetchMoreResult }) => {\n        loadingMore.value = false;\n        if (!fetchMoreResult) {\n          return prev;\n        }\n        return mergeProperty(prev, fetchMoreResult);\n      }\n    });\n  }\n\n  return {\n    loading,\n    error,\n    disabled,\n    loadMore,\n    hasMorePages,\n    publicPosts\n  };\n}\n","// @ts-nocheck\n\nimport { Ref } from 'vue-demi';\nimport { ref, toRefs, watch, computed } from 'vue';\nimport { useQuery, useResult, UseQueryOptions } from '@vue/apollo-composable';\nimport { CATEGORY_MOVIE_QUERY } from '@/graphql';\nimport { CategoryMovieQuery } from '@/graphql/schema';\nimport { mergeProperty } from '@/utils';\n\ninterface Variables {\n  region?: String;\n  type?: String;\n  country?: String;\n  lang?: String;\n  style?: String;\n  first?: Number;\n  page?: Number;\n  year?: String;\n  scopes?: String;\n}\nexport default function useCategoryMovieQuery(variables?: Ref<Variables | undefined>, options?: UseQueryOptions) {\n  const { result, loading, error, fetchMore } = useQuery<{\n    categoryMovie: CategoryMovieQuery;\n  }>(CATEGORY_MOVIE_QUERY, variables, options);\n  const categoryMovie = useResult(result, [], (data: any) => data?.categoryMovie?.data);\n  const paginatorInfo = useResult(result, {}, (data: any) => data?.categoryMovie?.paginatorInfo);\n\n  const currentPage = ref(paginatorInfo?.currentPage);\n  const hasMorePages = ref(paginatorInfo?.hasMorePages);\n  watch(paginatorInfo, (value, prevValue) => {\n    currentPage.value = value?.currentPage;\n    hasMorePages.value = value?.hasMorePages;\n  });\n  const loadingMore = ref(false);\n  const disabled = computed(() => loading.value || loadingMore.value || !hasMorePages.value);\n\n  function loadMore() {\n    console.log('====================================');\n    console.log('loadMore', currentPage.value);\n    console.log('====================================');\n    loadingMore.value = true;\n    fetchMore({\n      variables: {\n        page: currentPage.value + 1\n      },\n      updateQuery: (prev: any, { fetchMoreResult }) => {\n        loadingMore.value = false;\n        if (!fetchMoreResult) {\n          return prev;\n        }\n        return mergeProperty(prev, fetchMoreResult);\n      }\n    });\n  }\n\n  return {\n    loading,\n    error,\n    disabled,\n    loadMore,\n    hasMorePages,\n    categoryMovie\n  };\n}\n","import { ref, onMounted, watch } from 'vue';\nimport { useQuery, useResult } from '@vue/apollo-composable';\nimport { SEARCH_LOGS_QUERY } from '@/graphql';\n\nexport default function useSearchLogsQuery() {\n  const { result, loading, error, refetch } = useQuery(SEARCH_LOGS_QUERY);\n  const searchLogs = useResult(result, [], (data: any) =>\n    data?.searchLogs.filter(s => {\n      return s && s?.id && s?.name;\n    })\n  );\n\n  return {\n    loading,\n    error,\n    refetch,\n    searchLogs\n  };\n}\n","// @ts-nocheck\n\nimport { Ref } from 'vue-demi';\nimport { ref, onMounted, watch } from 'vue';\nimport { useQuery, useResult, UseQueryOptions } from '@vue/apollo-composable';\nimport { SEARCH_MOVIES_QUERY } from '@/graphql';\n\ninterface Variables {\n  keyword: Ref<String> | String;\n  page?: Ref<Number> | Number;\n}\n\nexport default function useSearchMoviesQuery(\n  variables: Ref<Variables> | Variables,\n  options?: UseQueryOptions<any, Variables>\n) {\n  const { result, loading, error, refetch } = useQuery(SEARCH_MOVIES_QUERY, variables, options);\n  const searchMovies = useResult(result, [], (data: any) => data?.searchMovies?.data);\n  const total = useResult(result, {}, (data: any) => data?.searchMovies?.paginatorInfo?.total);\n\n  return {\n    loading,\n    error,\n    refetch,\n    searchMovies,\n    total\n  };\n}\n","import { Ref } from 'vue-demi';\nimport { ref, onMounted, watch } from 'vue';\nimport { useQuery, useResult, UseQueryOptions } from '@vue/apollo-composable';\nimport { MOVIE_QUERY } from '@/graphql';\n\ninterface Variables {\n  id: Ref<Number> | Number;\n  key?: String;\n}\nexport default function useMovieQuery(variables: Variables, options?: UseQueryOptions) {\n  const { result, loading, error, refetch } = useQuery(MOVIE_QUERY, variables, options);\n  const movie = useResult(result, null, (data: any) => data?.movie);\n\n  return {\n    loading,\n    error,\n    refetch,\n    movie\n  };\n}\n","import { Ref } from 'vue-demi';\nimport { ref, onMounted, watch } from 'vue';\nimport { useQuery, useResult, UseQueryOptions } from '@vue/apollo-composable';\nimport { RELATED_MOVIES_QUERY } from '@/graphql';\n\ninterface Variables {\n  movie_id: Ref<Number> | Number;\n  limit?: Ref<Number> | Number;\n}\nexport default function useRelatedMoviesQuery(variables: Variables, options?: UseQueryOptions) {\n  const { result, loading, error, refetch } = useQuery(RELATED_MOVIES_QUERY, variables, options);\n  const relatedMovies = useResult(result, [], (data: any) => data?.relatedMovies);\n\n  return {\n    loading,\n    error,\n    refetch,\n    relatedMovies\n  };\n}\n","import { useMutation, UseMutationOptions } from '@vue/apollo-composable';\nimport { TOGGLE_LIKE_MUTATION } from '@/graphql';\nimport { errorMessage } from '@/utils';\nimport { ElMessage } from 'element-plus';\n\ninterface Variables {\n  id?: number | any;\n  type?: string;\n}\n\nexport default function useLikeMutation(variables: Variables, options?: UseMutationOptions) {\n  const { mutate: toggleLike, onDone, onError, loading } = useMutation(TOGGLE_LIKE_MUTATION, () => ({\n    variables,\n    options\n  }));\n\n  onError(err => {\n    ElMessage.error(`${errorMessage(err)}`);\n  });\n\n  return {\n    toggleLike,\n    onDone,\n    onError,\n    loading\n  };\n}\n","import { useMutation, UseMutationOptions } from '@vue/apollo-composable';\nimport { TOGGLE_FAVORITE_MUTATION } from '@/graphql';\nimport { errorMessage } from '@/utils';\nimport { ElMessage } from 'element-plus';\n\ninterface Variables {\n  id?: number | any;\n  type: String;\n}\n\nexport default function useFavoriteMutation(variables: Variables, options?: UseMutationOptions) {\n  const { mutate: toggleFavorite, onDone, onError, loading } = useMutation(TOGGLE_FAVORITE_MUTATION, () => ({\n    variables,\n    options\n  }));\n\n  onError(err => {\n    ElMessage.error(`${errorMessage(err)}`);\n  });\n\n  return {\n    toggleFavorite,\n    onDone,\n    onError,\n    loading\n  };\n}\n","// @ts-nocheck\nimport { Ref } from 'vue-demi';\nimport { ref, watch, computed } from 'vue';\nimport { useQuery, useResult, UseQueryOptions } from '@vue/apollo-composable';\nimport { FAVORITE_MOVIES_QUERY } from '@/graphql';\nimport { mergeProperty } from '@/utils';\n\ninterface Variables {\n  user_id: Ref<Number> | Number;\n  type?: Ref<String> | String;\n  page?: Ref<Number> | Number;\n}\n\nexport default function useFavoriteMoviesQuery(variables: Ref<Variables> | Variables, options?: UseQueryOptions) {\n  const { result, loading, error, fetchMore } = useQuery(FAVORITE_MOVIES_QUERY, variables, options);\n  const favoriteMovies = useResult(result, null, (data: any) => data?.userFavorites.data);\n  const paginatorInfo = useResult(result, {}, (data: any) => data?.userFavorites?.paginatorInfo);\n  const currentPage = ref(paginatorInfo?.currentPage);\n  const hasMorePages = ref(paginatorInfo?.hasMorePages);\n\n  watch(paginatorInfo, (value, prevValue) => {\n    currentPage.value = value?.currentPage;\n    hasMorePages.value = value?.hasMorePages;\n  });\n\n  const loadingMore = ref(false);\n  const disabled = computed(() => loading.value || loadingMore.value || !hasMorePages.value);\n\n  function loadMore() {\n    if (hasMorePages.value && !loadingMore.value) {\n      loadingMore.value = true;\n      fetchMore({\n        variables: {\n          page: currentPage.value + 1\n        },\n        updateQuery: (prev: any, { fetchMoreResult }) => {\n          loadingMore.value = false;\n          if (!fetchMoreResult) {\n            return prev;\n          }\n          return mergeProperty(prev, fetchMoreResult);\n        }\n      });\n    }\n  }\n\n  return {\n    loading,\n    error,\n    disabled,\n    loadMore,\n    hasMorePages,\n    favoriteMovies\n  };\n}\n","// @ts-nocheck\n\nimport { Ref } from 'vue-demi';\nimport { ref, toRefs, watch, computed } from 'vue';\nimport { useQuery, useResult, UseQueryOptions } from '@vue/apollo-composable';\nimport { MOVIES_HISTORY_QUERY } from '@/graphql';\nimport { mergeProperty } from '@/utils';\n\ninterface Variables {\n  page?: number;\n  first?: number;\n}\n\nexport default function useMoviesHistoryQuery(\n  variables?: Ref<Variables | undefined> | Variables,\n  options?: UseQueryOptions\n) {\n  const { result, loading, error, fetchMore } = useQuery(MOVIES_HISTORY_QUERY, variables, options);\n  const moviesHistory = useResult(result, [], (data: any) => data?.showMovieHistory?.data);\n  const paginatorInfo = useResult(result, {}, (data: any) => data?.showMovieHistory?.paginatorInfo);\n  const currentPage = ref(paginatorInfo?.currentPage);\n  const hasMorePages = ref(paginatorInfo?.hasMorePages);\n\n  watch(paginatorInfo, (value, prevValue) => {\n    currentPage.value = value?.currentPage;\n    hasMorePages.value = value?.hasMorePages;\n  });\n\n  const loadingMore = ref(false);\n  const disabled = computed(() => loading.value || loadingMore.value || !hasMorePages.value);\n\n  function loadMore() {\n    if (hasMorePages.value && !loadingMore.value) {\n      loadingMore.value = true;\n      fetchMore({\n        variables: {\n          page: currentPage.value + 1\n        },\n        updateQuery: (prev: any, { fetchMoreResult }) => {\n          loadingMore.value = false;\n          if (!fetchMoreResult) {\n            return prev;\n          }\n          return mergeProperty(prev, fetchMoreResult);\n        }\n      });\n    }\n  }\n\n  return {\n    loading,\n    error,\n    disabled,\n    loadMore,\n    hasMorePages,\n    moviesHistory\n  };\n}\n","// @ts-nocheck\n\nimport { ref, watch, computed } from 'vue';\nimport { useQuery, useResult, UseQueryOptions } from '@vue/apollo-composable';\nimport { FOLLOWED_USERS_QUERY, USER_FOLLOWERS_QUERY } from '@/graphql';\nimport { mergeProperty } from '@/utils';\n\ninterface FollowVariables {\n  user_id: Number;\n  page?: Number;\n  filter?: String;\n}\n\nexport function useFollowedUsersQuery(variables: FollowVariables, options?: UseQueryOptions) {\n  const { result, loading, error, fetchMore, refetch } = useQuery(FOLLOWED_USERS_QUERY, variables, options);\n  const followedUsers = useResult(result, null, (data: any) => data?.follows.data);\n  const paginatorInfo = useResult(result, {}, (data: any) => data?.follows?.paginatorInfo);\n  const currentPage = ref(paginatorInfo?.currentPage);\n  const hasMorePages = ref(paginatorInfo?.hasMorePages);\n\n  watch(paginatorInfo, (value, prevValue) => {\n    currentPage.value = value?.currentPage;\n    hasMorePages.value = value?.hasMorePages;\n  });\n\n  const loadingMore = ref(false);\n  const isFinished = computed(() => !loading.value && !error.value && !hasMorePages.value);\n  const disabled = computed(() => loading.value || loadingMore.value || !hasMorePages.value);\n\n  function loadMore() {\n    if (hasMorePages.value && !loadingMore.value) {\n      loadingMore.value = true;\n      fetchMore({\n        variables: {\n          page: currentPage.value + 1\n        },\n        updateQuery: (prev: any, { fetchMoreResult }) => {\n          loadingMore.value = false;\n          if (!fetchMoreResult) {\n            return prev;\n          }\n          return mergeProperty(prev, fetchMoreResult);\n        }\n      });\n    }\n  }\n\n  return {\n    loading,\n    error,\n    refetch,\n    followedUsers,\n    loadMore,\n    loadingMore,\n    isFinished,\n    disabled\n  };\n}\n\nexport function useFollowersQuery(variables: FollowVariables, options?: UseQueryOptions) {\n  const { result, loading, error, fetchMore, refetch } = useQuery(USER_FOLLOWERS_QUERY, variables, options);\n  const followers = useResult(result, null, (data: any) => data?.followers.data);\n  const paginatorInfo = useResult(result, {}, (data: any) => data?.followers?.paginatorInfo);\n  const currentPage = ref(paginatorInfo?.currentPage);\n  const hasMorePages = ref(paginatorInfo?.hasMorePages);\n  watch(paginatorInfo, (value, prevValue) => {\n    currentPage.value = value?.currentPage;\n    hasMorePages.value = value?.hasMorePages;\n  });\n\n  const loadingMore = ref(false);\n  const isFinished = computed(() => !loading.value && !error.value && !hasMorePages.value);\n  const disabled = computed(() => loading.value || loadingMore.value || !hasMorePages.value);\n\n  function loadMore() {\n    if (hasMorePages.value && !loadingMore.value) {\n      loadingMore.value = true;\n      fetchMore({\n        variables: {\n          page: currentPage.value + 1\n        },\n        updateQuery: (prev: any, { fetchMoreResult }) => {\n          loadingMore.value = false;\n          if (!fetchMoreResult) {\n            return prev;\n          }\n          return mergeProperty(prev, fetchMoreResult);\n        }\n      });\n    }\n  }\n\n  return {\n    loading,\n    error,\n    refetch,\n    followers,\n    loadMore,\n    loadingMore,\n    isFinished,\n    disabled\n  };\n}\n","import { Ref } from 'vue-demi';\nimport { ref, onMounted, watch } from 'vue';\nimport { useQuery, useResult, UseQueryOptions } from '@vue/apollo-composable';\nimport { POST_QUERY } from '@/graphql';\n\ninterface Variables {\n  id: Ref<Number> | Number;\n}\nexport default function usePostQuery(variables: Variables, options?: UseQueryOptions) {\n  const { result, loading, error, refetch } = useQuery(POST_QUERY, variables, options);\n  const post = useResult(result, null, (data: any) => data?.post);\n  const collections = useResult(result, null, (data: any) => data?.post?.collections);\n\n  return {\n    loading,\n    error,\n    refetch,\n    post,\n    collections\n  };\n}\n","// @ts-nocheck\nimport { Ref } from 'vue-demi';\nimport { watch, ref, computed } from 'vue';\nimport { useQuery, useResult, UseQueryOptions } from '@vue/apollo-composable';\nimport { CHATS_QUERY } from '@/graphql';\nimport { mergeProperty } from '@/utils';\n\ninterface Variables {\n  user_id: Ref<Number> | Number;\n  page?: Number;\n}\n\nexport default function useChatsQuery(variables: Variables, options?: UseQueryOptions) {\n  const { result, loading, error, fetchMore, refetch } = useQuery(CHATS_QUERY, variables, options);\n  const chats = useResult(result, [], (data: any) => [...data?.chats?.data]);\n  const paginatorInfo = useResult(result, {}, (data: any) => data?.chats?.paginatorInfo);\n\n  const currentPage = ref(paginatorInfo?.currentPage);\n  const hasMorePages = ref(paginatorInfo?.hasMorePages);\n  watch(paginatorInfo, (value, prevValue) => {\n    currentPage.value = value?.currentPage;\n    hasMorePages.value = value?.hasMorePages;\n  });\n  const loadingMore = ref(false);\n  const disabled = computed(() => loading.value || loadingMore.value || !hasMorePages.value);\n\n  function loadMore() {\n    loadingMore.value = true;\n    fetchMore({\n      variables: {\n        page: currentPage.value + 1\n      },\n      updateQuery: (prev: any, { fetchMoreResult }) => {\n        loadingMore.value = false;\n        if (!fetchMoreResult) {\n          return prev;\n        }\n        return mergeProperty(prev, fetchMoreResult);\n      }\n    });\n  }\n\n  return {\n    chats,\n    loading,\n    refetch,\n    loadMore,\n    loadingMore,\n    hasMorePages\n  };\n}\n","// @ts-nocheck\n\nimport { Ref } from 'vue-demi';\nimport { ref, toRefs, watch, computed } from 'vue';\nimport { useQuery, useResult, UseQueryOptions } from '@vue/apollo-composable';\nimport { MESSAGES_QUERY } from '@/graphql';\nimport { mergeProperty } from '@/utils';\n\ninterface Variables {\n  chat_id: Ref<number> | number;\n  page?: Ref<number> | number;\n}\n\nexport default function useChatMessagesQuery(variables: Variables, options?: UseQueryOptions) {\n  const { result, loading, error, fetchMore, refetch } = useQuery(MESSAGES_QUERY, variables, options);\n\n  const messages = useResult(result, [], (data: any) => {\n    // 按时间早->晚排序\n    return Array.isArray(data?.messages?.data) ? [...data?.messages?.data].reverse() : [];\n  });\n  const paginatorInfo = useResult(result, {}, (data: any) => data?.messages?.paginatorInfo);\n\n  const currentPage = ref(paginatorInfo?.currentPage);\n  const hasMorePages = ref(paginatorInfo?.hasMorePages);\n  watch(paginatorInfo, (value, prevValue) => {\n    currentPage.value = value?.currentPage;\n    hasMorePages.value = value?.hasMorePages;\n  });\n  const loadingMore = ref(false);\n  const disabled = computed(() => loading.value || loadingMore.value || !hasMorePages.value);\n\n  function loadMore() {\n    loadingMore.value = true;\n    fetchMore({\n      variables: {\n        page: currentPage.value + 1\n      },\n      updateQuery: (prev: any, { fetchMoreResult }) => {\n        loadingMore.value = false;\n        if (!fetchMoreResult) {\n          return prev;\n        }\n        return mergeProperty(prev, fetchMoreResult);\n      }\n    });\n  }\n\n  return {\n    error,\n    refetch,\n    messages,\n    disabled,\n    loading,\n    loadMore,\n    hasMorePages,\n    loadingMore,\n    currentPage\n  };\n}\n","// @ts-nocheck\n\nimport { Ref } from 'vue-demi';\nimport { ref, watch, computed } from 'vue';\nimport { useQuery, useResult, UseQueryOptions } from '@vue/apollo-composable';\nimport { SEARCH_USERS_QUERY } from '@/graphql';\nimport { mergeProperty } from '@/utils';\n\ninterface Variables {\n  keywords: Ref<String> | String;\n  page?: Ref<Number> | Number;\n}\n\nexport default function useSearchUsersQuery(\n  variables: Ref<Variables> | Variables,\n  options?: UseQueryOptions<any, Variables>\n) {\n  const { result, loading, error, refetch, fetchMore } = useQuery(SEARCH_USERS_QUERY, variables, options);\n  const searchUsers = useResult(result, [], (data: any) => data?.searchUsers?.data);\n  const paginatorInfo = useResult(result, {}, (data: any) => data?.searchUsers?.paginatorInfo);\n  const currentPage = ref(paginatorInfo?.currentPage);\n  const hasMorePages = ref(paginatorInfo?.hasMorePages);\n\n  watch(paginatorInfo, (value, prevValue) => {\n    currentPage.value = value?.currentPage;\n    hasMorePages.value = value?.hasMorePages;\n  });\n\n  const loadingMore = ref(false);\n  const isFinished = computed(() => !loading.value && !error.value && !hasMorePages.value);\n  const disabled = computed(() => loading.value || loadingMore.value || !hasMorePages.value);\n\n  function loadMore() {\n    if (hasMorePages.value && !loadingMore.value) {\n      loadingMore.value = true;\n      fetchMore({\n        variables: {\n          page: currentPage.value + 1\n        },\n        updateQuery: (prev: any, { fetchMoreResult }) => {\n          loadingMore.value = false;\n          if (!fetchMoreResult) {\n            return prev;\n          }\n          return mergeProperty(prev, fetchMoreResult);\n        }\n      });\n    }\n  }\n\n  return {\n    loading,\n    error,\n    refetch,\n    searchUsers,\n    hasMorePages,\n    loadMore,\n    loadingMore,\n    isFinished,\n    disabled\n  };\n}\n","import { ApolloClient, ApolloLink, InMemoryCache, from, HttpLink } from '@apollo/client/core';\nimport { Storage } from '@/store';\nimport { GQL_URI } from '@/config';\n\n// HTTP connection to the API\nconst additiveLink = from([\n  new ApolloLink((operation, forward) => {\n    const user = Storage.getItem('user');\n    operation.setContext(({ headers }) => ({\n      headers: {\n        ...headers,\n        authorization: user?.token ? `Bearer ${user?.token}` : null\n      }\n    }));\n    return forward(operation); // Go to the next link in the chain. Similar to `next` in Express.js middleware.\n  }),\n  new HttpLink({ uri: GQL_URI })\n]);\n\nexport const apolloClient = new ApolloClient({\n  link: additiveLink,\n  cache: new InMemoryCache()\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./MovieEpisodes.vue?vue&type=style&index=1&id=e887fc12&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./DPlayer.vue?vue&type=style&index=0&id=51c3e259&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./MoviesHistory.vue?vue&type=style&index=0&id=ae225688&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./ReportModal.vue?vue&type=style&index=0&id=6ea968ed&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Category.vue?vue&type=style&index=0&id=3353fdd8&lang=scss&scoped=true\"","<template>\n  <div id=\"comment-module\">\n    <div class=\"module-title\">\n      <span class=\"title\">全部评论{{ total > 10 ? `(${total})` : '' }}</span>\n      <div class=\"divider-wrap\">\n        <div class=\"divider\"></div>\n      </div>\n    </div>\n    <div class=\"input-module\">\n      <div class=\"creator\">\n        <a v-if=\"user.id\" :href=\"`user/${user.id}`\" class=\"user-face\">\n          <div class=\"avatar-wrap\">\n            <img class=\"avatar\" :src=\"user.avatar\" alt=\"用户头像\" />\n          </div>\n        </a>\n        <a v-else @click=\"showLoginModal\" class=\"user-face\">\n          <div class=\"avatar-wrap\">\n            <img class=\"avatar\" src=\"/img/noavatar.png\" alt=\"点击登录\" />\n          </div>\n        </a>\n      </div>\n      <div class=\"editor-container\">\n        <CommentEditor @addComment=\"addComment\" :commentable-id=\"commentableId\" :type=\"type\" />\n      </div>\n    </div>\n    <Skeleton v-if=\"loading\" type=\"comments\" />\n    <div v-else class=\"comments-wrap\">\n      <div v-if=\"data?.length > 0\" class=\"comment-list\">\n        <CommentItem v-for=\"comment in data\" :key=\"comment.id\" :comment=\"comment\" @deleteComment=\"refetch\">\n          <div class=\"division\"></div>\n        </CommentItem>\n      </div>\n      <div v-else class=\"comments-empty\">\n        <Empty type=\"comment\" description=\"暂无评论\" />\n      </div>\n    </div>\n    <div class=\"comments-pagination\" v-if=\"total > 10\">\n      <el-pagination\n        background\n        :page-size=\"10\"\n        :total=\"total\"\n        layout=\"prev, pager, next\"\n        :hide-on-single-page=\"true\"\n        @current-change=\"onPageChange\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { toRefs, ref } from 'vue';\nimport { useApolloClient, useQuery, useResult } from '@vue/apollo-composable';\nimport { COMMENTS_QUERY } from '@/graphql';\nimport CommentItem from './CommentItem.vue';\nimport CommentEditor from './CommentEditor.vue';\nimport LoadingSpinner from '../LoadingSpinner.vue';\nimport Skeleton from '../Skeleton.vue';\nimport Empty from '../Empty.vue';\n\nexport default {\n  components: {\n    CommentItem,\n    CommentEditor,\n    LoadingSpinner,\n    Skeleton,\n    Empty\n  },\n  props: {\n    commentableId: {\n      type: Number\n    },\n    type: {\n      type: String,\n      default: () => {\n        return 'movies';\n      }\n    }\n  },\n  setup(props) {\n    const { commentableId, type } = toRefs(props);\n    const currentPage = ref(1);\n    function onPageChange(page: number) {\n      currentPage.value = page;\n    }\n\n    const { result, loading, refetch } = useQuery(\n      COMMENTS_QUERY,\n      {\n        type,\n        id: commentableId,\n        page: currentPage\n      },\n      { fetchPolicy: 'network-only' }\n    );\n    const data = useResult(result, {}, (data: any) => data?.comments?.data);\n    const total = useResult(result, {}, (data: any) => data?.comments?.paginatorInfo?.total);\n\n    const { resolveClient } = useApolloClient();\n    function addComment(comment) {\n      const client = resolveClient();\n      const data = client.readQuery({\n        query: COMMENTS_QUERY,\n        variables: { type: type.value, id: commentableId.value, page: currentPage.value }\n      });\n      const commentsdata = [...data.comments.data];\n      const paginatorInfo = { ...data.comments.paginatorInfo };\n      if (commentsdata.length > 0) {\n        commentsdata.splice(9, 1);\n      }\n      commentsdata.unshift(comment);\n      client.writeQuery({\n        query: COMMENTS_QUERY,\n        variables: { type: type.value, id: commentableId.value, page: currentPage.value },\n        data: {\n          ...data,\n          comments: Object.assign({}, data.comments, {\n            data: commentsdata,\n            paginatorInfo: {\n              ...paginatorInfo,\n              total: paginatorInfo.total + 1\n            }\n          })\n        }\n      });\n    }\n\n    return {\n      loading,\n      data,\n      total,\n      onPageChange,\n      refetch,\n      addComment\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  methods: {\n    showLoginModal() {\n      this.$bus.emit('SHOW_LOGIN_MODAL');\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#comment-module {\n  padding-top: 20px;\n}\n.module-title {\n  color: var(--color-text-3);\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 24px;\n  position: relative;\n\n  .title {\n    background-color: var(--color-page-bg);\n    display: inline-block;\n    padding-right: 8px;\n    position: relative;\n    z-index: 2;\n  }\n  .divider-wrap {\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 50%;\n    .divider {\n      background-color: var(--color-border);\n      display: block;\n      height: 1px;\n      position: relative;\n      width: 100%;\n    }\n  }\n}\n\n.input-module {\n  display: flex;\n  margin-bottom: 40px;\n  margin-top: 20px;\n}\n.editor-container {\n  flex: 1 1;\n  height: 100%;\n}\n.creator {\n  cursor: pointer;\n  flex: 0 1;\n  margin-right: 12px;\n  .user-face {\n    position: relative;\n  }\n  .avatar-wrap {\n    height: 40px;\n    width: 40px;\n    background-color: #e6e7ee;\n    border: 1px solid var(--color-bg-skeleton-stroke);\n    border-radius: 50%;\n    box-sizing: content-box;\n    flex-grow: 0;\n    flex-shrink: 0;\n    overflow: hidden;\n    position: relative;\n    .avatar {\n      height: 100%;\n      position: relative;\n      width: 100%;\n    }\n  }\n}\n\n.comments-wrap {\n  position: relative;\n  font-family: Microsoft YaHei, Arial, Helvetica, sans-serif;\n  .division {\n    width: 100%;\n    padding-bottom: 12px;\n    border-bottom: 1px solid var(--color-border);\n  }\n}\n\n.comments-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: var(--color-text-2);\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 20px;\n}\n\n.comments-pagination {\n  margin-top: var(--content-margin);\n  display: flex;\n  justify-content: center;\n}\n</style>\n","<template>\n  <div class=\"comment-item\" :data-id=\"comment.id\">\n    <div class=\"user-face\">\n      <a :href=\"`/user/${comment.user.id}`\">\n        <div class=\"user-avatar\">\n          <img class=\"avatar-img\" :src=\"comment.user.avatar\" alt=\"头像\" />\n        </div>\n      </a>\n    </div>\n    <div class=\"item-content\">\n      <div class=\"user-item\">\n        <div class=\"user-info\">\n          <a :href=\"`/user/${comment.user.id}`\" class=\"name\">{{ comment.user.name }}</a>\n          <span class=\"time\">{{ comment.time_ago }}</span>\n        </div>\n        <el-popover placement=\"bottom-end\" trigger=\"hover\" :show-arrow=\"false\">\n          <template #reference>\n            <div class=\"operation\">\n              <svg\n                t=\"1634525354353\"\n                class=\"icon\"\n                viewBox=\"0 0 1024 1024\"\n                version=\"1.1\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                p-id=\"2378\"\n              >\n                <path\n                  d=\"M146.030911 517.349845m-87.923492 0a87.923492 87.923492 0 1 0 175.846984 0 87.923492 87.923492 0 1 0-175.846984 0Z\"\n                  fill=\"\"\n                  p-id=\"2379\"\n                ></path>\n                <path\n                  d=\"M512 512m-87.923492 0a87.923492 87.923492 0 1 0 175.846984 0 87.923492 87.923492 0 1 0-175.846984 0Z\"\n                  fill=\"\"\n                  p-id=\"2380\"\n                ></path>\n                <path\n                  d=\"M873.565802 512m-87.923491 0a87.923492 87.923492 0 1 0 175.846983 0 87.923492 87.923492 0 1 0-175.846983 0Z\"\n                  fill=\"\"\n                  p-id=\"2381\"\n                ></path>\n              </svg>\n            </div>\n          </template>\n          <div class=\"operation-popover\">\n            <div v-if=\"user.id === comment.user.id\" @click=\"onDelete\" class=\"op-item\">\n              <span class=\"item-text\">删除评论</span>\n            </div>\n            <div v-else @click=\"showReportModal\" class=\"op-item\">\n              <span class=\"item-text\">举报评论</span>\n            </div>\n          </div>\n        </el-popover>\n      </div>\n      <p class=\"body-text\">{{ comment.body }}</p>\n      <div class=\"item-tools\">\n        <span class=\"tool-btn\" v-auth:click=\"likeHandler\">\n          <svg v-if=\"liked\" class=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36 36\">\n            <path\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M18.215 9.392C19.313 7.827 21.116 7 23.1 7c3.778 0 6.921 3.278 6.921 7.175v.001l-.002.256c-.002.085-.003.128.003.142-.014.82-.156 1.497-.407 2.391-.143.161-.275.464-.407.798-.209.323-.287.48-.408.797a15.27 15.27 0 01-.31.499c-1.027 1.585-2.428 3.168-3.825 4.565-2.1 2.114-4.232 3.872-5.163 4.64-.258.212-.424.349-.47.396-.332.33-.663.34-.994.34h-.028c-.68 0-1.02-.34-1.36-.68a3.126 3.126 0 00-.192-.16c-1.032-.761-3.366-2.627-5.553-4.876-1.656-1.687-3.248-3.62-4.122-5.51-.34-.681-.764-2.301-.784-3.2.007-.007.006-.05.004-.137-.002-.063-.004-.15-.004-.262C6 10.276 9.141 7 12.922 7c1.98 0 3.785.827 5.293 2.392z\"\n              fill=\"#ff1459\"\n              fill-opacity=\"0.9\"\n            ></path>\n          </svg>\n          <svg v-else class=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36 36\">\n            <path\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M13.836 7C9.49 7 6 10.726 6 15.064c0 .108.002.194.003.253a1.62 1.62 0 00-.003.14c.013.582.146 1.284.293 1.87.143.572.344 1.208.57 1.668.907 1.952 2.495 3.846 4.023 5.402a46.034 46.034 0 005.138 4.51l.03.025.023.018c.339.34 1.055 1.05 2.331 1.05h.038c.361 0 1.224 0 1.996-.752l.063-.053.273-.227.006-.005c.847-.698 2.828-2.33 4.782-4.301 1.25-1.254 2.547-2.71 3.538-4.214.135-.204.265-.41.388-.617.049-.08.09-.166.123-.255.044-.115.065-.16.082-.194.019-.037.05-.093.131-.219.057-.089.106-.183.145-.281.055-.14.095-.235.127-.299l.006-.013a1.62 1.62 0 00.285-.562c.243-.863.41-1.623.426-2.558 0-.043 0-.086-.003-.129a10.365 10.365 0 00.003-.31C30.788 10.697 27.308 7 22.98 7c-1.641 0-3.238.508-4.498 1.532C17.119 7.545 15.547 7 13.836 7zm13.744 8.066v.042l-.002.15v.008l-.002.137c0 .015 0 .041.002.074-.014.44-.084.837-.233 1.402a3.667 3.667 0 00-.151.278c-.064.13-.122.265-.174.39a4.472 4.472 0 00-.376.738c-.076.125-.156.25-.24.378l-.002.002c-.823 1.25-1.954 2.534-3.13 3.713l-.003.003c-1.835 1.851-3.712 3.4-4.55 4.09l-.062.051-.235.195-.092-.091a3.812 3.812 0 00-.294-.254l-.012-.01a42.76 42.76 0 01-4.82-4.226l-.006-.006c-1.452-1.477-2.736-3.062-3.406-4.512a1.665 1.665 0 00-.021-.046c-.075-.15-.213-.533-.338-1.033a6.736 6.736 0 01-.193-1.074 1.837 1.837 0 000-.2v-.008a6.941 6.941 0 01-.003-.193c0-2.667 2.154-4.827 4.6-4.827 1.285 0 2.5.523 3.588 1.653a1.618 1.618 0 002.491-.193c.642-.914 1.732-1.46 3.064-1.46 2.444 0 4.6 2.162 4.6 4.827v.002z\"\n              fill-opacity=\"0.9\"\n            ></path>\n          </svg>\n          <span>{{ likes }}</span>\n        </span>\n        <div class=\"split\"></div>\n        <span class=\"tool-btn\" v-auth:click=\"toggleCommentEditor\">\n          <svg class=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36 36\">\n            <path\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M6 17.617C6 11.561 11.578 7 18 7s12 4.561 12 10.617c0 3.036-1.51 5.529-3.749 7.728-.187.184-.381.364-.58.54-1.925 2.082-3.911 3.417-5.847 3.973-.77.221-1.702.242-2.454-.381-.68-.564-.837-1.361-.878-1.823a3.848 3.848 0 01-.01-.136C10.898 26.91 6 23.264 6 17.617zM18 10c-5.177 0-9 3.602-9 7.617 0 3.867 3.794 6.992 9.152 6.992h1.5v1.717l-.06.206c0-.001-.03.104-.06.259 1.155-.46 2.515-1.394 3.984-2.996l.056-.06.063-.055c.182-.16.353-.318.514-.475C26.075 21.312 27 19.543 27 17.617 27 13.602 23.177 10 18 10z\"\n              fill-opacity=\"0.9\"\n            ></path>\n          </svg>\n          <span>回复</span>\n        </span>\n      </div>\n      <transition name=\"slide-fade\">\n        <div v-if=\"showCommentEditor\" class=\"editor-container\">\n          <CommentEditor :commentable-id=\"comment.id\" type=\"comments\" @addComment=\"addReplies\" />\n        </div>\n      </transition>\n      <div v-if=\"repliesVisible\" class=\"replies\">\n        <SubCommentItem\n          v-for=\"item in replies\"\n          :key=\"item.id\"\n          :comment=\"item\"\n          :commentable-id=\"comment.id\"\n          @addComment=\"addReplies\"\n          @deleteComment=\"deleteReplies\"\n        />\n      </div>\n      <LoadingSpinner v-if=\"state.loading\" />\n      <template v-if=\"comment.count_replies > 0 && !state.loading\">\n        <div v-if=\"!repliesVisible\" @click=\"toggleRepliesVisible\" class=\"reply-button\">\n          <span>展开{{ comment.count_replies }}条回复</span>\n          <svg width=\"13\" height=\"13\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13 13\">\n            <path\n              opacity=\"0.6\"\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M4.21 4h5.58c.28.322.28.844 0 1.166L7.506 7.759a.651.651 0 01-1.012 0L4.21 5.166A.915.915 0 014.21 4z\"\n              fill-opacity=\"0.4\"\n            ></path>\n          </svg>\n        </div>\n        <div v-else-if=\"repliesVisible && state.hasMore\" @click=\"loadReplies\" class=\"reply-button\">\n          <span>展开更多</span>\n          <svg width=\"13\" height=\"13\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13 13\">\n            <path\n              opacity=\"0.6\"\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M4.21 4h5.58c.28.322.28.844 0 1.166L7.506 7.759a.651.651 0 01-1.012 0L4.21 5.166A.915.915 0 014.21 4z\"\n              fill-opacity=\"0.4\"\n            ></path>\n          </svg>\n        </div>\n        <div v-else-if=\"repliesVisible && !state.hasMore\" @click=\"toggleRepliesVisible\" class=\"reply-button\">\n          <span>收起</span>\n          <svg width=\"13\" height=\"13\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13 13\">\n            <path\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M4.21 8h5.58a.915.915 0 000-1.166L7.506 4.241a.651.651 0 00-1.012 0L4.21 6.834A.915.915 0 004.21 8z\"\n              fill-opacity=\"0.4\"\n            ></path>\n          </svg>\n        </div>\n      </template>\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, toRefs, ref, reactive } from 'vue';\nimport { useMutation, useApolloClient } from '@vue/apollo-composable';\nimport { ElMessage } from 'element-plus';\nimport { uniqBy, debounce } from 'lodash';\nimport { exceptionCapture, errorMessage } from '@/utils';\nimport { DELETE_COMMENT_MUTATION, COMMENT_REPLIES_QUERY, useLikeMutation } from '@/graphql';\nimport CommentEditor from './CommentEditor.vue';\nimport SubCommentItem from './SubCommentItem.vue';\nimport LoadingSpinner from '../LoadingSpinner.vue';\n\nexport default {\n  components: {\n    CommentEditor,\n    SubCommentItem,\n    LoadingSpinner\n  },\n  props: {\n    comment: {\n      type: Object\n    }\n  },\n  setup(props, context) {\n    const { comment } = toRefs(props);\n    const replies = ref([]);\n    const repliesVisible = ref(false);\n\n    const { toggleLike, onError } = useLikeMutation(\n      { id: comment.value?.id, type: 'COMMENT' },\n      { fetchPolicy: 'network-only' }\n    );\n    const liked = ref(comment.value?.liked || false);\n    const likes = ref(comment.value?.likes || 0);\n\n    onError(() => {\n      liked.value = !liked.value;\n      liked.value ? likes.value++ : likes.value--;\n    });\n\n    const likeHandler = debounce(() => {\n      liked.value = !liked.value;\n      liked.value ? likes.value++ : likes.value--;\n      toggleLike();\n    }, 500);\n\n    const { mutate: deleteComment } = useMutation(DELETE_COMMENT_MUTATION, () => ({\n      variables: {\n        id: comment.value.id\n      }\n    }));\n    async function onDelete() {\n      const [err, res] = await exceptionCapture(() => deleteComment());\n      if (err) {\n        ElMessage.error('删除失败');\n      } else if (res?.data.deleteComment) {\n        context.emit('deleteComment');\n        ElMessage({\n          message: '删除成功',\n          type: 'success'\n        });\n      }\n    }\n\n    const client = useApolloClient().client;\n    const state = reactive({\n      page: 1,\n      loading: false,\n      hasMore: true\n    });\n    const loadReplies = async () => {\n      if (state.loading || !state.hasMore) {\n        return;\n      }\n      state.loading = true;\n      const [err, res] = await exceptionCapture(() =>\n        client.query({ query: COMMENT_REPLIES_QUERY, variables: { id: comment.value.id, page: state.page } })\n      );\n      const comments = res?.data?.comment?.comments;\n      const data = comments?.data;\n      const paginatorInfo = comments?.paginatorInfo;\n      state.loading = false;\n      state.page = paginatorInfo?.currentPage + 1;\n      state.hasMore = paginatorInfo?.hasMorePages;\n      if (Array.isArray(data)) {\n        replies.value = uniqBy([...replies.value, ...data], 'id');\n      }\n    };\n\n    function addReplies(comment) {\n      if (!repliesVisible.value) {\n        repliesVisible.value = true;\n      }\n      replies.value = [comment, ...replies.value];\n    }\n\n    function deleteReplies(comment) {\n      const comments = [...replies.value];\n      const index = comments.findIndex(element => element.id === comment.id);\n      if (index >= 0) {\n        comments.splice(index, 1);\n        replies.value = comments;\n      }\n    }\n\n    function toggleRepliesVisible() {\n      loadReplies();\n      repliesVisible.value = !repliesVisible.value;\n    }\n\n    return {\n      likes,\n      liked,\n      onDelete,\n      likeHandler,\n      state,\n      replies,\n      loadReplies,\n      addReplies,\n      deleteReplies,\n      repliesVisible,\n      toggleRepliesVisible\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  methods: {\n    showReportModal() {\n      this.$bus.emit('SHOW_REPORT_MODAL', { id: this.comment.id, type: 'comments', title: '举报评论' });\n    },\n    toggleCommentEditor() {\n      this.showCommentEditor = !this.showCommentEditor;\n    },\n    toggleLike() {\n      this.comment.liked ? this.comment.likes-- : this.comment.likes++;\n      this.comment.liked = !this.comment.liked;\n    }\n  },\n  data() {\n    return {\n      showCommentEditor: false\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import './commentItem.scss';\n</style>\n","<template>\n  <div class=\"comment-editor\">\n    <div v-if=\"!user.id\" class=\"not-log\">\n      <div class=\"login\" @click=\"showLoginModal\">请先<span>&nbsp;登录&nbsp;</span>后发表评论</div>\n    </div>\n    <div v-else class=\"editor\">\n      <div class=\"editor-input\">\n        <div class=\"input-container\">\n          <input\n            v-model=\"body\"\n            :disabled=\"loading\"\n            maxlength=\"120\"\n            class=\"input-root\"\n            type=\"text\"\n            placeholder=\"留下你的精彩评论吧\"\n          />\n        </div>\n      </div>\n      <div class=\"editor-toolbar\">\n        <div class=\"toolbar-menu\">\n          <span :class=\"['menu-item', body?.length > 0 ? 'active' : 'disabled']\" @click=\"onSubmit\">\n            <svg class=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36 36\">\n              <path\n                fill-rule=\"evenodd\"\n                clip-rule=\"evenodd\"\n                d=\"M17.5 30C23.851 30 29 24.851 29 18.5S23.851 7 17.5 7 6 12.149 6 18.5 11.149 30 17.5 30zm-5.16-13.883a1.16 1.16 0 001.64 1.64l2.395-2.394v8.838a1.16 1.16 0 002.321 0v-8.839l1.028 1.028 1.368 1.368a1.16 1.16 0 001.64-1.641l-4.219-4.22a1.382 1.382 0 00-1.954 0l-4.22 4.22z\"\n              ></path>\n            </svg>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, toRefs, ref, watch } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { useMutation } from '@vue/apollo-composable';\nimport { exceptionCapture, errorMessage } from '@/utils';\nimport { ADD_COMMENT_MUTATION } from '@/graphql';\n\nexport default {\n  props: {\n    commentableId: Number,\n    type: String\n  },\n  setup(props, context) {\n    const { commentableId, type } = toRefs(props);\n    const body = ref('');\n    const flag = ref(false);\n\n    const { mutate: addCommentMutate, loading } = useMutation(ADD_COMMENT_MUTATION, () => ({\n      variables: {\n        id: commentableId.value,\n        type: type.value,\n        body: body.value\n      }\n    }));\n\n    async function onSubmit() {\n      if (flag.value) {\n        return;\n      }\n      flag.value = true;\n      const [err, res] = await exceptionCapture(() => addCommentMutate());\n      flag.value = false;\n      if (err) {\n        ElMessage.error('发布失败');\n      } else if (res?.data.addComment) {\n        body.value = '';\n        context.emit('addComment', res?.data.addComment);\n        ElMessage({\n          message: '发布成功',\n          type: 'success'\n        });\n      }\n    }\n\n    return {\n      body,\n      loading,\n      addCommentMutate,\n      onSubmit\n    };\n  },\n  methods: {\n    showLoginModal() {\n      this.$bus.emit('SHOW_LOGIN_MODAL');\n    }\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  data() {\n    return {};\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.comment-editor {\n  width: 100%;\n  background-color: var(--color-bg-2);\n  border: 1 px solid var(--color-bg-2);\n  border-radius: 4px;\n  position: relative;\n  .not-log {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 44px;\n    .login {\n      color: var(--color-text-1);\n      font-size: 14px;\n      font-weight: 400;\n      line-height: 22px;\n      cursor: pointer;\n      span {\n        color: $theme-color_primary;\n      }\n    }\n  }\n  .editor {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 44px;\n  }\n}\n\n.editor-input {\n  flex: 1;\n  height: 100%;\n  overflow: hidden;\n  padding-left: 12px;\n  .input-container {\n    .input-root {\n      width: 100%;\n      padding: 11px 0;\n      font-size: 14px;\n      font-weight: 400;\n      line-height: 22px;\n    }\n  }\n}\n.editor-toolbar {\n  margin: 0 4px 0 22px;\n  .toolbar-menu {\n    margin: 4px 0;\n    display: flex;\n    .menu-item {\n      height: 36px;\n      width: 36px;\n      cursor: pointer;\n      &.active,\n      &:hover {\n        .icon {\n          fill: $theme-color_primary;\n        }\n      }\n      &.disabled {\n        cursor: not-allowed;\n      }\n      .icon {\n        height: 100%;\n        width: 100%;\n        fill: var(--color-text-3);\n      }\n    }\n  }\n}\n</style>\n","\nimport { defineComponent, toRefs, ref, watch } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { useMutation } from '@vue/apollo-composable';\nimport { exceptionCapture, errorMessage } from '@/utils';\nimport { ADD_COMMENT_MUTATION } from '@/graphql';\n\nexport default {\n  props: {\n    commentableId: Number,\n    type: String\n  },\n  setup(props, context) {\n    const { commentableId, type } = toRefs(props);\n    const body = ref('');\n    const flag = ref(false);\n\n    const { mutate: addCommentMutate, loading } = useMutation(ADD_COMMENT_MUTATION, () => ({\n      variables: {\n        id: commentableId.value,\n        type: type.value,\n        body: body.value\n      }\n    }));\n\n    async function onSubmit() {\n      if (flag.value) {\n        return;\n      }\n      flag.value = true;\n      const [err, res] = await exceptionCapture(() => addCommentMutate());\n      flag.value = false;\n      if (err) {\n        ElMessage.error('发布失败');\n      } else if (res?.data.addComment) {\n        body.value = '';\n        context.emit('addComment', res?.data.addComment);\n        ElMessage({\n          message: '发布成功',\n          type: 'success'\n        });\n      }\n    }\n\n    return {\n      body,\n      loading,\n      addCommentMutate,\n      onSubmit\n    };\n  },\n  methods: {\n    showLoginModal() {\n      this.$bus.emit('SHOW_LOGIN_MODAL');\n    }\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  data() {\n    return {};\n  }\n};\n","import { render } from \"./CommentEditor.vue?vue&type=template&id=415c9c6c&scoped=true\"\nimport script from \"./CommentEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./CommentEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./CommentEditor.vue?vue&type=style&index=0&id=415c9c6c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-415c9c6c\"\n\nexport default script","<template>\n  <div class=\"comment-item\" :data-id=\"comment.id\">\n    <div class=\"user-face\">\n      <a :href=\"`/user/${comment.user.id}`\" :data-usercard-mid=\"comment.user.id\">\n        <div class=\"user-avatar\">\n          <img class=\"avatar-img\" :src=\"comment.user.avatar\" alt=\"头像\" />\n        </div>\n      </a>\n    </div>\n    <div class=\"item-content\">\n      <div class=\"user-item\">\n        <div class=\"user-info\">\n          <a :href=\"`/user/${comment.user.id}`\" class=\"name\">{{ comment.user.name }}</a>\n          <span class=\"time\">{{ comment.time_ago }}</span>\n        </div>\n        <el-popover placement=\"bottom-end\" trigger=\"hover\" :show-arrow=\"false\">\n          <template #reference>\n            <div class=\"operation\">\n              <svg\n                t=\"1634525354353\"\n                class=\"icon\"\n                viewBox=\"0 0 1024 1024\"\n                version=\"1.1\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                p-id=\"2378\"\n              >\n                <path\n                  d=\"M146.030911 517.349845m-87.923492 0a87.923492 87.923492 0 1 0 175.846984 0 87.923492 87.923492 0 1 0-175.846984 0Z\"\n                  fill=\"\"\n                  p-id=\"2379\"\n                ></path>\n                <path\n                  d=\"M512 512m-87.923492 0a87.923492 87.923492 0 1 0 175.846984 0 87.923492 87.923492 0 1 0-175.846984 0Z\"\n                  fill=\"\"\n                  p-id=\"2380\"\n                ></path>\n                <path\n                  d=\"M873.565802 512m-87.923491 0a87.923492 87.923492 0 1 0 175.846983 0 87.923492 87.923492 0 1 0-175.846983 0Z\"\n                  fill=\"\"\n                  p-id=\"2381\"\n                ></path>\n              </svg>\n            </div>\n          </template>\n          <div class=\"operation-popover\">\n            <div v-if=\"user.id === comment.user.id\" @click=\"onDelete\" class=\"op-item\">\n              <span class=\"item-text\">删除评论</span>\n            </div>\n            <div v-else @click=\"showReportModal\" class=\"op-item\">\n              <span class=\"item-text\">举报评论</span>\n            </div>\n          </div>\n        </el-popover>\n      </div>\n      <p class=\"body-text\">{{ comment.body }}</p>\n      <div class=\"item-tools\">\n        <span class=\"tool-btn\" v-auth:click=\"likeHandler\">\n          <svg v-if=\"liked\" class=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36 36\">\n            <path\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M18.215 9.392C19.313 7.827 21.116 7 23.1 7c3.778 0 6.921 3.278 6.921 7.175v.001l-.002.256c-.002.085-.003.128.003.142-.014.82-.156 1.497-.407 2.391-.143.161-.275.464-.407.798-.209.323-.287.48-.408.797a15.27 15.27 0 01-.31.499c-1.027 1.585-2.428 3.168-3.825 4.565-2.1 2.114-4.232 3.872-5.163 4.64-.258.212-.424.349-.47.396-.332.33-.663.34-.994.34h-.028c-.68 0-1.02-.34-1.36-.68a3.126 3.126 0 00-.192-.16c-1.032-.761-3.366-2.627-5.553-4.876-1.656-1.687-3.248-3.62-4.122-5.51-.34-.681-.764-2.301-.784-3.2.007-.007.006-.05.004-.137-.002-.063-.004-.15-.004-.262C6 10.276 9.141 7 12.922 7c1.98 0 3.785.827 5.293 2.392z\"\n              fill=\"#ff1459\"\n              fill-opacity=\"0.9\"\n            ></path>\n          </svg>\n          <svg v-else class=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36 36\">\n            <path\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M13.836 7C9.49 7 6 10.726 6 15.064c0 .108.002.194.003.253a1.62 1.62 0 00-.003.14c.013.582.146 1.284.293 1.87.143.572.344 1.208.57 1.668.907 1.952 2.495 3.846 4.023 5.402a46.034 46.034 0 005.138 4.51l.03.025.023.018c.339.34 1.055 1.05 2.331 1.05h.038c.361 0 1.224 0 1.996-.752l.063-.053.273-.227.006-.005c.847-.698 2.828-2.33 4.782-4.301 1.25-1.254 2.547-2.71 3.538-4.214.135-.204.265-.41.388-.617.049-.08.09-.166.123-.255.044-.115.065-.16.082-.194.019-.037.05-.093.131-.219.057-.089.106-.183.145-.281.055-.14.095-.235.127-.299l.006-.013a1.62 1.62 0 00.285-.562c.243-.863.41-1.623.426-2.558 0-.043 0-.086-.003-.129a10.365 10.365 0 00.003-.31C30.788 10.697 27.308 7 22.98 7c-1.641 0-3.238.508-4.498 1.532C17.119 7.545 15.547 7 13.836 7zm13.744 8.066v.042l-.002.15v.008l-.002.137c0 .015 0 .041.002.074-.014.44-.084.837-.233 1.402a3.667 3.667 0 00-.151.278c-.064.13-.122.265-.174.39a4.472 4.472 0 00-.376.738c-.076.125-.156.25-.24.378l-.002.002c-.823 1.25-1.954 2.534-3.13 3.713l-.003.003c-1.835 1.851-3.712 3.4-4.55 4.09l-.062.051-.235.195-.092-.091a3.812 3.812 0 00-.294-.254l-.012-.01a42.76 42.76 0 01-4.82-4.226l-.006-.006c-1.452-1.477-2.736-3.062-3.406-4.512a1.665 1.665 0 00-.021-.046c-.075-.15-.213-.533-.338-1.033a6.736 6.736 0 01-.193-1.074 1.837 1.837 0 000-.2v-.008a6.941 6.941 0 01-.003-.193c0-2.667 2.154-4.827 4.6-4.827 1.285 0 2.5.523 3.588 1.653a1.618 1.618 0 002.491-.193c.642-.914 1.732-1.46 3.064-1.46 2.444 0 4.6 2.162 4.6 4.827v.002z\"\n              fill-opacity=\"0.9\"\n            ></path>\n          </svg>\n          <span>{{ likes }}</span>\n        </span>\n        <div class=\"split\"></div>\n        <span class=\"tool-btn\" v-auth:click=\"toggleCommentEditor\">\n          <svg class=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36 36\">\n            <path\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M6 17.617C6 11.561 11.578 7 18 7s12 4.561 12 10.617c0 3.036-1.51 5.529-3.749 7.728-.187.184-.381.364-.58.54-1.925 2.082-3.911 3.417-5.847 3.973-.77.221-1.702.242-2.454-.381-.68-.564-.837-1.361-.878-1.823a3.848 3.848 0 01-.01-.136C10.898 26.91 6 23.264 6 17.617zM18 10c-5.177 0-9 3.602-9 7.617 0 3.867 3.794 6.992 9.152 6.992h1.5v1.717l-.06.206c0-.001-.03.104-.06.259 1.155-.46 2.515-1.394 3.984-2.996l.056-.06.063-.055c.182-.16.353-.318.514-.475C26.075 21.312 27 19.543 27 17.617 27 13.602 23.177 10 18 10z\"\n              fill-opacity=\"0.9\"\n            ></path>\n          </svg>\n          <span>回复</span>\n        </span>\n      </div>\n      <transition name=\"slide-fade\">\n        <div v-if=\"showCommentEditor\" class=\"editor-container\">\n          <CommentEditor :commentable-id=\"commentableId\" type=\"comments\" @addComment=\"updateReplies\" />\n        </div>\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { toRefs, ref } from 'vue';\nimport { useMutation } from '@vue/apollo-composable';\nimport { ElMessage } from 'element-plus';\nimport { debounce } from 'lodash';\nimport { exceptionCapture } from '@/utils';\nimport { DELETE_COMMENT_MUTATION, useLikeMutation } from '@/graphql';\nimport CommentEditor from './CommentEditor.vue';\n\nexport default {\n  components: {\n    CommentEditor\n  },\n  props: {\n    commentableId: {\n      type: Number\n    },\n    comment: {\n      type: Object\n    }\n  },\n  setup(props, context) {\n    const { comment } = toRefs(props);\n\n    const { mutate: deleteComment } = useMutation(DELETE_COMMENT_MUTATION, () => ({\n      variables: {\n        id: comment.value.id\n      }\n    }));\n    async function onDelete() {\n      const [err, res] = await exceptionCapture(() => deleteComment());\n      if (err) {\n        ElMessage.error('删除失败');\n      } else if (res?.data.deleteComment) {\n        context.emit('deleteComment', comment.value);\n        ElMessage({\n          message: '删除成功',\n          type: 'success'\n        });\n      }\n    }\n\n    const { toggleLike, onError } = useLikeMutation(\n      { id: comment.value?.id, type: 'COMMENT' },\n      { fetchPolicy: 'network-only' }\n    );\n    const liked = ref(comment.value?.liked || false);\n    const likes = ref(comment.value?.likes || 0);\n\n    onError(() => {\n      liked.value = !liked.value;\n      liked.value ? likes.value++ : likes.value--;\n    });\n\n    const likeHandler = debounce(() => {\n      liked.value = !liked.value;\n      liked.value ? likes.value++ : likes.value--;\n      toggleLike();\n    }, 500);\n\n    function updateReplies(comment) {\n      context.emit('addComment', comment);\n    }\n\n    return {\n      liked,\n      likes,\n      onDelete,\n      likeHandler,\n      updateReplies\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  methods: {\n    showReportModal() {\n      this.$bus.emit('SHOW_REPORT_MODAL', { id: this.comment.id, type: 'comments', title: '举报评论' });\n    },\n    toggleCommentEditor() {\n      this.showCommentEditor = !this.showCommentEditor;\n    }\n  },\n  data() {\n    return {\n      showCommentEditor: false\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import './commentItem.scss';\n</style>\n","import { render } from \"./SubCommentItem.vue?vue&type=template&id=533331cf&scoped=true\"\nimport script from \"./SubCommentItem.vue?vue&type=script&lang=js\"\nexport * from \"./SubCommentItem.vue?vue&type=script&lang=js\"\n\nimport \"./SubCommentItem.vue?vue&type=style&index=0&id=533331cf&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-533331cf\"\n\nexport default script","import { render } from \"./CommentItem.vue?vue&type=template&id=1e88060a&scoped=true\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js\"\n\nimport \"./CommentItem.vue?vue&type=style&index=0&id=1e88060a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1e88060a\"\n\nexport default script","\nimport { toRefs, ref } from 'vue';\nimport { useApolloClient, useQuery, useResult } from '@vue/apollo-composable';\nimport { COMMENTS_QUERY } from '@/graphql';\nimport CommentItem from './CommentItem.vue';\nimport CommentEditor from './CommentEditor.vue';\nimport LoadingSpinner from '../LoadingSpinner.vue';\nimport Skeleton from '../Skeleton.vue';\nimport Empty from '../Empty.vue';\n\nexport default {\n  components: {\n    CommentItem,\n    CommentEditor,\n    LoadingSpinner,\n    Skeleton,\n    Empty\n  },\n  props: {\n    commentableId: {\n      type: Number\n    },\n    type: {\n      type: String,\n      default: () => {\n        return 'movies';\n      }\n    }\n  },\n  setup(props) {\n    const { commentableId, type } = toRefs(props);\n    const currentPage = ref(1);\n    function onPageChange(page: number) {\n      currentPage.value = page;\n    }\n\n    const { result, loading, refetch } = useQuery(\n      COMMENTS_QUERY,\n      {\n        type,\n        id: commentableId,\n        page: currentPage\n      },\n      { fetchPolicy: 'network-only' }\n    );\n    const data = useResult(result, {}, (data: any) => data?.comments?.data);\n    const total = useResult(result, {}, (data: any) => data?.comments?.paginatorInfo?.total);\n\n    const { resolveClient } = useApolloClient();\n    function addComment(comment) {\n      const client = resolveClient();\n      const data = client.readQuery({\n        query: COMMENTS_QUERY,\n        variables: { type: type.value, id: commentableId.value, page: currentPage.value }\n      });\n      const commentsdata = [...data.comments.data];\n      const paginatorInfo = { ...data.comments.paginatorInfo };\n      if (commentsdata.length > 0) {\n        commentsdata.splice(9, 1);\n      }\n      commentsdata.unshift(comment);\n      client.writeQuery({\n        query: COMMENTS_QUERY,\n        variables: { type: type.value, id: commentableId.value, page: currentPage.value },\n        data: {\n          ...data,\n          comments: Object.assign({}, data.comments, {\n            data: commentsdata,\n            paginatorInfo: {\n              ...paginatorInfo,\n              total: paginatorInfo.total + 1\n            }\n          })\n        }\n      });\n    }\n\n    return {\n      loading,\n      data,\n      total,\n      onPageChange,\n      refetch,\n      addComment\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  methods: {\n    showLoginModal() {\n      this.$bus.emit('SHOW_LOGIN_MODAL');\n    }\n  }\n};\n","import { render } from \"./CommentModule.vue?vue&type=template&id=6e3f7528&scoped=true\"\nimport script from \"./CommentModule.vue?vue&type=script&lang=ts\"\nexport * from \"./CommentModule.vue?vue&type=script&lang=ts\"\n\nimport \"./CommentModule.vue?vue&type=style&index=0&id=6e3f7528&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6e3f7528\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./FeedbackEditor.vue?vue&type=style&index=0&id=5e5c91bc&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./LoginModal.vue?vue&type=style&index=1&id=6610db17&lang=scss&scoped=true\"","<template>\n  <div id=\"masthead\">\n    <header class=\"header\">\n      <div class=\"navigation\">\n        <div class=\"nav-item left\">\n          <a v-if=\"back\" class=\"nav-button\" @click=\"goBack\">\n            <img class=\"nav-icon\" src=\"/img/back.svg\" />\n          </a>\n          <router-link v-else class=\"nav-button\" to=\"/\">\n            <img class=\"nav-icon\" :src=\"logoIconUrl\" />\n          </router-link>\n        </div>\n        <div class=\"nav-title\">\n          <h2>{{ title }}</h2>\n        </div>\n        <div class=\"nav-item item\">\n          <slot name=\"right\"></slot>\n        </div>\n      </div>\n    </header>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { LOGO_ICON_URL } from '@/config';\n\nexport default {\n  props: ['title', 'back'],\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  methods: {\n    goBack() {\n      try {\n        this.$router.back();\n      } catch (error) {\n        this.$router.replace('/');\n      }\n    }\n  },\n  data() {\n    return {\n      logoIconUrl: LOGO_ICON_URL\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.navigation {\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  position: relative;\n}\n\n.nav-item {\n  display: flex;\n  align-items: center;\n  height: calc(var(--header-height) * 0.6);\n  position: absolute;\n  &.left {\n    left: 0;\n  }\n  &.right {\n    right: 0;\n  }\n}\n\n.nav-title {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 17px;\n  font-weight: 500;\n  color: var(--color-text-0);\n}\n\n.nav-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.nav-icon {\n  height: calc(var(--header-height) * 0.6);\n}\n</style>\n","\nimport { LOGO_ICON_URL } from '@/config';\n\nexport default {\n  props: ['title', 'back'],\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  methods: {\n    goBack() {\n      try {\n        this.$router.back();\n      } catch (error) {\n        this.$router.replace('/');\n      }\n    }\n  },\n  data() {\n    return {\n      logoIconUrl: LOGO_ICON_URL\n    };\n  }\n};\n","import { render } from \"./Header.vue?vue&type=template&id=8fbd30ec&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=ts\"\nexport * from \"./Header.vue?vue&type=script&lang=ts\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=8fbd30ec&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-8fbd30ec\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./FeedbackModal.vue?vue&type=style&index=0&id=15c178d7&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./Masthead.vue?vue&type=style&index=1&id=5aa40e8a&lang=scss\"","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker';\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        'App is being served from cache by a service worker.\\n' + 'For more details, visit https://goo.gl/AFskqB'\n      );\n    },\n    registered() {\n      console.log('Service worker has been registered.');\n    },\n    cached() {\n      console.log('Content has been cached for offline use.');\n    },\n    updatefound() {\n      console.log('New content is downloading.');\n    },\n    updated() {\n      console.log('New content is available; please refresh.');\n    },\n    offline() {\n      console.log('No internet connection found. App is running in offline mode.');\n    },\n    error(error) {\n      console.error('Error during service worker registration:', error);\n    }\n  });\n}\n","<template>\n  <Masthead />\n  <div id=\"homepage\">\n    <router-view />\n    <Footer />\n  </div>\n  <div id=\"bottom-navbar\" class=\"show-md\">\n    <NavBar />\n  </div>\n  <SideBar />\n</template>\n\n<script lang=\"ts\">\nimport NavBar from '@/views/parts/NavBar.vue';\n\nexport default {\n  components: {\n    NavBar\n  },\n  setup(props) {}\n};\n</script>\n\n<style lang=\"scss\">\n#homepage {\n  @media (max-width: $col-sm-width - 1px) {\n    padding-bottom: var(--navbar-height);\n  }\n  flex: 1;\n  position: relative;\n}\n#bottom-navbar {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n}\n</style>\n","<template>\n  <div class=\"navbar\">\n    <div class=\"nav-wrap\">\n      <nav class=\"navigator\" role=\"navigation\">\n        <router-link class=\"nav-item\" to=\"/\">\n          <div class=\"item-label\">\n            <div class=\"icon-wrap\">\n              <svg viewBox=\"0 0 24 24\">\n                <g>\n                  <path\n                    d=\"M22.46 7.57L12.357 2.115c-.223-.12-.49-.12-.713 0L1.543 7.57c-.364.197-.5.652-.303 1.017.135.25.394.393.66.393.12 0 .243-.03.356-.09l.815-.44L4.7 19.963c.214 1.215 1.308 2.062 2.658 2.062h9.282c1.352 0 2.445-.848 2.663-2.087l1.626-11.49.818.442c.364.193.82.06 1.017-.304.196-.363.06-.818-.304-1.016zm-4.638 12.133c-.107.606-.703.822-1.18.822H7.36c-.48 0-1.075-.216-1.178-.798L4.48 7.69 12 3.628l7.522 4.06-1.7 12.015z\"\n                  ></path>\n                  <path\n                    d=\"M8.22 12.184c0 2.084 1.695 3.78 3.78 3.78s3.78-1.696 3.78-3.78-1.695-3.78-3.78-3.78-3.78 1.696-3.78 3.78zm6.06 0c0 1.258-1.022 2.28-2.28 2.28s-2.28-1.022-2.28-2.28 1.022-2.28 2.28-2.28 2.28 1.022 2.28 2.28z\"\n                  ></path>\n                </g>\n              </svg>\n              <svg viewBox=\"0 0 24 24\">\n                <g>\n                  <path\n                    d=\"M22.58 7.35L12.475 1.897c-.297-.16-.654-.16-.95 0L1.425 7.35c-.486.264-.667.87-.405 1.356.18.335.525.525.88.525.16 0 .324-.038.475-.12l.734-.396 1.59 11.25c.216 1.214 1.31 2.062 2.66 2.062h9.282c1.35 0 2.444-.848 2.662-2.088l1.588-11.225.737.398c.485.263 1.092.082 1.354-.404.263-.486.08-1.093-.404-1.355zM12 15.435c-1.795 0-3.25-1.455-3.25-3.25s1.455-3.25 3.25-3.25 3.25 1.455 3.25 3.25-1.455 3.25-3.25 3.25z\"\n                  ></path>\n                </g>\n              </svg>\n            </div>\n          </div>\n        </router-link>\n        <router-link class=\"nav-item\" to=\"/category\">\n          <div class=\"item-label\">\n            <div class=\"icon-wrap\">\n              <svg viewBox=\"0 0 24 24\">\n                <g>\n                  <path\n                    d=\"M19.75 22H4.25C3.01 22 2 20.99 2 19.75V4.25C2 3.01 3.01 2 4.25 2h15.5C20.99 2 22 3.01 22 4.25v15.5c0 1.24-1.01 2.25-2.25 2.25zM4.25 3.5c-.414 0-.75.337-.75.75v15.5c0 .413.336.75.75.75h15.5c.414 0 .75-.337.75-.75V4.25c0-.413-.336-.75-.75-.75H4.25z\"\n                  ></path>\n                  <path\n                    d=\"M17 8.64H7c-.414 0-.75-.337-.75-.75s.336-.75.75-.75h10c.414 0 .75.335.75.75s-.336.75-.75.75zm0 4.11H7c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h10c.414 0 .75.336.75.75s-.336.75-.75.75zm-5 4.11H7c-.414 0-.75-.335-.75-.75s.336-.75.75-.75h5c.414 0 .75.337.75.75s-.336.75-.75.75z\"\n                  ></path>\n                </g>\n              </svg>\n              <svg viewBox=\"0 0 24 24\">\n                <g>\n                  <path\n                    d=\"M19.75 2H4.25C3.013 2 2 3.013 2 4.25v15.5C2 20.987 3.013 22 4.25 22h15.5c1.237 0 2.25-1.013 2.25-2.25V4.25C22 3.013 20.987 2 19.75 2zM11 16.75H7c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h4c.414 0 .75.336.75.75s-.336.75-.75.75zm6-4H7c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h10c.414 0 .75.336.75.75s-.336.75-.75.75zm0-4H7c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h10c.414 0 .75.336.75.75s-.336.75-.75.75z\"\n                  ></path>\n                </g>\n              </svg>\n            </div>\n          </div>\n        </router-link>\n        <router-link class=\"nav-item\" to=\"/videos\">\n          <div class=\"item-label\">\n            <div class=\"icon-wrap\">\n              <svg viewBox=\"0 0 1024 1024\">\n                <path\n                  d=\"M512 992C247.3 992 32 776.7 32 512S247.3 32 512 32s480 215.3 480 480-215.3 480-480 480z m0-896C282.6 96 96 282.6 96 512s186.6 416 416 416 416-186.6 416-416S741.4 96 512 96z\"\n                  p-id=\"5008\"\n                ></path>\n                <path\n                  d=\"M352 704c-8.3 0-16.5-3.3-22.6-9.4-8.6-8.6-11.6-21.3-7.7-32.8l80-240c3.2-9.5 10.7-17 20.2-20.2l240-80c11.5-3.9 24.2-0.9 32.8 7.7 8.6 8.6 11.6 21.3 7.7 32.8l-80 240c-3.2 9.5-10.7 17-20.2 20.2l-240 80c-3.4 1.2-6.8 1.7-10.2 1.7z m105.3-246.7l-54.7 164.1 164.1-54.7 54.7-164.1-164.1 54.7zM592 592h0.3-0.3z\"\n                  p-id=\"5009\"\n                ></path>\n              </svg>\n              <svg viewBox=\"0 0 1024 1024\">\n                <path\n                  d=\"M512 0A512 512 0 1 1 0 512 512 512 0 0 1 512 0z m179.439252 267.364486l-260.186916 93.906542a115.439252 115.439252 0 0 0-69.383177 69.383178l-94.504673 260.186915a51.140187 51.140187 0 0 0 65.495327 65.495328l260.485981-93.607477a115.439252 115.439252 0 0 0 69.383178-69.383178l93.607477-260.485981a51.140187 51.140187 0 0 0-65.495328-65.495327z m-179.439252 308.635514A64 64 0 1 0 448.598131 512a64 64 0 0 0 64 64z\"\n                  p-id=\"5903\"\n                ></path>\n              </svg>\n            </div>\n          </div>\n        </router-link>\n        <router-link class=\"nav-item\" :to=\"user.id ? `/profile` : '/login'\">\n          <div class=\"item-label\">\n            <div class=\"icon-wrap\">\n              <svg viewBox=\"0 0 24 24\">\n                <g>\n                  <path\n                    d=\"M12 11.816c1.355 0 2.872-.15 3.84-1.256.814-.93 1.078-2.368.806-4.392-.38-2.825-2.117-4.512-4.646-4.512S7.734 3.343 7.354 6.17c-.272 2.022-.008 3.46.806 4.39.968 1.107 2.485 1.256 3.84 1.256zM8.84 6.368c.162-1.2.787-3.212 3.16-3.212s2.998 2.013 3.16 3.212c.207 1.55.057 2.627-.45 3.205-.455.52-1.266.743-2.71.743s-2.255-.223-2.71-.743c-.507-.578-.657-1.656-.45-3.205zm11.44 12.868c-.877-3.526-4.282-5.99-8.28-5.99s-7.403 2.464-8.28 5.99c-.172.692-.028 1.4.395 1.94.408.52 1.04.82 1.733.82h12.304c.693 0 1.325-.3 1.733-.82.424-.54.567-1.247.394-1.94zm-1.576 1.016c-.126.16-.316.246-.552.246H5.848c-.235 0-.426-.085-.552-.246-.137-.174-.18-.412-.12-.654.71-2.855 3.517-4.85 6.824-4.85s6.114 1.994 6.824 4.85c.06.242.017.48-.12.654z\"\n                  ></path>\n                </g>\n              </svg>\n              <svg viewBox=\"0 0 24 24\">\n                <g>\n                  <path\n                    d=\"M12.225 12.165c-1.356 0-2.872-.15-3.84-1.256-.814-.93-1.077-2.368-.805-4.392.38-2.826 2.116-4.513 4.646-4.513s4.267 1.687 4.646 4.513c.272 2.024.008 3.46-.806 4.392-.97 1.106-2.485 1.255-3.84 1.255zm5.849 9.85H6.376c-.663 0-1.25-.28-1.65-.786-.422-.534-.576-1.27-.41-1.968.834-3.53 4.086-5.997 7.908-5.997s7.074 2.466 7.91 5.997c.164.698.01 1.434-.412 1.967-.4.505-.985.785-1.648.785z\"\n                  ></path>\n                </g>\n              </svg>\n            </div>\n          </div>\n        </router-link>\n      </nav>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$icon-width: calc(var(--navbar-height) / 2);\n\n.navbar {\n  width: 100%;\n  position: relative;\n}\n.nav-wrap {\n  padding-bottom: env(safe-area-inset-bottom);\n  box-shadow: 0 -2px 4px 0 rgb(0 0 0 / 8%);\n  background-color: var(--color-page-bg);\n}\n.navigator {\n  display: flex;\n  height: var(--navbar-height);\n}\n.nav-item {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  &.router-link-exact-active {\n    svg {\n      display: none;\n      &:last-child {\n        display: block;\n      }\n    }\n  }\n}\n.item-label {\n  padding: 8px;\n}\n.icon-wrap {\n  width: $icon-width;\n  height: $icon-width;\n  svg {\n    width: 100%;\n    height: 100%;\n    fill: var(--color-text-0);\n    &:last-child {\n      display: none;\n    }\n  }\n}\n</style>\n","import { render } from \"./NavBar.vue?vue&type=template&id=1fa122cd&scoped=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=1fa122cd&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1fa122cd\"\n\nexport default script","\nimport NavBar from '@/views/parts/NavBar.vue';\n\nexport default {\n  components: {\n    NavBar\n  },\n  setup(props) {}\n};\n","import { render } from \"./Home.vue?vue&type=template&id=bfeeab6a\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=bfeeab6a&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <div id=\"recommend\">\n    <div class=\"fluid-content\">\n      <Skeleton v-if=\"sticksData?.length < 1\" type=\"movies\" />\n      <template v-else>\n        <div class=\"module-wrap\">\n          <GridMovies\n            title=\"电视剧\"\n            sideTitle=\"电视剧热播榜单\"\n            :movies=\"sticksData?.[0]?.editorChoice?.movies?.data\"\n            :sideMovies=\"sticksData?.[1]?.editorChoice?.movies?.data\"\n          />\n        </div>\n        <div class=\"module-wrap\">\n          <GridMovies\n            title=\"电影\"\n            sideTitle=\"电影热播榜单\"\n            :movies=\"sticksData?.[2]?.editorChoice?.movies?.data\"\n            :sideMovies=\"sticksData?.[3]?.editorChoice?.movies?.data\"\n          />\n        </div>\n        <div class=\"module-wrap\">\n          <GridMovies\n            title=\"动漫\"\n            sideTitle=\"动漫热播榜单\"\n            :movies=\"sticksData?.[4]?.editorChoice?.movies?.data\"\n            :sideMovies=\"sticksData?.[5]?.editorChoice?.movies?.data\"\n          />\n        </div>\n        <template v-for=\"(item, index) in tvSeries\" :key=\"item.id\">\n          <div class=\"module-wrap\" v-if=\"item?.editorChoice?.movies?.data?.length > 0\">\n            <ColumnMovies :title=\"tvSeriesTitle[index]\" :movies=\"item?.editorChoice?.movies?.data\" />\n          </div>\n        </template>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { ref } from 'vue';\nimport { useQuery, useResult } from '@vue/apollo-composable';\nimport { STICKS_QUERY } from '@/graphql';\nimport Skeleton from '@/components/Skeleton.vue';\nimport MovieItem from '@/components/MovieItem.vue';\nimport ColumnMovies from '@/views/parts/ColumnMovies.vue';\nimport GridMovies from '@/views/parts/GridMovies.vue';\n\nexport default {\n  components: {\n    Skeleton,\n    MovieItem,\n    ColumnMovies,\n    GridMovies\n  },\n  setup(props) {\n    const variables = ref({\n      place: '网站首页推荐'\n    });\n    const { result, loading, error } = useQuery(STICKS_QUERY, variables);\n    const sticksData = useResult(result, [], (data: any) => data?.sticks?.data);\n    // const activities = useResult(sticksData, [], (data: any) => data?.[0]?.editorChoice?.activities);\n    const tvSeries = useResult(sticksData, [], (data: any) => data?.slice(6));\n    const tvSeriesTitle = ref(['韩剧', '美剧', '日剧', '综艺']);\n\n    return {\n      error,\n      loading,\n      sticksData,\n      tvSeries,\n      tvSeriesTitle\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#recommend {\n  margin-top: var(--list-item-margin);\n  overflow-x: auto;\n  overflow-y: auto;\n}\n.module-wrap {\n  margin-bottom: var(--content-margin);\n  overflow: hidden;\n}\n\n// .carousel-wrap {\n//   position: relative;\n//   padding-bottom: 60%;\n//   .carousel-mod {\n//     display: block;\n//     position: absolute;\n//     width: 100%;\n//     height: 100%;\n//     background-color: #f1f2f5;\n//     .el-carousel {\n//       width: 100%;\n//       height: 100%;\n//       overflow: hidden;\n//       .el-carousel__item {\n//         .carousel-img {\n//           width: 100%;\n//         }\n//       }\n//     }\n//   }\n// }\n</style>\n","<template>\n  <div class=\"movie-item\">\n    <a class=\"figure\" :href=\"`/movie/${movie.id}`\" :title=\"movie.name\">\n      <div class=\"figure-pic\">\n        <img v-lazyload=\"movie.cover\" />\n      </div>\n      <div class=\"figure-tag\">\n        <div v-if=\"tag\" :class=\"['content-pack-tag', `tag-${tag.color}`]\">\n          {{ tag.name }}\n        </div>\n      </div>\n      <div class=\"figure-caption\">\n        <span v-if=\"movie.count_series > 2\" class=\"video-duration\">\n          {{ movie.finished ? '全' : '更新至' }}{{ movie.count_series }}集\n        </span>\n        <span v-if=\"movie.score\" class=\"movie-score hide-xs\">{{ movie.score }}</span>\n      </div>\n    </a>\n    <div class=\"detail\">\n      <a class=\"detail-title text-ellipsis\" :href=\"`/movie/${movie.id}`\" :title=\"movie.name\">\n        {{ movie.name }}\n      </a>\n      <p class=\"detail-desc text-ellipsis\">\n        {{ movie.introduction ?? movie.actors }}\n      </p>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { MovieItemInterface } from '@/graphql/schema';\n\nconst Tags = {\n  剧情: {\n    name: '剧集',\n    color: 'blue'\n  },\n  电视剧: {\n    name: '剧集',\n    color: 'blue'\n  },\n  电影: {\n    name: '电影',\n    color: 'red'\n  },\n  综艺: {\n    name: '综艺',\n    color: 'yellow'\n  },\n  真人秀: {\n    name: '综艺',\n    color: 'yellow'\n  }\n};\n\nexport default {\n  props: {\n    movie: Object as () => MovieItemInterface\n  },\n  computed: {\n    tag() {\n      const types = this.movie?.type?.split(',');\n      let movieTag = '';\n      if (Array.isArray(types)) {\n        for (const val of types) {\n          if (val) {\n            movieTag = Tags[val];\n          }\n        }\n      }\n      return movieTag;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.movie-item {\n  width: 100%;\n\n  .figure {\n    display: block;\n    width: 100%;\n    padding-top: 140%;\n    border-radius: 8px;\n    overflow: hidden;\n    position: relative;\n    box-shadow: 0 2px 4px rgb(40 40 40 / 10%);\n    transition: box-shadow 0.15s linear, transform ease-out 0.35s;\n    &:hover {\n      box-shadow: 0 4px 8px rgb(40 40 40 / 20%);\n      transform: translateY(-5%);\n    }\n    .figure-pic {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: var(--color-bg-1);\n      img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n      }\n    }\n    .figure-tag {\n      position: absolute;\n      right: 0;\n      top: 0;\n      color: #fff;\n      z-index: 15;\n    }\n    .figure-caption {\n      position: absolute;\n      left: 0;\n      bottom: 0;\n      right: 0;\n      padding: 5px 10px;\n      background-repeat: no-repeat;\n      background-image: linear-gradient(transparent, rgba(0, 0, 0, 0.5));\n      .video-duration {\n        font-size: 12px;\n        font-weight: 500;\n        line-height: 1.4rem;\n        color: #fff;\n        overflow: hidden;\n      }\n      .movie-score {\n        float: right;\n        font-size: 18px;\n        font-weight: 700;\n        line-height: 1.8rem;\n        color: $theme-color_secondary;\n        overflow: hidden;\n      }\n    }\n  }\n  .detail {\n    .detail-title {\n      margin: 12px 0 6px;\n      display: block;\n      font-size: 1.4rem;\n      line-height: 2rem;\n      font-weight: 500;\n      color: var(--color-text-0);\n      @media (max-width: $col-sm-width - 1px) {\n        font-size: 1.3rem;\n      }\n      &:hover {\n        color: $theme-color_primary;\n      }\n    }\n    .detail-desc {\n      display: block;\n      font-size: 1.3rem;\n      line-height: 1.6rem;\n      color: var(--color-text-3);\n      @media (max-width: $col-sm-width - 1px) {\n        font-size: 1.2rem;\n      }\n      &:hover {\n        color: var(--color-text-2);\n      }\n    }\n  }\n  @media screen and (max-width: $col-sm-width - 1px) {\n    .figure {\n      .figure-caption {\n        padding: 5px 6px;\n      }\n    }\n  }\n}\n</style>\n","\nimport { MovieItemInterface } from '@/graphql/schema';\n\nconst Tags = {\n  剧情: {\n    name: '剧集',\n    color: 'blue'\n  },\n  电视剧: {\n    name: '剧集',\n    color: 'blue'\n  },\n  电影: {\n    name: '电影',\n    color: 'red'\n  },\n  综艺: {\n    name: '综艺',\n    color: 'yellow'\n  },\n  真人秀: {\n    name: '综艺',\n    color: 'yellow'\n  }\n};\n\nexport default {\n  props: {\n    movie: Object as () => MovieItemInterface\n  },\n  computed: {\n    tag() {\n      const types = this.movie?.type?.split(',');\n      let movieTag = '';\n      if (Array.isArray(types)) {\n        for (const val of types) {\n          if (val) {\n            movieTag = Tags[val];\n          }\n        }\n      }\n      return movieTag;\n    }\n  }\n};\n","import { render } from \"./MovieItem.vue?vue&type=template&id=49213a35&scoped=true\"\nimport script from \"./MovieItem.vue?vue&type=script&lang=ts\"\nexport * from \"./MovieItem.vue?vue&type=script&lang=ts\"\n\nimport \"./MovieItem.vue?vue&type=style&index=0&id=49213a35&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-49213a35\"\n\nexport default script","<template>\n  <div class=\"module-column\" :data-rowcount=\"rowCount\" :data-count=\"movies.length\">\n    <div v-if=\"!!title\" class=\"mod-header\">\n      <div class=\"mod-title text-ellipsis\">\n        {{ title }}\n      </div>\n      <div class=\"mod-paging\" v-if=\"totalPage > 1\">\n        <button @click=\"prev\" :class=\"['btn_prev', currentPage === 1 && 'disabled']\" title=\"上一页\">\n          <svg class=\"svg_icon svg_icon_prev\" viewBox=\"0 0 6 10\" width=\"6\" height=\"10\">\n            <path\n              d=\"M1.4 4.7L5 1M1.3 5.3L5 9\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              stroke-width=\"1.4\"\n              stroke-linecap=\"round\"\n            ></path>\n          </svg>\n        </button>\n        <span class=\"page_num\">{{ currentPage + '/' + totalPage }}</span>\n        <button @click=\"next\" :class=\"['btn_next', currentPage === totalPage && 'disabled']\" title=\"下一页\">\n          <svg class=\"svg_icon svg_icon_next\" viewBox=\"0 0 6 10\" width=\"6\" height=\"10\">\n            <path\n              d=\"M4.6 4.7L1 1M4.7 5.3L1 9\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              stroke-width=\"1.4\"\n              stroke-linecap=\"round\"\n            ></path>\n          </svg>\n        </button>\n      </div>\n    </div>\n    <div class=\"column-items\">\n      <div\n        class=\"item-wrap\"\n        v-for=\"(item, index) in movies\"\n        :key=\"item.id\"\n        v-show=\"index >= minIndex && index < maxIndex\"\n      >\n        <router-link :to=\"`/movie/${item.id}`\">\n          <MovieItem :movie=\"item\" />\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { throttle } from 'lodash';\nimport MovieItem from '@/components/MovieItem.vue';\n\nexport default defineComponent({\n  components: {\n    MovieItem\n  },\n  props: {\n    title: {\n      type: String\n    },\n    movies: {\n      type: Array\n    }\n  },\n  mounted() {\n    window.addEventListener('resize', throttle(this.getColumnItems, 200));\n    this.getColumnItems();\n  },\n  methods: {\n    getColumnItems() {\n      const container = document.getElementById('app');\n      var styles = window.getComputedStyle(container);\n      this.rowCount = styles.getPropertyValue('--column-movie-items-per-row');\n    },\n    prev() {\n      this.currentPage--;\n    },\n    next() {\n      this.currentPage++;\n    }\n  },\n  computed: {\n    totalPage() {\n      return Math.ceil(this.movies.length / this.rowCount);\n    },\n    maxIndex() {\n      return this.rowCount * this.currentPage;\n    },\n    minIndex() {\n      const remainder = this.movies.length % this.rowCount;\n      if (this.totalPage === this.currentPage && remainder > 0) {\n        return this.rowCount * (this.currentPage - 2) + remainder;\n      }\n      return this.rowCount * (this.currentPage - 1);\n    }\n  },\n  data() {\n    return {\n      rowCount: 3,\n      currentPage: 1\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.module-column {\n  .mod-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 20px;\n    .mod-title {\n      font-size: 2.2rem;\n      font-weight: 500;\n      color: var(--color-text-0);\n      @media (max-width: $col-sm-width - 1px) {\n        font-size: 2rem;\n      }\n    }\n  }\n\n  .mod-paging {\n    display: flex;\n    .btn_prev,\n    .btn_next {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 30px;\n      height: 30px;\n      border-radius: 100%;\n      color: var(--color-text-2);\n      text-align: center;\n      vertical-align: top;\n      .svg_icon {\n        width: 12px;\n        height: 12px;\n      }\n      &.disabled {\n        opacity: 0.4;\n        pointer-events: none;\n      }\n      &:hover {\n        background-color: var(--color-bg-1);\n        color: $theme-color_secondary;\n      }\n    }\n    .page_num {\n      display: inline-block;\n      min-width: 20px;\n      margin: 0 15px;\n      color: var(--color-text-2);\n      font-size: 14px;\n      letter-spacing: 2px;\n      line-height: 30px;\n      text-align: center;\n      vertical-align: top;\n    }\n  }\n}\n</style>\n","\nimport { defineComponent } from 'vue';\nimport { throttle } from 'lodash';\nimport MovieItem from '@/components/MovieItem.vue';\n\nexport default defineComponent({\n  components: {\n    MovieItem\n  },\n  props: {\n    title: {\n      type: String\n    },\n    movies: {\n      type: Array\n    }\n  },\n  mounted() {\n    window.addEventListener('resize', throttle(this.getColumnItems, 200));\n    this.getColumnItems();\n  },\n  methods: {\n    getColumnItems() {\n      const container = document.getElementById('app');\n      var styles = window.getComputedStyle(container);\n      this.rowCount = styles.getPropertyValue('--column-movie-items-per-row');\n    },\n    prev() {\n      this.currentPage--;\n    },\n    next() {\n      this.currentPage++;\n    }\n  },\n  computed: {\n    totalPage() {\n      return Math.ceil(this.movies.length / this.rowCount);\n    },\n    maxIndex() {\n      return this.rowCount * this.currentPage;\n    },\n    minIndex() {\n      const remainder = this.movies.length % this.rowCount;\n      if (this.totalPage === this.currentPage && remainder > 0) {\n        return this.rowCount * (this.currentPage - 2) + remainder;\n      }\n      return this.rowCount * (this.currentPage - 1);\n    }\n  },\n  data() {\n    return {\n      rowCount: 3,\n      currentPage: 1\n    };\n  }\n});\n","import { render } from \"./ColumnMovies.vue?vue&type=template&id=eb0eb796&scoped=true\"\nimport script from \"./ColumnMovies.vue?vue&type=script&lang=ts\"\nexport * from \"./ColumnMovies.vue?vue&type=script&lang=ts\"\n\nimport \"./ColumnMovies.vue?vue&type=style&index=0&id=eb0eb796&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-eb0eb796\"\n\nexport default script","<template>\n  <div class=\"module-grid\" :data-rowcount=\"rowCount\" :data-count=\"movies.length\">\n    <div class=\"mod-main\">\n      <div v-if=\"!!title\" class=\"mod-header\">\n        <div class=\"mod-title text-ellipsis\">\n          {{ title }}\n        </div>\n        <div class=\"mod-paging\" v-if=\"totalPage > 1\">\n          <button @click=\"prev\" :class=\"['btn_prev', currentPage === 1 && 'disabled']\" title=\"上一页\">\n            <svg class=\"svg_icon svg_icon_prev\" viewBox=\"0 0 6 10\" width=\"6\" height=\"10\">\n              <path\n                d=\"M1.4 4.7L5 1M1.3 5.3L5 9\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                stroke-width=\"1.4\"\n                stroke-linecap=\"round\"\n              ></path>\n            </svg>\n          </button>\n          <span class=\"page_num\">{{ currentPage + '/' + totalPage }}</span>\n          <button @click=\"next\" :class=\"['btn_next', currentPage === totalPage && 'disabled']\" title=\"下一页\">\n            <svg class=\"svg_icon svg_icon_next\" viewBox=\"0 0 6 10\" width=\"6\" height=\"10\">\n              <path\n                d=\"M4.6 4.7L1 1M4.7 5.3L1 9\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                stroke-width=\"1.4\"\n                stroke-linecap=\"round\"\n              ></path>\n            </svg>\n          </button>\n        </div>\n      </div>\n      <div class=\"grid-items\">\n        <router-link\n          class=\"item-wrap\"\n          v-for=\"(item, index) in movies\"\n          :key=\"item.id\"\n          :to=\"`/movie/${item?.id}`\"\n          v-show=\"index >= minIndex && index < maxIndex\"\n        >\n          <MovieItem :movie=\"item\" />\n        </router-link>\n      </div>\n    </div>\n    <div class=\"mod-side\">\n      <div class=\"mod-header\">\n        <div class=\"mod-title text-ellipsis\">\n          {{ sideTitle }}\n        </div>\n        <!-- <div class=\"mod-action\">\n          <a href=\"javascript:;\" class=\"button\" @click=\"refetch\">\n            <span class=\"btn-text\">更多</span>\n            <svg\n              t=\"1636621938067\"\n              class=\"btn-icon\"\n              viewBox=\"0 0 1024 1024\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              p-id=\"2561\"\n              width=\"90\"\n              height=\"90\"\n            >\n              <path\n                d=\"M320 885.333333c-8.533333 0-17.066667-4.266667-23.466667-10.666666-12.8-12.8-10.666667-34.133333 2.133334-44.8L654.933333 512 298.666667 194.133333c-12.8-10.666667-14.933333-32-2.133334-44.8 10.666667-12.8 32-14.933333 44.8-2.133333l384 341.333333c6.4 6.4 10.666667 14.933333 10.666667 23.466667 0 8.533333-4.266667 17.066667-10.666667 23.466667l-384 341.333333c-6.4 6.4-12.8 8.533333-21.333333 8.533333z\"\n                p-id=\"2562\"\n              ></path>\n            </svg>\n          </a>\n        </div> -->\n      </div>\n      <div class=\"mod-rank-list\">\n        <router-link class=\"rank-item\" v-for=\"(item, index) in sideMovies\" :key=\"item.id\" :to=\"`/movie/${item?.id}`\">\n          <img class=\"item-img\" :src=\"item.cover\" />\n          <span class=\"item-num\">{{ index + 1 }}</span>\n          <div class=\"item-center\">\n            <div class=\"item-title text-ellipsis\">\n              {{ item.name }}\n            </div>\n            <div class=\"item-desc text-ellipsis\">\n              {{ item.introduction ?? item.actors ?? item.type }}\n            </div>\n          </div>\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { throttle } from 'lodash';\nimport MovieItem from '@/components/MovieItem.vue';\n\nexport default defineComponent({\n  components: {\n    MovieItem\n  },\n  props: {\n    title: {\n      type: String\n    },\n    movies: {\n      type: Array\n    },\n    sideTitle: {\n      type: String\n    },\n    sideMovies: {\n      type: Array\n    }\n  },\n  mounted() {\n    window.addEventListener('resize', throttle(this.getColumnItems, 200));\n    this.getColumnItems();\n  },\n  methods: {\n    getColumnItems() {\n      const container = document.getElementById('app');\n      var styles = window.getComputedStyle(container);\n      this.rowCount = Number(styles.getPropertyValue('--module-movie-items-count'));\n    },\n    prev() {\n      this.currentPage--;\n    },\n    next() {\n      this.currentPage++;\n    }\n  },\n  computed: {\n    totalPage() {\n      return Math.ceil(this.movies.length / this.rowCount);\n    },\n    maxIndex() {\n      return this.rowCount * this.currentPage;\n    },\n    minIndex() {\n      const remainder = this.movies.length % this.rowCount;\n      if (this.totalPage === this.currentPage && remainder > 0) {\n        return this.rowCount * (this.currentPage - 2) + remainder;\n      }\n      return this.rowCount * (this.currentPage - 1);\n    }\n  },\n  data() {\n    return {\n      rowCount: 3,\n      currentPage: 1\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n$colors: #ff4a6a, #ff5c38, #ffb826, #7f7f8c;\n\n.module-grid {\n  position: relative;\n  .mod-main {\n    padding-right: calc(100% / var(--column-movie-items-per-row) * 2 + var(--list-item-margin) / 2);\n    width: 100%;\n    overflow: hidden;\n    .grid-items {\n      .item-wrap {\n        width: calc(100% / var(--module-movie-items-count) * 2 - var(--list-item-margin) - 0.01px);\n      }\n    }\n  }\n  .mod-side {\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: var(--list-item-margin);\n    width: calc(100% / var(--column-movie-items-per-row) * 2 - var(--list-item-margin) / 2);\n  }\n  @media screen and (max-width: 767px) {\n    .mod-main {\n      padding-right: 0;\n    }\n    .mod-side {\n      display: none;\n    }\n  }\n}\n\n.mod-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 20px;\n  .mod-title {\n    font-size: 2.2rem;\n    font-weight: 500;\n    color: var(--color-text-0);\n    @media (max-width: $col-sm-width - 1px) {\n      font-size: 2rem;\n    }\n  }\n  .mod-paging {\n    display: flex;\n    .btn_prev,\n    .btn_next {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 30px;\n      height: 30px;\n      border-radius: 100%;\n      color: var(--color-text-2);\n      text-align: center;\n      vertical-align: top;\n      .svg_icon {\n        width: 12px;\n        height: 12px;\n      }\n      &.disabled {\n        opacity: 0.4;\n        pointer-events: none;\n      }\n      &:hover {\n        background-color: var(--color-bg-1);\n        color: $theme-color_secondary;\n      }\n    }\n    .page_num {\n      display: inline-block;\n      min-width: 20px;\n      margin: 0 15px;\n      color: var(--color-text-2);\n      font-size: 14px;\n      letter-spacing: 2px;\n      line-height: 30px;\n      text-align: center;\n      vertical-align: top;\n    }\n  }\n  .mod-action {\n    display: flex;\n    .button {\n      display: flex;\n      align-items: center;\n      .btn-icon {\n        margin-left: 6px;\n        width: 1.4rem;\n        height: 1.4rem;\n        object-fit: cover;\n      }\n      .btn-text {\n        font-size: 1.4rem;\n        line-height: 2rem;\n        color: var(--color-text-2);\n      }\n    }\n  }\n}\n\n.mod-rank-list {\n  height: 100%;\n  border-radius: 4px;\n  background-color: var(--color-bg-1);\n  overflow: hidden;\n  .rank-item {\n    height: 12.5%;\n    display: flex;\n    align-items: center;\n    padding: 0 20px 0 10px;\n    border-top: 1px solid var(--color-border);\n    position: relative;\n    &:first-child {\n      border-top: none;\n    }\n    @for $i from 1 through 3 {\n      &:nth-of-type(#{$i}) {\n        .item-num {\n          color: nth($colors, $i);\n        }\n      }\n    }\n    .item-img {\n      margin-right: 10px;\n      left: 10px;\n      height: 80%;\n      border-radius: 4px;\n      object-fit: cover;\n      display: none;\n    }\n    .item-num {\n      color: nth($colors, 4);\n      font-size: 26px;\n      line-height: 30px;\n      margin-left: 10px;\n      margin-right: 20px;\n    }\n    .item-center {\n      flex: 1;\n      overflow: hidden;\n    }\n    .item-title {\n      margin-right: 30%;\n      color: var(--color-text-0);\n      font-size: 16px;\n      font-weight: 600;\n      line-height: 24px;\n    }\n    .item-desc {\n      color: var(--color-text-3);\n      font-size: 13px;\n      line-height: 24px;\n    }\n    &:hover {\n      .item-img {\n        display: block;\n      }\n      .item-num {\n        display: none;\n      }\n      .item-title {\n        color: $theme-color_primary;\n      }\n      .item-desc {\n        color: var(--color-text-2);\n      }\n    }\n  }\n}\n</style>\n","\nimport { defineComponent } from 'vue';\nimport { throttle } from 'lodash';\nimport MovieItem from '@/components/MovieItem.vue';\n\nexport default defineComponent({\n  components: {\n    MovieItem\n  },\n  props: {\n    title: {\n      type: String\n    },\n    movies: {\n      type: Array\n    },\n    sideTitle: {\n      type: String\n    },\n    sideMovies: {\n      type: Array\n    }\n  },\n  mounted() {\n    window.addEventListener('resize', throttle(this.getColumnItems, 200));\n    this.getColumnItems();\n  },\n  methods: {\n    getColumnItems() {\n      const container = document.getElementById('app');\n      var styles = window.getComputedStyle(container);\n      this.rowCount = Number(styles.getPropertyValue('--module-movie-items-count'));\n    },\n    prev() {\n      this.currentPage--;\n    },\n    next() {\n      this.currentPage++;\n    }\n  },\n  computed: {\n    totalPage() {\n      return Math.ceil(this.movies.length / this.rowCount);\n    },\n    maxIndex() {\n      return this.rowCount * this.currentPage;\n    },\n    minIndex() {\n      const remainder = this.movies.length % this.rowCount;\n      if (this.totalPage === this.currentPage && remainder > 0) {\n        return this.rowCount * (this.currentPage - 2) + remainder;\n      }\n      return this.rowCount * (this.currentPage - 1);\n    }\n  },\n  data() {\n    return {\n      rowCount: 3,\n      currentPage: 1\n    };\n  }\n});\n","import { render } from \"./GridMovies.vue?vue&type=template&id=3f067394&scoped=true\"\nimport script from \"./GridMovies.vue?vue&type=script&lang=ts\"\nexport * from \"./GridMovies.vue?vue&type=script&lang=ts\"\n\nimport \"./GridMovies.vue?vue&type=style&index=0&id=3f067394&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3f067394\"\n\nexport default script","\nimport { ref } from 'vue';\nimport { useQuery, useResult } from '@vue/apollo-composable';\nimport { STICKS_QUERY } from '@/graphql';\nimport Skeleton from '@/components/Skeleton.vue';\nimport MovieItem from '@/components/MovieItem.vue';\nimport ColumnMovies from '@/views/parts/ColumnMovies.vue';\nimport GridMovies from '@/views/parts/GridMovies.vue';\n\nexport default {\n  components: {\n    Skeleton,\n    MovieItem,\n    ColumnMovies,\n    GridMovies\n  },\n  setup(props) {\n    const variables = ref({\n      place: '网站首页推荐'\n    });\n    const { result, loading, error } = useQuery(STICKS_QUERY, variables);\n    const sticksData = useResult(result, [], (data: any) => data?.sticks?.data);\n    // const activities = useResult(sticksData, [], (data: any) => data?.[0]?.editorChoice?.activities);\n    const tvSeries = useResult(sticksData, [], (data: any) => data?.slice(6));\n    const tvSeriesTitle = ref(['韩剧', '美剧', '日剧', '综艺']);\n\n    return {\n      error,\n      loading,\n      sticksData,\n      tvSeries,\n      tvSeriesTitle\n    };\n  }\n};\n","import { render } from \"./Recommend.vue?vue&type=template&id=7a626735&scoped=true\"\nimport script from \"./Recommend.vue?vue&type=script&lang=ts\"\nexport * from \"./Recommend.vue?vue&type=script&lang=ts\"\n\nimport \"./Recommend.vue?vue&type=style&index=0&id=7a626735&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-7a626735\"\n\nexport default script","<template>\n  <div id=\"category\">\n    <div class=\"fluid-content\">\n      <div class=\"category-tags\">\n        <div class=\"tags-container\">\n          <dl v-for=\"tag in Tags\" :key=\"tag.id\">\n            <dt class=\"tag-title\">\n              <span>{{ tag.title }}</span>\n            </dt>\n            <dd>\n              <a\n                @click=\"handleFilter(tag.id, tag.value[index])\"\n                v-for=\"(option, index) in tag.options\"\n                :key=\"option\"\n                :class=\"['tag-label', filterTags[tag.id] === tag.value[index] && 'active']\"\n                >{{ option }}\n              </a>\n            </dd>\n          </dl>\n        </div>\n      </div>\n      <div class=\"category-movies\">\n        <Skeleton v-if=\"loading\" type=\"movies\" />\n        <ul\n          v-else\n          class=\"grid-items\"\n          v-infinite-scroll=\"loadMore\"\n          infinite-scroll-distance=\"500\"\n          infinite-scroll-disabled=\"disabled\"\n        >\n          <router-link class=\"item-wrap\" v-for=\"movie in categoryMovie\" :key=\"movie.id\" :to=\"`/movie/${movie.id}`\">\n            <MovieItem :movie=\"movie\" />\n          </router-link>\n        </ul>\n        <LoadingSpinner v-if=\"hasMorePages\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive } from 'vue';\nimport MovieItem from '@/components/MovieItem.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\nimport useItemsPerRow from '@/components/hooks/useItemsPerRow';\nimport { useCategoryMovieQuery } from '@/graphql';\n\nconst CATEGORY_TAGS = [\n  {\n    id: 'region',\n    title: '地区',\n    options: ['全部', '韩剧', '日剧', '美剧', '港剧'],\n    value: ['ALL', 'HAN', 'RI', 'MEI', 'GANG']\n  },\n  {\n    id: 'year',\n    title: '时间',\n    options: ['全部', '2021', '2020', '2019', '2018', '2017', '2016'],\n    value: ['ALL', '2021', '2020', '2019', '2018', '2017', '2016']\n  },\n  {\n    id: 'scopes',\n    title: '排序',\n    options: ['全部', '最新', '最热', '评分'],\n    value: ['ALL', 'NEW', 'HOT', 'SCORE']\n  }\n];\n\nexport default {\n  components: {\n    MovieItem,\n    LoadingSpinner,\n    Skeleton\n  },\n  setup(props) {\n    const count = useItemsPerRow('--column-movie-items-per-row');\n\n    const Tags = reactive(CATEGORY_TAGS);\n    const filterTags = ref(\n      (function() {\n        const variables = {\n          first: count.value * 6\n        };\n        for (const tag of Tags) {\n          variables[tag.id] = tag.value[0];\n        }\n        return variables;\n      })()\n    );\n    function handleFilter(key, value) {\n      filterTags.value[key] = value;\n      window.pwaEventTrack('筛选电影', value);\n    }\n    const { loading, disabled, loadMore, hasMorePages, categoryMovie } = useCategoryMovieQuery(filterTags);\n    return {\n      Tags,\n      filterTags,\n      handleFilter,\n      loading,\n      disabled,\n      loadMore,\n      hasMorePages,\n      categoryMovie\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.category-tags {\n  margin-top: 30px;\n  @media screen and (max-width: $col-sm-width) {\n    margin-top: 24px;\n  }\n}\n.tags-container {\n  dl {\n    display: flex;\n    margin-top: 18px;\n    dd {\n      flex: 1;\n      display: flex;\n      flex-wrap: wrap;\n    }\n  }\n  .tag-title {\n    margin-right: 24px;\n    margin-bottom: 10px;\n    height: 32px;\n    font-size: 16px;\n    font-weight: 500;\n    line-height: 32px;\n    color: var(--color-text-0);\n  }\n  .tag-label {\n    margin-right: 12px;\n    margin-bottom: 10px;\n    display: block;\n    padding: 0 12px;\n    min-width: 72px;\n    height: 32px;\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 30px;\n    color: var(--color-text-1);\n    text-align: center;\n    border: 1px solid transparent;\n    border-radius: 16px;\n    cursor: pointer;\n    &:hover {\n      color: $theme-color_primary;\n    }\n    &.active {\n      border: 1px solid $theme-color_primary;\n      color: $theme-color_primary;\n    }\n  }\n  @media screen and (max-width: $col-sm-width) {\n    dl {\n      margin-top: 10px;\n      .tag-label {\n        margin-right: 0;\n      }\n    }\n  }\n}\n\n.category-movies {\n  margin-top: 24px;\n}\n</style>\n","\nimport { defineComponent, ref, reactive } from 'vue';\nimport MovieItem from '@/components/MovieItem.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\nimport useItemsPerRow from '@/components/hooks/useItemsPerRow';\nimport { useCategoryMovieQuery } from '@/graphql';\n\nconst CATEGORY_TAGS = [\n  {\n    id: 'region',\n    title: '地区',\n    options: ['全部', '韩剧', '日剧', '美剧', '港剧'],\n    value: ['ALL', 'HAN', 'RI', 'MEI', 'GANG']\n  },\n  {\n    id: 'year',\n    title: '时间',\n    options: ['全部', '2021', '2020', '2019', '2018', '2017', '2016'],\n    value: ['ALL', '2021', '2020', '2019', '2018', '2017', '2016']\n  },\n  {\n    id: 'scopes',\n    title: '排序',\n    options: ['全部', '最新', '最热', '评分'],\n    value: ['ALL', 'NEW', 'HOT', 'SCORE']\n  }\n];\n\nexport default {\n  components: {\n    MovieItem,\n    LoadingSpinner,\n    Skeleton\n  },\n  setup(props) {\n    const count = useItemsPerRow('--column-movie-items-per-row');\n\n    const Tags = reactive(CATEGORY_TAGS);\n    const filterTags = ref(\n      (function() {\n        const variables = {\n          first: count.value * 6\n        };\n        for (const tag of Tags) {\n          variables[tag.id] = tag.value[0];\n        }\n        return variables;\n      })()\n    );\n    function handleFilter(key, value) {\n      filterTags.value[key] = value;\n      window.pwaEventTrack('筛选电影', value);\n    }\n    const { loading, disabled, loadMore, hasMorePages, categoryMovie } = useCategoryMovieQuery(filterTags);\n    return {\n      Tags,\n      filterTags,\n      handleFilter,\n      loading,\n      disabled,\n      loadMore,\n      hasMorePages,\n      categoryMovie\n    };\n  }\n};\n","import { render } from \"./Category.vue?vue&type=template&id=3353fdd8&scoped=true\"\nimport script from \"./Category.vue?vue&type=script&lang=ts\"\nexport * from \"./Category.vue?vue&type=script&lang=ts\"\n\nimport \"./Category.vue?vue&type=style&index=0&id=3353fdd8&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3353fdd8\"\n\nexport default script","<template>\n  <div id=\"video-center\">\n    <div class=\"fluid-content\">\n      <Skeleton v-if=\"loading\" type=\"videos\" />\n      <div class=\"flow-items\" v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"disabled\">\n        <div class=\"item-wrap\" v-for=\"(item, index) in publicPosts\" :key=\"index\">\n          <VideoItem :video=\"item\" />\n        </div>\n      </div>\n      <LoadingSpinner v-if=\"hasMorePages\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { ref, watch } from 'vue';\nimport { usePublicPostsQuery } from '@/graphql';\nimport Skeleton from '@/components/Skeleton.vue';\nimport VideoItem from '@/components/VideoItem.vue';\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\nimport useItemsPerRow from '@/components/hooks/useItemsPerRow';\n\nexport default {\n  components: {\n    Skeleton,\n    VideoItem,\n    LoadingSpinner\n  },\n  setup() {\n    const count = useItemsPerRow('--column-video-items-per-row');\n    const variables = ref({\n      first: count.value * 5\n    });\n    const { loading, disabled, loadMore, hasMorePages, publicPosts } = usePublicPostsQuery(variables);\n\n    return {\n      loading,\n      disabled,\n      loadMore,\n      hasMorePages,\n      publicPosts\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#video-center {\n  position: relative;\n  width: 100%;\n  min-height: 100vh;\n  margin-top: 30px;\n}\n</style>\n","\nimport { ref, watch } from 'vue';\nimport { usePublicPostsQuery } from '@/graphql';\nimport Skeleton from '@/components/Skeleton.vue';\nimport VideoItem from '@/components/VideoItem.vue';\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\nimport useItemsPerRow from '@/components/hooks/useItemsPerRow';\n\nexport default {\n  components: {\n    Skeleton,\n    VideoItem,\n    LoadingSpinner\n  },\n  setup() {\n    const count = useItemsPerRow('--column-video-items-per-row');\n    const variables = ref({\n      first: count.value * 5\n    });\n    const { loading, disabled, loadMore, hasMorePages, publicPosts } = usePublicPostsQuery(variables);\n\n    return {\n      loading,\n      disabled,\n      loadMore,\n      hasMorePages,\n      publicPosts\n    };\n  }\n};\n","import { render } from \"./Videos.vue?vue&type=template&id=20b1960c&scoped=true\"\nimport script from \"./Videos.vue?vue&type=script&lang=ts\"\nexport * from \"./Videos.vue?vue&type=script&lang=ts\"\n\nimport \"./Videos.vue?vue&type=style&index=0&id=20b1960c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-20b1960c\"\n\nexport default script","<template>\n  <Masthead />\n  <div id=\"scene-container\">\n    <div class=\"fluid-content\">\n      <div class=\"user-center\">\n        <div class=\"userinfo-wrap\">\n          <UserInfo :user-id=\"userId\" />\n        </div>\n        <div class=\"tabs-wrap\">\n          <el-tabs v-model=\"activeName\" class=\"ant-tabs\">\n            <el-tab-pane v-if=\"userId\" label=\"发布\" name=\"posts\">\n              <div class=\"pane-content\">\n                <UserPosts :userId=\"userId\" />\n              </div>\n            </el-tab-pane>\n            <el-tab-pane v-if=\"userId\" label=\"收藏\" name=\"favorite\">\n              <div class=\"pane-content\">\n                <MoviesFavorite :userId=\"userId\" />\n              </div>\n            </el-tab-pane>\n            <el-tab-pane v-if=\"userId\" label=\"记录\" name=\"history\">\n              <div class=\"pane-content\">\n                <MoviesHistory :userId=\"userId\" />\n              </div>\n            </el-tab-pane>\n          </el-tabs>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { ref, watch, toRefs } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport Empty from '@/components/Empty.vue';\nimport UserInfo from '@/views/parts/UserInfo.vue';\nimport UserPosts from '@/views/parts/UserPosts.vue';\nimport MoviesFavorite from '@/views/parts/MoviesFavorite.vue';\nimport MoviesHistory from '@/views/parts/MoviesHistory.vue';\n\nconst Tabs = {\n  posts: 'posts',\n  favorite: 'favorite',\n  history: 'history'\n};\n\nexport default {\n  components: {\n    Empty,\n    UserInfo,\n    UserPosts,\n    MoviesFavorite,\n    MoviesHistory\n  },\n  props: ['params', 'query'],\n  setup(props) {\n    const store = useStore();\n    const userId = ref(store.state?.user?.user?.id);\n    const { query } = toRefs(props);\n    const activeName = ref(Tabs[String(query.value?.tab)] || Tabs.posts);\n    const router = useRouter();\n\n    watch(query, (value, prevValue) => {\n      activeName.value = Tabs[String(value?.tab)] || Tabs.posts;\n    });\n\n    watch(activeName, (value, prevValue) => {\n      router.replace({ query: { tab: activeName.value } });\n    });\n\n    watch(store.state?.user, (value, prevValue) => {\n      if (!value.user?.id) {\n        router.replace('/');\n      }\n    });\n\n    return {\n      userId,\n      activeName\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.user-center {\n  max-width: 975px;\n  margin: 0 auto;\n  padding-top: 30px;\n}\n.userinfo-wrap {\n  margin: 0 auto;\n  margin-bottom: 24px;\n  max-width: 656px;\n  width: 100%;\n  @media (min-width: $col-md-width) {\n    margin-bottom: 44px;\n  }\n}\n.tabs-wrap {\n  margin: 40px 0 15px;\n\n  // 穿透 el-tabs style\n  .ant-tabs {\n    min-height: 500px;\n    :deep(.el-tabs__header) {\n      margin: 0;\n      .el-tabs__nav-wrap {\n        &::after {\n          content: '';\n          height: 0;\n        }\n        .el-tabs__nav-scroll {\n          display: flex;\n          flex-direction: row;\n          justify-content: center;\n          align-items: flex-start;\n          .el-tabs__nav .el-tabs__item {\n            width: 98px;\n            height: 35px;\n            margin: 0 6px;\n            padding: 0;\n            text-align: center;\n            border-bottom: 1px solid #eee;\n            color: #555;\n            font-size: 16px;\n            font-weight: normal;\n            line-height: 34px;\n            cursor: pointer;\n            &.is-active {\n              color: #000;\n              font-weight: 500;\n            }\n          }\n        }\n      }\n    }\n    :deep(.el-tabs__content) {\n      padding-top: 25px;\n    }\n  }\n}\n</style>\n","\nimport { ref, watch, toRefs } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport Empty from '@/components/Empty.vue';\nimport UserInfo from '@/views/parts/UserInfo.vue';\nimport UserPosts from '@/views/parts/UserPosts.vue';\nimport MoviesFavorite from '@/views/parts/MoviesFavorite.vue';\nimport MoviesHistory from '@/views/parts/MoviesHistory.vue';\n\nconst Tabs = {\n  posts: 'posts',\n  favorite: 'favorite',\n  history: 'history'\n};\n\nexport default {\n  components: {\n    Empty,\n    UserInfo,\n    UserPosts,\n    MoviesFavorite,\n    MoviesHistory\n  },\n  props: ['params', 'query'],\n  setup(props) {\n    const store = useStore();\n    const userId = ref(store.state?.user?.user?.id);\n    const { query } = toRefs(props);\n    const activeName = ref(Tabs[String(query.value?.tab)] || Tabs.posts);\n    const router = useRouter();\n\n    watch(query, (value, prevValue) => {\n      activeName.value = Tabs[String(value?.tab)] || Tabs.posts;\n    });\n\n    watch(activeName, (value, prevValue) => {\n      router.replace({ query: { tab: activeName.value } });\n    });\n\n    watch(store.state?.user, (value, prevValue) => {\n      if (!value.user?.id) {\n        router.replace('/');\n      }\n    });\n\n    return {\n      userId,\n      activeName\n    };\n  }\n};\n","import { render } from \"./Profile.vue?vue&type=template&id=54675879&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=ts\"\nexport * from \"./Profile.vue?vue&type=script&lang=ts\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=54675879&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-54675879\"\n\nexport default script","<template>\n  <Masthead />\n  <div id=\"scene-container\">\n    <div class=\"notfound\">\n      <Empty type=\"notfound\" imageSize=\"30%\" description=\"页面可能暂时走丢了\" />\n    </div>\n    <Footer />\n  </div>\n</template>\n\n<script>\nexport default {};\n</script>\n\n<style lang=\"scss\" scoped>\n.notfound {\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n</style>\n","import { render } from \"./Notfound.vue?vue&type=template&id=4f4a01a9&scoped=true\"\nimport script from \"./Notfound.vue?vue&type=script&lang=js\"\nexport * from \"./Notfound.vue?vue&type=script&lang=js\"\n\nimport \"./Notfound.vue?vue&type=style&index=0&id=4f4a01a9&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4f4a01a9\"\n\nexport default script","<template>\n  <Masthead />\n  <div id=\"scene-container\">\n    <div class=\"fluid-content\">\n      <div class=\"search-container\">\n        <div class=\"top-searchbar show-lg\">\n          <SearchBar />\n        </div>\n        <div class=\"hot-search\">\n          <div class=\"pannel-title\">\n            <h4>热门搜索</h4>\n          </div>\n          <ul class=\"pannel-hotlist\" v-if=\"searchLogs.length > 0\">\n            <li class=\"hot-item\" v-for=\"(item, index) in searchLogs\" :key=\"item.id\">\n              <router-link :to=\"`/search?keyword=${item.name}`\">\n                <em class=\"i-box\">{{ index + 1 }}</em> {{ item.name }}\n              </router-link>\n            </li>\n          </ul>\n        </div>\n        <div class=\"main-content\">\n          <div class=\"search-result\">\n            <Skeleton v-if=\"loading\" type=\"searched-movies\" :count=\"4\" />\n            <template v-else-if=\"searchMovies.length > 0\" v-for=\"movie in searchMovies\" :key=\"movie.id\">\n              <SearchMovieItem v-if=\"movie?.id\" :movie=\"movie\" />\n            </template>\n            <Empty v-else type=\"content\" imageSize=\"30%\">\n              <p v-if=\"keyword\" class=\"empty-description\">\n                抱歉，没有找到“ <em class=\"keyword\">{{ keyword }}</em> ”的相关视频\n              </p>\n              <p v-else class=\"empty-description\">\n                输入关键词搜索相关视频\n              </p>\n            </Empty>\n          </div>\n          <div v-if=\"total > 10\" class=\"pagination-wrap\">\n            <el-pagination\n              background\n              :page-size=\"10\"\n              :small=\"paginationAttr.small\"\n              :total=\"total\"\n              :pager-count=\"paginationAttr.pager_count\"\n              layout=\"prev, pager, next\"\n              :hide-on-single-page=\"true\"\n              @current-change=\"onCurrentChange\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Footer />\n  <SideBar />\n</template>\n\n<script lang=\"ts\">\nimport { ref, watch, onMounted, reactive, toRefs } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useSearchLogsQuery, useSearchMoviesQuery } from '@/graphql';\nimport store, { Storage, TYPES } from '@/store';\nimport { exceptionCapture } from '@/utils';\nimport SearchMovieItem from '@/components/SearchMovieItem.vue';\nimport SearchBar from '@/components/SearchBar.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport Empty from '@/components/Empty.vue';\n\nexport default {\n  name: 'Search',\n  components: { SearchBar, SearchMovieItem, Skeleton, Empty },\n  props: ['query'],\n  setup(props) {\n    const { query } = toRefs(props);\n    const keyword = ref(query.value?.keyword || '');\n\n    const currentPage = ref(1);\n    const { searchLogs } = useSearchLogsQuery();\n    const { loading, searchMovies, total } = useSearchMoviesQuery(\n      {\n        keyword,\n        page: currentPage\n      },\n      { fetchPolicy: 'network-only', enabled: keyword.value }\n    );\n\n    function onCurrentChange(page: number) {\n      currentPage.value = page;\n    }\n\n    watch(query, (value, prevValue) => {\n      keyword.value = value?.keyword;\n    });\n\n    return {\n      keyword,\n      loading,\n      total,\n      searchLogs,\n      searchMovies,\n      onCurrentChange\n    };\n  },\n  computed: {\n    paginationAttr() {\n      if (screen.width < 576) {\n        return { pager_count: 5, small: true };\n      } else {\n        return { pager_count: 9, small: false };\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$colors: #ff4a6a, #ff5c38, #ffb826, #7f7f8c;\n\n.search-container {\n  margin-top: var(--content-margin);\n  width: 100%;\n  min-height: 100vh;\n  padding-right: 25%;\n  position: relative;\n  @media screen and (max-width: $col-lg-width - 1px) {\n    padding-right: 0;\n    .hot-search {\n      position: relative;\n      width: 100%;\n      .pannel-hotlist {\n        display: flex;\n        flex-wrap: wrap;\n        .hot-item {\n          width: 50%;\n          font-size: 14px;\n          line-height: 30px;\n          color: var(--color-text-0);\n          .i-box {\n            font-size: 16px;\n          }\n        }\n      }\n    }\n    .main-content {\n      margin-top: var(--content-margin);\n      margin-right: 0;\n    }\n  }\n}\n\n.hot-search {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 25%;\n  .pannel-title {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 10px;\n    h4 {\n      font-size: 18px;\n      font-weight: bold;\n      color: $theme-color_secondary;\n    }\n  }\n  .pannel-hotlist {\n    .hot-item {\n      font-size: 16px;\n      line-height: 40px;\n      color: var(--color-text-0);\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      .i-box {\n        margin-right: 10px;\n        font-size: 20px;\n        font-weight: bold;\n        color: nth($colors, 4);\n      }\n      @for $i from 1 through 3 {\n        &:nth-of-type(#{$i}) {\n          .i-box {\n            color: nth($colors, $i);\n            letter-spacing: 0;\n          }\n        }\n      }\n    }\n  }\n}\n\n.main-content {\n  margin-right: var(--content-margin);\n}\n\n.empty-description {\n  font-size: 16px;\n  font-weight: 400;\n  color: var(--color-text-2);\n  .keyword {\n    color: $theme-color_secondary;\n  }\n}\n\n.pagination-wrap {\n  display: flex;\n  justify-content: center;\n  padding: var(--content-margin) 0;\n  overflow: hidden;\n}\n</style>\n\n<style lang=\"scss\">\n.top-searchbar {\n  #search-bar {\n    margin-bottom: 20px;\n    display: flex;\n    overflow: hidden;\n  }\n}\n</style>\n","<template>\n  <div class=\"movie-card-item\">\n    <router-link class=\"card-figure\" :to=\"`/movie/${movie.id}`\" :title=\"movie?.name\">\n      <div class=\"figure-pic\">\n        <img v-lazyload=\"movie.cover\" />\n      </div>\n      <div class=\"figure-tag\">\n        <div v-if=\"tag\" :class=\"['content-pack-tag', `tag-${tag.color}`]\">\n          {{ tag.name }}\n        </div>\n      </div>\n      <div v-if=\"movie.score\" class=\"figure-caption\">\n        <span v-if=\"movie.count_series > 2\" class=\"video-duration\">\n          {{ movie.finished ? '全' : '更新至' }}{{ movie.count_series }}集\n        </span>\n        <span v-if=\"movie.score > 0\" class=\"movie-score hide-xs\">{{ movie.score }}</span>\n      </div>\n    </router-link>\n    <div class=\"card-detail\">\n      <div class=\"info-wapper\">\n        <h2 class=\"movie-title\">\n          <router-link class=\"movie-name\" :to=\"`/movie/${movie?.id}`\">\n            <span>{{ movie?.name }}</span>\n          </router-link>\n        </h2>\n\n        <div class=\"movie-info\">\n          <div class=\"info-item hide-sm\" v-if=\"!!movie?.producer\">\n            <span class=\"label\">导&nbsp;&nbsp;演：</span>\n            <span class=\"label content\">\n              <span>{{ movie?.producer }}</span>\n            </span>\n          </div>\n          <div class=\"info-item hide-sm\" v-if=\"!!movie?.actors\">\n            <span class=\"label\">主&nbsp;&nbsp;演：</span>\n            <span class=\"label content\">\n              {{ movie?.actors }}\n            </span>\n          </div>\n          <div class=\"info-item info-item-desc\" v-if=\"!!movie?.introduction\">\n            <span class=\"label\">简&nbsp;&nbsp;介：</span>\n            <span class=\"desc-text\">\n              {{ movie?.introduction }}\n              <router-link class=\"desc-more\" :to=\"`/movie/${movie?.id}`\">\n                详细<i class=\"el-icon-arrow-right\"></i>\n              </router-link>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"movie-operation\">\n        <router-link class=\"op-button play\" :to=\"`/movie/${movie?.id}`\">\n          立即播放\n        </router-link>\n        <div :class=\"['op-button', movie?.favorited ? 'favorited' : 'unfavorite']\" v-auth:click=\"favoriteHandler\">\n          <svg\n            v-if=\"!movie?.favorited\"\n            t=\"1632905874356\"\n            class=\"icon\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"40911\"\n          >\n            <path\n              d=\"M720.398507 959.573333c73.045333 31.317333 136.96-15.317333 129.706666-94.293333l-20.650666-226.218667 174.634666-199.722666c38.144-43.648 19.2-102.229333-37.418666-115.114667l-258.474667-58.794667-135.68-228.010666c-29.738667-49.877333-91.306667-49.92-121.045333 0L315.74784 265.429333 57.273173 324.224C0.953173 337.066667-18.33216 395.648 19.854507 439.338667l174.634666 199.722666-24.021333 264.405334c-5.248 57.770667 44.544 94.037333 97.877333 71.125333l243.626667-104.533333 208.426667 89.472z\"\n              p-id=\"40912\"\n            ></path>\n          </svg>\n          {{ movie?.favorited ? '已追剧' : '追剧' }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { ref, toRefs, computed } from 'vue';\nimport { debounce } from 'lodash';\nimport { useFavoriteMutation } from '@/graphql';\nimport { MovieItemInterface } from '@/graphql/schema';\n\nconst Tags = {\n  剧情: {\n    name: '剧集',\n    color: 'blue'\n  },\n  电视剧: {\n    name: '剧集',\n    color: 'blue'\n  },\n  电影: {\n    name: '电影',\n    color: 'red'\n  },\n  综艺: {\n    name: '综艺',\n    color: 'yellow'\n  },\n  真人秀: {\n    name: '综艺',\n    color: 'yellow'\n  }\n};\n\nexport default {\n  name: 'SearchMovieItem',\n  props: {\n    movie: Object as () => MovieItemInterface\n  },\n  setup(props) {\n    const { movie: movieData } = toRefs(props);\n    const movie = ref({ ...movieData.value });\n    const isSeries = ref(movie.value?.count_series > 1);\n\n    const tag = computed(() => {\n      const types = movie.value?.type?.split(',');\n      let movieTag = '';\n      if (Array.isArray(types)) {\n        for (const val of types) {\n          if (val) {\n            movieTag = Tags[val];\n          }\n        }\n      }\n      return movieTag;\n    });\n\n    const { toggleFavorite, onDone } = useFavoriteMutation(\n      {\n        id: movie.value.id,\n        type: 'movies'\n      },\n      { fetchPolicy: 'network-only' }\n    );\n\n    onDone(({ data }) => {\n      if (data) {\n        movie.value.favorited = data?.toggleFavorite?.favorited;\n      }\n    });\n\n    const favoriteHandler = debounce(() => {\n      movie.value.favorited = !movie.value.favorited;\n      toggleFavorite();\n    }, 500);\n\n    return {\n      tag,\n      movie,\n      isSeries,\n      favoriteHandler\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.movie-card-item {\n  display: flex;\n  position: relative;\n  margin-bottom: 28px;\n  @media screen and (max-width: $col-sm-width - 1px) {\n    margin-bottom: 14px;\n    .card-figure {\n      width: 90px;\n      height: 120px;\n      .figure-caption {\n        padding: 5px 6px;\n      }\n    }\n    .card-detail {\n      .movie-title {\n        .movie-name {\n          font-size: 15px;\n        }\n      }\n      .movie-info {\n        .info-item {\n          font-size: 13px;\n        }\n      }\n    }\n    .movie-operation {\n      .op-button {\n        padding: 0 10px;\n        min-width: 78px;\n        height: 32px;\n        font-size: 13px;\n        .icon {\n          width: 16px;\n          height: 16px;\n        }\n      }\n    }\n  }\n}\n\n.card-figure {\n  width: 154px;\n  height: 214px;\n  border-radius: 8px;\n  overflow: hidden;\n  position: relative;\n  .figure-pic {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: var(--color-bg-1);\n\n    img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n  }\n  .figure-tag {\n    position: absolute;\n    right: 0;\n    top: 0;\n    color: #fff;\n    z-index: 15;\n  }\n  .figure-caption {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    padding: 5px 10px;\n    background-repeat: no-repeat;\n    background-image: linear-gradient(transparent, rgba(0, 0, 0, 0.5));\n    display: flex;\n    justify-content: space-between;\n    .video-duration {\n      font-size: 12px;\n      font-weight: 500;\n      line-height: 1.4rem;\n      color: #fff;\n      overflow: hidden;\n    }\n    .movie-score {\n      float: right;\n      font-size: 18px;\n      font-weight: 700;\n      line-height: 1.8rem;\n      color: $theme-color_secondary;\n      overflow: hidden;\n    }\n  }\n}\n\n.card-detail {\n  margin-left: 14px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  overflow: hidden;\n  .movie-title {\n    display: flex;\n    .movie-name {\n      flex: 1;\n      display: block;\n      font-size: 18px;\n      font-weight: 500;\n      color: var(--color-text-0);\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n  .movie-info {\n    .info-item {\n      margin-top: 10px;\n      font-size: 14px;\n      line-height: 20px;\n      color: var(--color-text-3);\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n      &.info-item-desc {\n        max-width: 100%;\n        line-height: 18px;\n        white-space: normal;\n        .label {\n          float: left;\n        }\n        .desc-text {\n          display: block;\n          margin-top: -1px;\n          font-size: 14px;\n          line-height: 20px;\n          max-height: 40px;\n          position: relative;\n        }\n        .desc-more {\n          position: absolute;\n          right: 0;\n          top: 20px;\n          padding-left: 30px;\n          color: var(--color-text-0);\n          background: linear-gradient(to right, transparent, var(--color-page-bg) 15%, var(--color-page-bg) 100%);\n          cursor: pointer;\n        }\n      }\n      .content {\n        color: var(--color-text-0);\n      }\n    }\n  }\n}\n\n.movie-operation {\n  margin-top: 10px;\n  display: flex;\n  .op-button {\n    margin-right: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 0 18px;\n    min-width: 90px;\n    height: 36px;\n    font-size: 14px;\n    font-weight: bold;\n    color: var(--color-text-0);\n    border-radius: 5px;\n    cursor: pointer;\n    .icon {\n      margin-right: 6px;\n      margin-top: -2px;\n      width: 18px;\n      height: 18px;\n      fill: #fff;\n    }\n    &.play {\n      color: #fff;\n      background: linear-gradient(to right, $theme-color_primary 0, $theme-color_secondary 100%);\n      box-shadow: 0 5px 10px rgba($theme-color_primary, 0.25);\n    }\n    &.favorited {\n      color: var(--color-text-2);\n      background: linear-gradient(to right, #eeeeee 0, #f6f6f6 100%);\n      box-shadow: 0 5px 10px rgba(246, 246, 246, 0.25);\n    }\n    &.unfavorite {\n      color: #fff;\n      background: linear-gradient(to right, #ff477e 0, #ff7e5f 100%);\n      box-shadow: 0 5px 10px rgba(#ff7e5f, 0.25);\n      .icon {\n        fill: #fff;\n      }\n    }\n  }\n}\n</style>\n","\nimport { ref, toRefs, computed } from 'vue';\nimport { debounce } from 'lodash';\nimport { useFavoriteMutation } from '@/graphql';\nimport { MovieItemInterface } from '@/graphql/schema';\n\nconst Tags = {\n  剧情: {\n    name: '剧集',\n    color: 'blue'\n  },\n  电视剧: {\n    name: '剧集',\n    color: 'blue'\n  },\n  电影: {\n    name: '电影',\n    color: 'red'\n  },\n  综艺: {\n    name: '综艺',\n    color: 'yellow'\n  },\n  真人秀: {\n    name: '综艺',\n    color: 'yellow'\n  }\n};\n\nexport default {\n  name: 'SearchMovieItem',\n  props: {\n    movie: Object as () => MovieItemInterface\n  },\n  setup(props) {\n    const { movie: movieData } = toRefs(props);\n    const movie = ref({ ...movieData.value });\n    const isSeries = ref(movie.value?.count_series > 1);\n\n    const tag = computed(() => {\n      const types = movie.value?.type?.split(',');\n      let movieTag = '';\n      if (Array.isArray(types)) {\n        for (const val of types) {\n          if (val) {\n            movieTag = Tags[val];\n          }\n        }\n      }\n      return movieTag;\n    });\n\n    const { toggleFavorite, onDone } = useFavoriteMutation(\n      {\n        id: movie.value.id,\n        type: 'movies'\n      },\n      { fetchPolicy: 'network-only' }\n    );\n\n    onDone(({ data }) => {\n      if (data) {\n        movie.value.favorited = data?.toggleFavorite?.favorited;\n      }\n    });\n\n    const favoriteHandler = debounce(() => {\n      movie.value.favorited = !movie.value.favorited;\n      toggleFavorite();\n    }, 500);\n\n    return {\n      tag,\n      movie,\n      isSeries,\n      favoriteHandler\n    };\n  }\n};\n","import { render } from \"./SearchMovieItem.vue?vue&type=template&id=51493a50&scoped=true\"\nimport script from \"./SearchMovieItem.vue?vue&type=script&lang=ts\"\nexport * from \"./SearchMovieItem.vue?vue&type=script&lang=ts\"\n\nimport \"./SearchMovieItem.vue?vue&type=style&index=0&id=51493a50&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-51493a50\"\n\nexport default script","\nimport { ref, watch, onMounted, reactive, toRefs } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useSearchLogsQuery, useSearchMoviesQuery } from '@/graphql';\nimport store, { Storage, TYPES } from '@/store';\nimport { exceptionCapture } from '@/utils';\nimport SearchMovieItem from '@/components/SearchMovieItem.vue';\nimport SearchBar from '@/components/SearchBar.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport Empty from '@/components/Empty.vue';\n\nexport default {\n  name: 'Search',\n  components: { SearchBar, SearchMovieItem, Skeleton, Empty },\n  props: ['query'],\n  setup(props) {\n    const { query } = toRefs(props);\n    const keyword = ref(query.value?.keyword || '');\n\n    const currentPage = ref(1);\n    const { searchLogs } = useSearchLogsQuery();\n    const { loading, searchMovies, total } = useSearchMoviesQuery(\n      {\n        keyword,\n        page: currentPage\n      },\n      { fetchPolicy: 'network-only', enabled: keyword.value }\n    );\n\n    function onCurrentChange(page: number) {\n      currentPage.value = page;\n    }\n\n    watch(query, (value, prevValue) => {\n      keyword.value = value?.keyword;\n    });\n\n    return {\n      keyword,\n      loading,\n      total,\n      searchLogs,\n      searchMovies,\n      onCurrentChange\n    };\n  },\n  computed: {\n    paginationAttr() {\n      if (screen.width < 576) {\n        return { pager_count: 5, small: true };\n      } else {\n        return { pager_count: 9, small: false };\n      }\n    }\n  }\n};\n","import { render } from \"./Search.vue?vue&type=template&id=2b25af82&scoped=true\"\nimport script from \"./Search.vue?vue&type=script&lang=ts\"\nexport * from \"./Search.vue?vue&type=script&lang=ts\"\n\nimport \"./Search.vue?vue&type=style&index=0&id=2b25af82&lang=scss&scoped=true\"\nimport \"./Search.vue?vue&type=style&index=1&id=2b25af82&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-2b25af82\"\n\nexport default script","<template>\n  <Masthead />\n  <div class=\"movie-play\">\n    <div class=\"play-detail\">\n      <div class=\"mod-main\">\n        <div class=\"player-wrap\">\n          <div class=\"embed-responsive\">\n            <div class=\"player-container\">\n              <DPlayer\n                v-show=\"playerVisible\"\n                v-if=\"videoSource\"\n                :timeLimits=\"showInvitePrompt ? 360 : 0\"\n                :source=\"videoSource\"\n                :progress=\"last_watch_progress\"\n                @playEnded=\"playNextEpisode\"\n                @onError=\"onPlayError\"\n                @onProgress=\"saveWatchProgress\"\n                @onTimeLimits=\"showInviteOverlay\"\n              />\n            </div>\n            <div v-if=\"(movie?.id && !videoSource) || playError\" class=\"player-overlay\">\n              <p>视频加载失败，请尝试切换线路或<button @click=\"showFeedback\">提交反馈</button></p>\n            </div>\n          </div>\n        </div>\n        <div class=\"media-wrap\">\n          <div :class=\"['movie-intro', 'hide-lg', isCollapse && 'collapse']\">\n            <div class=\"intro-text\">\n              {{ movie?.introduction }}\n              <span class=\"down-up up-box\" @click=\"toggleCollapse\"\n                >收起\n                <i class=\"el-icon-arrow-up\"></i>\n              </span>\n            </div>\n            <span class=\"down-up down-box\" @click=\"toggleCollapse\"\n              >展开\n              <i class=\"el-icon-arrow-down\"></i>\n            </span>\n          </div>\n          <div class=\"movie-card show-lg\">\n            <img v-if=\"movie?.cover\" class=\"poster\" :src=\"movie?.cover\" alt=\"\" />\n            <div class=\"brief\">\n              <div class=\"brief-title\">\n                {{ movie?.name }}\n                <div class=\"meta\" v-show=\"movie?.score\">\n                  <span>{{ movie?.score }} 分</span> · {{ movie?.year }}年 · {{ movie?.region }}\n                </div>\n              </div>\n              <div :class=\"['brief-desc', isCollapse && 'collapse']\">\n                <div class=\"text\">\n                  {{ movie?.introduction }}\n                  <span class=\"down-up up-box\" @click=\"toggleCollapse\"\n                    >收起\n                    <i class=\"el-icon-arrow-up\"></i>\n                  </span>\n                </div>\n                <span class=\"down-up down-box\" @click=\"toggleCollapse\"\n                  >展开\n                  <i class=\"el-icon-arrow-down\"></i>\n                </span>\n              </div>\n            </div>\n          </div>\n          <MovieToolbar v-if=\"movie\" :movie=\"movie\" />\n          <div v-if=\"movie?.play_lines && series?.length > 0\" class=\"mod-eplist show-lg\">\n            <MovieEpisodes\n              :type=\"movie.type\"\n              :playlines=\"movie?.play_lines\"\n              :series=\"series\"\n              :current-episode=\"videoSource\"\n              @changePlayline=\"changePlayline\"\n              @changeEpisode=\"changeEpisode\"\n            />\n          </div>\n          <div class=\"mod-wrap show-lg\">\n            <div class=\"mod-title\">\n              <h3>影视推荐</h3>\n            </div>\n            <div class=\"list-items\">\n              <Skeleton v-if=\"!relatedMovies?.length\" type=\"recommend-movies\" :count=\"4\" />\n              <router-link\n                v-else\n                class=\"list-item\"\n                v-for=\"item in relatedMovies.slice(0, 4)\"\n                :key=\"item.id\"\n                :to=\"`/movie/${item.id}`\"\n              >\n                <RCMovieItem :movie=\"item\" />\n              </router-link>\n            </div>\n          </div>\n          <CommentModule v-if=\"movie?.id\" :commentable-id=\"movie?.id\" />\n        </div>\n      </div>\n      <div class=\"mod-side\">\n        <div class=\"mod-wrap\">\n          <MovieInfo :movie=\"movie\" />\n        </div>\n        <div v-if=\"movie?.play_lines && series?.length > 0\" class=\"mod-wrap\">\n          <MovieEpisodes\n            :type=\"movie.type\"\n            :playlines=\"movie?.play_lines\"\n            :series=\"series\"\n            :current-episode=\"videoSource\"\n            @changePlayline=\"changePlayline\"\n            @changeEpisode=\"changeEpisode\"\n          />\n        </div>\n        <div class=\"mod-wrap\">\n          <div class=\"mod-title\">\n            <h3>影视推荐</h3>\n          </div>\n          <div class=\"list-items\">\n            <Skeleton v-if=\"!relatedMovies?.length\" type=\"recommend-movies\" />\n            <router-link\n              v-else\n              class=\"list-item\"\n              v-for=\"item in relatedMovies\"\n              :key=\"item?.id\"\n              :to=\"`/movie/${item?.id}`\"\n            >\n              <RCMovieItem :movie=\"item\" />\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Footer />\n  <SideBar />\n  <FeedbackModal />\n  <InviteModal :movie=\"movie\" @onChange=\"changePlayerVisible\" />\n</template>\n\n<script lang=\"ts\">\nimport { ref, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { useApolloClient, useMutation } from '@vue/apollo-composable';\nimport { throttle } from 'lodash';\nimport {\n  useMovieQuery,\n  useRelatedMoviesQuery,\n  SAVE_WATCH_PROGRESS_MUTATION,\n  FAVORITE_MOVIES_QUERY,\n  MOVIES_HISTORY_QUERY,\n  REPORT_MOVIE_EXCEPTION_MUTATION\n} from '@/graphql';\nimport { APP_NAME, DEVICE_INFO } from '@/config';\nimport { Storage } from '@/store';\nimport DPlayer from '@/components/player/DPlayer.vue';\nimport CommentModule from '@/components/comment/CommentModule.vue';\nimport RCMovieItem from '@/components/RCMovieItem.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport MovieInfo from './parts/MovieInfo.vue';\nimport MovieToolbar from './parts/MovieToolbar.vue';\nimport MovieEpisodes from './parts/MovieEpisodes.vue';\nimport InviteModal from './parts/InviteModal.vue';\nimport FeedbackModal from './parts/FeedbackModal.vue';\n\nexport default {\n  name: 'MovieDetail',\n  components: {\n    DPlayer,\n    CommentModule,\n    RCMovieItem,\n    Skeleton,\n    MovieInfo,\n    MovieToolbar,\n    MovieEpisodes,\n    InviteModal,\n    FeedbackModal\n  },\n  setup(props) {\n    const route = useRoute();\n    const movieId = ref(Number(route.params?.id));\n    const showInvitePrompt = ref(!Storage.getItem('invitePrompt' + movieId.value));\n    watch(route, (value, prevValue) => {\n      movieId.value = Number(value.params?.id);\n    });\n    const { movie } = useMovieQuery({\n      id: movieId\n    });\n    const { relatedMovies } = useRelatedMoviesQuery({\n      movie_id: movieId,\n      limit: 12\n    });\n\n    const play_lines = ref(movie.value?.play_lines);\n    const last_watch_series = ref(movie.value?.last_watch_series || 0);\n    const last_watch_progress = ref(movie.value?.last_watch_progress || 0);\n    const series = ref(play_lines.value?.[0]?.data);\n    const sourceName = ref(play_lines.value?.[0]?.name);\n    const videoSource = ref(series.value?.[last_watch_series.value]);\n\n    watch(movie, (value, prevValue) => {\n      play_lines.value = value?.play_lines;\n      last_watch_series.value = value?.last_watch_series || 0;\n      last_watch_progress.value = value?.last_watch_progress || 0;\n      series.value = play_lines.value?.[0]?.data;\n      sourceName.value = play_lines.value?.[0]?.name;\n      videoSource.value = series.value?.[last_watch_series.value];\n      if (!videoSource.value) {\n        onPlayError();\n      }\n      if (value?.name && value?.name !== prevValue?.name) {\n        window.pwaEventTrack('播放影片', value?.name, value?.id);\n      }\n    });\n\n    // 选集\n    function changeEpisode({ episode, episodeIndex }) {\n      if (episodeIndex >= 0) {\n        last_watch_series.value = episodeIndex;\n      } else {\n        last_watch_series.value = series.value.indexOf(videoSource.value);\n      }\n      videoSource.value = episode;\n      window.pwaEventTrack('选集', movie.value?.name, movie.value?.id);\n    }\n    // 播放下一集\n    function playNextEpisode() {\n      if (series.value?.length - 1 > last_watch_series.value) {\n        last_watch_series.value++;\n        videoSource.value = series.value?.[last_watch_series.value];\n        window.pwaEventTrack('播放下一集', movie.value?.name, movie.value?.id);\n      }\n    }\n\n    // 切换线路\n    function changePlayline(playline: { name: String; data: any[] }) {\n      series.value = playline?.data;\n      sourceName.value = playline?.name;\n      videoSource.value = series.value?.[last_watch_series.value];\n      window.pwaEventTrack('切换线路', movie.value?.name, movie.value?.id);\n      if (!videoSource.value) {\n        onPlayError();\n      }\n    }\n\n    const client = useApolloClient().client;\n    const store = useStore();\n    const me = ref(store.state?.user?.user);\n    async function saveProgressMutation(progress: Number) {\n      if (me.value?.id) {\n        await client.mutate({\n          mutation: SAVE_WATCH_PROGRESS_MUTATION,\n          variables: {\n            movie_id: movieId.value,\n            series_index: last_watch_series.value,\n            progress\n          },\n          refetchQueries: () => [\n            {\n              query: FAVORITE_MOVIES_QUERY,\n              variables: { user_id: me.value?.id }\n            },\n            {\n              query: MOVIES_HISTORY_QUERY\n            }\n          ]\n        });\n      }\n    }\n    const saveWatchProgress = throttle(saveProgressMutation, 8000);\n\n    const playError = ref(false);\n    const { mutate: reportMovieExceptionMutation } = useMutation(REPORT_MOVIE_EXCEPTION_MUTATION, () => ({\n      variables: {\n        movie_id: movieId.value,\n        source_name: sourceName.value\n      }\n    }));\n    function onPlayError() {\n      console.log('onPlayError', movieId.value, sourceName.value);\n      playError.value = true;\n      reportMovieExceptionMutation();\n    }\n\n    return {\n      movie,\n      relatedMovies,\n      play_lines,\n      sourceName,\n      series,\n      videoSource,\n      last_watch_series,\n      last_watch_progress,\n      changeEpisode,\n      playNextEpisode,\n      changePlayline,\n      saveWatchProgress,\n      showInvitePrompt,\n      playError,\n      onPlayError\n    };\n  },\n  mounted() {\n    const hostname = location.hostname.toLocaleLowerCase();\n    const isHost = APP_NAME === hostname.slice(0, hostname.lastIndexOf('.'));\n    const pwaPrompt = Storage.getItem('pwaPrompt');\n    if (isHost && !pwaPrompt && DEVICE_INFO.OS === 'IOS') {\n      setTimeout(() => {\n        this.$bus.emit('SHOW_IOS_PWA_PROMPT');\n        Storage.setItem('pwaPrompt', true, 86400);\n      }, 3000);\n    }\n  },\n  methods: {\n    toggleCollapse() {\n      this.isCollapse = !this.isCollapse;\n    },\n    showInviteOverlay() {\n      if (this.showInvitePrompt) {\n        this.showInvitePrompt = false;\n        this.$bus.emit('SHOW_INVITE_MODAL');\n        Storage.setItem('invitePrompt' + this.movie?.id, true);\n        window.pwaEventTrack('弹出分享', this.movie?.name, this.movie?.id);\n      }\n    },\n    changePlayerVisible(visible: boolean) {\n      this.playerVisible = !visible;\n    },\n    showFeedback() {\n      this.$bus.emit(\n        'SHOW_FEEDBACK_MODAL',\n        `视频播放问题：${this.movie?.name}，${this.sourceName}，${\n          this.series.length > 1 ? '第' + this.last_watch_series + 1 + '集' : ''\n        }`\n      );\n    }\n  },\n  data() {\n    return {\n      isCollapse: true,\n      playerVisible: true\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.movie-play {\n  flex: 1;\n  width: 100%;\n  margin: 20px auto 40px;\n  padding: 0 var(--content-margin);\n  max-width: var(--max-content-width);\n  .media-wrap {\n    padding-top: 20px;\n    .mod-eplist {\n      margin: 20px 0 0;\n    }\n  }\n  @media screen and (max-width: $col-md-width - 1px) {\n    margin: 0;\n    padding: 0;\n    .player-wrap {\n      border-radius: 0;\n    }\n    .media-wrap {\n      padding: 20px var(--content-margin) 40px;\n    }\n  }\n}\n\n.play-detail {\n  display: flex;\n  position: relative;\n  .mod-main {\n    flex: 1;\n    width: 100%;\n  }\n  .mod-side {\n    margin-left: 26px;\n    width: 360px;\n  }\n  @media screen and (max-width: $col-xl-width - 1px) {\n    .mod-side {\n      margin-left: 14px;\n      width: 300px;\n    }\n  }\n  @media screen and (max-width: $col-lg-width - 1px) {\n    .mod-side {\n      display: none;\n    }\n  }\n}\n\n.player-wrap {\n  position: relative;\n  width: 100%;\n  border-radius: 4px;\n  overflow: hidden;\n  .embed-responsive {\n    position: relative;\n    padding-bottom: 56.25%;\n  }\n  .player-container,\n  .player-overlay {\n    display: block;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: var(--color-bg-2);\n  }\n  .player-overlay {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 15px;\n    line-height: 22px;\n    color: #ffffff;\n    button {\n      color: $theme-color_primary;\n    }\n  }\n}\n\n.mod-wrap {\n  margin: 0 0 36px;\n  .mod-header {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n  }\n  .mod-title {\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 26px;\n    color: var(--color-text-0);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .list-items {\n    .list-item {\n      display: block;\n      margin-top: 20px;\n    }\n  }\n  &.show-lg {\n    margin-top: 20px;\n    @media screen and (min-width: $col-sm-width) {\n      .list-items {\n        display: flex;\n        flex-wrap: wrap;\n        margin: 0 calc(calc(var(--list-item-margin) / 2) * -1);\n        .list-item {\n          margin: var(--list-item-margin) calc(var(--list-item-margin) / 2) 0;\n          width: calc(50% - var(--list-item-margin) - 0.01px);\n        }\n      }\n    }\n  }\n}\n\n.movie-intro {\n  margin-bottom: 16px;\n  padding: 0 2px;\n  display: block;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 24px;\n  color: var(--color-text-0);\n  overflow: hidden;\n  position: relative;\n  transition: max-height 0.2s linear;\n  &.collapse {\n    max-height: 48px;\n    .up-box {\n      display: none;\n    }\n    .down-box {\n      display: block;\n    }\n  }\n  .intro-text {\n    word-wrap: break-word;\n    word-break: break-all;\n    white-space: normal;\n    position: relative;\n    z-index: 1;\n  }\n  .down-up {\n    display: inline-block;\n    height: 24px;\n    line-height: 24px;\n    color: $theme-color_primary;\n    cursor: pointer;\n    position: relative;\n    z-index: 3;\n  }\n  .down-box {\n    display: none;\n    margin-top: 24px;\n    padding-left: 20px;\n    position: absolute;\n    top: 0;\n    right: 0;\n    background: linear-gradient(to right, transparent, var(--color-page-bg) 15%, var(--color-page-bg) 100%);\n  }\n}\n\n.movie-card {\n  margin-bottom: 16px;\n  display: flex;\n  font-size: 20px;\n  font-weight: 500;\n  line-height: 24px;\n  color: var(--color-text-0);\n  .poster {\n    flex-shrink: 0;\n    flex-basis: 96px;\n    width: 96px;\n    height: 128px;\n    border-radius: 4px;\n    margin-right: 12px;\n    background: #f8f9fd;\n  }\n  .brief {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    .brief-title {\n      margin-bottom: 12px;\n      .meta {\n        margin-top: 8px;\n        font-size: 13px;\n        line-height: 20px;\n        color: var(--color-text-2);\n        span {\n          color: $theme-color_secondary;\n        }\n      }\n    }\n    .brief-desc {\n      display: block;\n      font-size: 13px;\n      line-height: 20px;\n      color: var(--color-text-2);\n      overflow: hidden;\n      position: relative;\n      transition: max-height 0.2s linear;\n      &.collapse {\n        max-height: 40px;\n        .up-box {\n          display: none;\n        }\n        .down-box {\n          display: block;\n        }\n      }\n      .text {\n        word-wrap: break-word;\n        word-break: break-all;\n        white-space: normal;\n        position: relative;\n        z-index: 1;\n      }\n      .down-up {\n        display: inline-block;\n        height: 20px;\n        line-height: 20px;\n        color: $theme-color_primary;\n        cursor: pointer;\n        position: relative;\n        z-index: 3;\n      }\n      .down-box {\n        display: none;\n        margin-top: 20px;\n        padding-left: 20px;\n        position: absolute;\n        top: 0;\n        right: 0;\n        background: linear-gradient(to right, transparent, var(--color-page-bg) 15%, var(--color-page-bg) 100%);\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"movie-info\">\n    <div class=\"movie-cover\" rel=\"noopener noreferrer\">\n      <img v-if=\"movie?.cover\" class=\"poster\" :src=\"movie?.cover\" alt=\"\" />\n    </div>\n    <div class=\"brief-detail\">\n      <div class=\"movie-title\">\n        <div class=\"movie-name webkit-text-ellipsis\">\n          {{ movie?.name }}\n        </div>\n        <div class=\"movie-score\">{{ movie?.score || '评' }}分</div>\n      </div>\n      <div class=\"movie-meta\">\n        <p class=\"meta-item\">\n          <span class=\"meta-name\">年份</span>\n          <span class=\"meta-count\">{{ movie?.year }}</span>\n        </p>\n        <p class=\"meta-item\">\n          <span class=\"meta-name\">地区</span>\n          <span class=\"meta-count\">{{ movie?.region }}</span>\n        </p>\n        <p class=\"meta-item\">\n          <span class=\"meta-name\">类型</span>\n          <span class=\"meta-count\">{{ movie?.type }}</span>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    movie: Object\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.movie-info {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.movie-cover {\n  width: 90px;\n  height: 120px;\n  border-radius: 4px;\n  background-color: var(--color-bg-2);\n  border: 1px solid var(--color-bg-skeleton-stroke);\n  overflow: hidden;\n  position: relative;\n  .poster {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n}\n.brief-detail {\n  margin-left: 10px;\n  flex: 1;\n  align-self: stretch;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  overflow: hidden;\n}\n.movie-title {\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  .movie-name {\n    margin-right: 10px;\n    flex: 1;\n    max-height: 48px;\n    font-size: 16px;\n    font-weight: 500;\n    color: var(--color-text-0);\n    line-height: 24px;\n  }\n  .movie-score {\n    font-size: 20px;\n    font-weight: 700;\n    color: $theme-color_secondary;\n    line-height: 28px;\n  }\n}\n.movie-meta {\n  font-size: 14px;\n  line-height: 20px;\n  color: var(--color-text-0);\n  .meta-item {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .meta-name {\n    font-weight: 500;\n    margin-right: 5px;\n  }\n  .meta-count {\n    color: var(--color-text-3);\n  }\n}\n</style>\n","import { render } from \"./MovieInfo.vue?vue&type=template&id=35511890&scoped=true\"\nimport script from \"./MovieInfo.vue?vue&type=script&lang=js\"\nexport * from \"./MovieInfo.vue?vue&type=script&lang=js\"\n\nimport \"./MovieInfo.vue?vue&type=style&index=0&id=35511890&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-35511890\"\n\nexport default script","<template>\n  <div class=\"movie-toolbar\">\n    <ul class=\"user-operation\">\n      <li class=\"operation-item\">\n        <div :class=\"['op-button', favorited && 'active']\" v-auth:click=\"favoriteHandler\">\n          <svg\n            t=\"1632905874356\"\n            class=\"icon\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"40911\"\n          >\n            <path\n              d=\"M720.398507 959.573333c73.045333 31.317333 136.96-15.317333 129.706666-94.293333l-20.650666-226.218667 174.634666-199.722666c38.144-43.648 19.2-102.229333-37.418666-115.114667l-258.474667-58.794667-135.68-228.010666c-29.738667-49.877333-91.306667-49.92-121.045333 0L315.74784 265.429333 57.273173 324.224C0.953173 337.066667-18.33216 395.648 19.854507 439.338667l174.634666 199.722666-24.021333 264.405334c-5.248 57.770667 44.544 94.037333 97.877333 71.125333l243.626667-104.533333 208.426667 89.472z\"\n              p-id=\"40912\"\n            ></path>\n          </svg>\n          <span>{{ favorited ? '已追剧' : '追剧' }}</span>\n        </div>\n      </li>\n      <li class=\"operation-item\" @click=\"showInviteModal\">\n        <div class=\"op-button\">\n          <svg\n            fill=\"#909090\"\n            t=\"1632905818952\"\n            class=\"icon\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"39381\"\n            width=\"90\"\n            height=\"90\"\n          >\n            <path\n              d=\"M1014.88968 411.786477l-364.412811-400.854093c-14.576512-14.576512-36.441281-14.576512-51.017794 0C584.882562 25.508897 584.882562 32.797153 584.882562 47.373665l0 211.359431c-298.818505 0-583.060498 247.800712-583.060498 546.619217 0 80.170819 36.441281 182.206406 72.882562 218.647687 43.729537-225.935943 269.66548-400.854093 510.177936-400.854093 0 21.864769 0 218.647687 0 218.647687 0 7.288256 0 14.576512 7.288256 29.153025 14.576512 14.576512 43.729537 7.288256 51.017794 0l364.412811-393.565836C1022.177936 462.80427 1022.177936 448.227758 1022.177936 440.939502 1022.177936 433.651246 1022.177936 419.074733 1014.88968 411.786477z\"\n              p-id=\"39382\"\n            ></path>\n          </svg>\n          <span>分享</span>\n        </div>\n      </li>\n      <li class=\"operation-item download-app\">\n        <div class=\"op-button\" @click=\"downloadApp\">\n          <svg\n            t=\"1632899144543\"\n            class=\"icon\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"16900\"\n            width=\"90\"\n            height=\"90\"\n          >\n            <path\n              d=\"M757.76 30.72l-512 0C197.973333 30.72 160.426667 68.266667 160.426667 116.053333l0 791.893333c0 47.786667 37.546667 88.746667 88.746667 88.746667l215.04 0L580.266667 996.693333l177.493333 0c47.786667 0 88.746667-37.546667 88.746667-88.746667L846.506667 116.053333C846.506667 68.266667 808.96 30.72 757.76 30.72zM419.84 92.16l170.666667 0c6.826667 0 13.653333 6.826667 13.653333 13.653333s-6.826667 13.653333-13.653333 13.653333l-170.666667 0c-6.826667 0-13.653333-6.826667-13.653333-13.653333S409.6 92.16 419.84 92.16zM501.76 928.426667c-34.133333 0-61.44-27.306667-61.44-61.44 0-34.133333 27.306667-61.44 61.44-61.44s61.44 27.306667 61.44 61.44C563.2 901.12 535.893333 928.426667 501.76 928.426667z\"\n              p-id=\"16901\"\n            ></path>\n          </svg>\n          <span>用APP看</span>\n        </div>\n      </li>\n      <!-- <li class=\"operation-item hide-sm\">\n        <div class=\"op-button\" @click=\"watchTogether\">\n          <svg\n            class=\"icon watch-together\"\n            viewBox=\"0 0 25 23\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          >\n            <g stroke=\"none\" stroke-width=\"1\" fill-rule=\"evenodd\">\n              <g transform=\"translate(-608.000000, -588.000000)\">\n                <g transform=\"translate(607.000000, 585.000000)\">\n                  <g>\n                    <g transform=\"translate(1.000000, 0.500000)\">\n                      <path\n                        d=\"M19.884058,17.826087 C21.0046357,17.826087 21.9130435,18.7344947 21.9130435,19.8550725 C21.9130435,20.3953867 21.7018456,20.886373 21.3574993,21.2499818 C22.0027882,21.6067965 22.5050068,22.1930044 22.7543884,22.8986409 L23.942029,22.8985507 C24.5023179,22.8985507 24.9565217,23.3527546 24.9565217,23.9130435 C24.9565217,24.4733324 24.5023179,24.9275362 23.942029,24.9275362 L1.62318841,24.9275362 C1.06289953,24.9275362 0.608695652,24.4733324 0.608695652,23.9130435 C0.608695652,23.3527546 1.06289953,22.8985507 1.62318841,22.8985507 L2.81082898,22.8986409 C3.06021057,22.1930044 3.56242916,21.6067965 4.20863478,21.2488672 C3.86337184,20.886373 3.65217391,20.3953867 3.65217391,19.8550725 C3.65217391,18.7344947 4.56058167,17.826087 5.68115942,17.826087 C6.80173717,17.826087 7.71014493,18.7344947 7.71014493,19.8550725 C7.71014493,20.3953867 7.498947,20.886373 7.15460077,21.2499818 C7.79988968,21.6067965 8.30210827,22.1930044 8.55148986,22.8986409 L9.91227825,22.8986409 C10.1616598,22.1930044 10.6638784,21.6067965 11.3100841,21.2488672 C10.9648211,20.886373 10.7536232,20.3953867 10.7536232,19.8550725 C10.7536232,18.7344947 11.6620309,17.826087 12.7826087,17.826087 C13.9031864,17.826087 14.8115942,18.7344947 14.8115942,19.8550725 C14.8115942,20.3953867 14.6003963,20.886373 14.25605,21.2499818 C14.901339,21.6067965 15.4035575,22.1930044 15.6529391,22.8986409 L17.0137275,22.8986409 C17.2631091,22.1930044 17.7653277,21.6067965 18.4115333,21.2488672 C18.0662704,20.886373 17.8550725,20.3953867 17.8550725,19.8550725 C17.8550725,18.7344947 18.7634802,17.826087 19.884058,17.826087 Z M21.9130435,2.60869565 C23.5939101,2.60869565 24.9565217,3.97130728 24.9565217,5.65217391 L24.9565217,15.7971014 C24.9565217,17.200874 24.0061378,18.3826725 22.7137001,18.7341668 C22.2672162,17.6073494 21.1685664,16.8115942 19.884058,16.8115942 C18.5588747,16.8115942 17.4315071,17.6585436 17.0137275,18.8406699 L15.6529391,18.8406699 C15.2351596,17.6585436 14.1077919,16.8115942 12.7826087,16.8115942 C11.4574255,16.8115942 10.3300578,17.6585436 9.91227825,18.8406699 L8.55148986,18.8406699 C8.13371028,17.6585436 7.00634267,16.8115942 5.68115942,16.8115942 C4.39665099,16.8115942 3.29800116,17.6073494 2.85128934,18.7327804 C1.55907955,18.3826725 0.608695652,17.200874 0.608695652,15.7971014 L0.608695652,5.65217391 C0.608695652,3.97130728 1.97130728,2.60869565 3.65217391,2.60869565 L21.9130435,2.60869565 Z M11.7879022,6.91106979 C10.9868497,6.42220104 10.3247464,6.78202506 10.2662102,7.70661879 L10.262004,7.84251492 L10.262004,12.6434157 C10.262004,13.6220862 10.8876959,14.0486166 11.6744615,13.6390837 L11.7879022,13.5748609 L15.7195622,11.1744105 C16.5168001,10.6878697 16.556662,9.90671169 15.8391479,9.39070917 L15.7195622,9.3115202 L11.7879022,6.91106979 Z\"\n                      ></path>\n                    </g>\n                  </g>\n                </g>\n              </g>\n            </g>\n          </svg>\n          <span>一起看</span>\n        </div>\n      </li> -->\n    </ul>\n    <div class=\"report-button hide-xs\" v-auth:click=\"showReportModal\">\n      <svg class=\"icon\" viewBox=\"0 0 1045 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M557.824 641.194667l17.92-219.818667 1.792-78.848h-87.808l1.792 78.848 17.322667 219.818667h48.981333zM533.333333 793.514667c29.866667 0 54.357333-20.906667 54.357334-51.968S563.2 688.981333 533.333333 688.981333c-29.866667 0-54.357333 21.504-54.357333 52.565334S503.466667 793.514667 533.333333 793.514667z\"\n          p-id=\"37871\"\n        ></path>\n        <path\n          d=\"M467.989333 116.096L92.309333 795.882667A74.666667 74.666667 0 0 0 157.653333 906.666667h751.36a74.666667 74.666667 0 0 0 65.344-110.784L598.677333 116.096a74.666667 74.666667 0 0 0-130.688 0z m70.506667 26.773333a10.666667 10.666667 0 0 1 4.181333 4.181334l375.68 679.786666a10.666667 10.666667 0 0 1-9.344 15.829334H157.653333a10.666667 10.666667 0 0 1-9.322666-15.829334l375.68-679.786666a10.666667 10.666667 0 0 1 14.485333-4.181334z\"\n          p-id=\"37872\"\n        ></path>\n      </svg>\n      <span>举报</span>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { ref, toRefs } from 'vue';\nimport { debounce } from 'lodash';\nimport { ElMessage } from 'element-plus';\nimport { useFavoriteMutation } from '@/graphql';\nimport { DEVICE_INFO, DOWNLOAD_URL, TX_ENV, APK_PACKAGE, APK_VERSION, APK_URL, APK_SCHEMA } from '@/config';\nimport { LaunchApp, supportLink, isAndroid, inWeixin, inWeibo } from 'web-launch-app';\n\nexport default {\n  props: {\n    movie: Object\n  },\n\n  setup(props) {\n    const { movie } = toRefs(props);\n    const favorited = ref(movie.value?.favorited);\n\n    const { toggleFavorite, onDone } = useFavoriteMutation(\n      { id: movie.value.id, type: 'movies' },\n      { fetchPolicy: 'network-only' }\n    );\n\n    onDone(({ data }) => {\n      if (data) {\n        favorited.value = data?.toggleFavorite?.favorited;\n        ElMessage({\n          message: `${data?.toggleFavorite?.favorited ? '已追剧!' : '取消追剧！'}`,\n          type: 'success'\n        });\n      }\n    });\n\n    const favoriteHandler = debounce(() => {\n      favorited.value = !favorited.value;\n      toggleFavorite();\n    }, 500);\n\n    function watchTogether() {\n      ElMessage({\n        message: '即将上线，敬请期待',\n        type: 'info'\n      });\n    }\n\n    return {\n      favorited,\n      favoriteHandler,\n      watchTogether\n    };\n  },\n\n  mounted() {\n    let schemeConfig = {\n      protocol: APK_SCHEMA,\n      index: {\n        path: `/MovieDetail/${JSON.stringify({\n          id: this.movie?.id\n        })}`\n      }\n    };\n\n    const launchConfig = {\n      inApp: false,\n      appVersion: APK_VERSION,\n      pkgName: APK_PACKAGE,\n      deeplink: {\n        scheme: {\n          android: schemeConfig,\n          ios: schemeConfig\n        }\n      },\n      pkgs: {\n        android: APK_URL\n      },\n      useUniversalLink: true,\n      useAppLink: supportLink(),\n      autodemotion: true,\n      useYingyongbao: inWeixin && isAndroid,\n      useGuideMethod: inWeibo && isAndroid,\n      guideMethod: () => {\n        alert('右上角->在浏览器中打开');\n      },\n      timeout: 2000,\n      landPage: DOWNLOAD_URL\n    };\n    this.lanchApp = new LaunchApp(launchConfig);\n  },\n\n  methods: {\n    showInviteModal() {\n      this.$bus.emit('SHOW_INVITE_MODAL');\n      window.pwaEventTrack('分享影片', this.movie.name, this.movie.id);\n    },\n    showReportModal() {\n      this.$bus.emit('SHOW_REPORT_MODAL', { id: this.movie.id, title: '举报影视' });\n      window.pwaEventTrack('举报影视', this.movie.name, this.movie.id);\n    },\n    downloadApp() {\n      if (TX_ENV) {\n        this.$bus.emit('SHOW_BROWSER_OPEN_PROMPT');\n        window.pwaEventTrack('用APP看', '腾讯浏览器');\n      } else if (DEVICE_INFO.OS === 'IOS') {\n        this.$bus.emit('SHOW_IOS_PWA_PROMPT');\n        window.pwaEventTrack('用APP看', 'iOS浏览器');\n      } else {\n        window.pwaEventTrack('用APP看', '安卓浏览器');\n        this.openApp();\n      }\n    },\n    openApp() {\n      this.lanchApp.open({\n        launchType: {\n          ios: 'scheme',\n          android: inWeixin ? 'store' : 'scheme'\n        },\n        timeout: 2000\n      });\n    }\n  },\n  data() {\n    return {\n      lanchApp: null\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.movie-toolbar {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.operation-item {\n  display: inline-block;\n  position: relative;\n  margin-right: 20px;\n  white-space: nowrap;\n  cursor: pointer;\n  transition: all 0.3s;\n  .op-button {\n    display: flex;\n    align-items: center;\n    padding: 0 5px;\n    height: 30px;\n    font-size: 14px;\n    font-weight: 500;\n    color: var(--color-text-0-hover);\n    .icon {\n      width: 28px;\n      height: 26px;\n      fill: var(--color-text-1);\n      margin-right: 6px;\n      &.watch-together {\n        margin-right: 10px;\n      }\n    }\n    &:hover {\n      .icon {\n        fill: var(--color-text-0-hover);\n      }\n    }\n    &.active {\n      .icon {\n        fill: $theme-color_primary;\n      }\n    }\n  }\n  @media screen and (max-width: $col-sm-width - 1px) {\n    margin-right: 10px;\n    .op-button {\n      .icon {\n        width: 22px;\n        height: 20px;\n      }\n    }\n  }\n}\n.report-button {\n  display: flex;\n  align-items: center;\n  font-size: 13px;\n  line-height: 20px;\n  color: var(--color-text-3);\n  cursor: pointer;\n  .icon {\n    width: 20px;\n    height: 20px;\n    margin-right: 4px;\n    fill: var(--color-text-3);\n  }\n  &:hover {\n    .icon {\n      fill: $theme-color_primary;\n    }\n    color: $theme-color_primary;\n  }\n}\n.el-popover.share-popper {\n  .share-popover {\n    display: flex;\n    margin: 4px;\n    .qrcode {\n      width: 60px;\n      height: 60px;\n      margin: auto;\n      background-color: #eeeeee;\n    }\n    .link-wrap {\n      flex: 1;\n      width: 0;\n      margin-left: 12px;\n      .title {\n        color: rgba(47, 48, 53, 0.7);\n        margin-bottom: 10px;\n      }\n      .link-box {\n        display: flex;\n        color: rgba(47, 48, 53, 0.4);\n        font-size: 14px;\n        line-height: 20px;\n        border-radius: 5px;\n        overflow: hidden;\n        background-color: #f1f2f5;\n        .link-text {\n          flex: 1;\n          padding: 6px 10px;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        .copy-link {\n          color: #fff;\n          font-weight: 500;\n          letter-spacing: 0.2rem;\n          cursor: pointer;\n          padding: 6px 16px;\n          background-color: $theme-color_primary;\n        }\n      }\n    }\n  }\n}\n</style>\n","\nimport { ref, toRefs } from 'vue';\nimport { debounce } from 'lodash';\nimport { ElMessage } from 'element-plus';\nimport { useFavoriteMutation } from '@/graphql';\nimport { DEVICE_INFO, DOWNLOAD_URL, TX_ENV, APK_PACKAGE, APK_VERSION, APK_URL, APK_SCHEMA } from '@/config';\nimport { LaunchApp, supportLink, isAndroid, inWeixin, inWeibo } from 'web-launch-app';\n\nexport default {\n  props: {\n    movie: Object\n  },\n\n  setup(props) {\n    const { movie } = toRefs(props);\n    const favorited = ref(movie.value?.favorited);\n\n    const { toggleFavorite, onDone } = useFavoriteMutation(\n      { id: movie.value.id, type: 'movies' },\n      { fetchPolicy: 'network-only' }\n    );\n\n    onDone(({ data }) => {\n      if (data) {\n        favorited.value = data?.toggleFavorite?.favorited;\n        ElMessage({\n          message: `${data?.toggleFavorite?.favorited ? '已追剧!' : '取消追剧！'}`,\n          type: 'success'\n        });\n      }\n    });\n\n    const favoriteHandler = debounce(() => {\n      favorited.value = !favorited.value;\n      toggleFavorite();\n    }, 500);\n\n    function watchTogether() {\n      ElMessage({\n        message: '即将上线，敬请期待',\n        type: 'info'\n      });\n    }\n\n    return {\n      favorited,\n      favoriteHandler,\n      watchTogether\n    };\n  },\n\n  mounted() {\n    let schemeConfig = {\n      protocol: APK_SCHEMA,\n      index: {\n        path: `/MovieDetail/${JSON.stringify({\n          id: this.movie?.id\n        })}`\n      }\n    };\n\n    const launchConfig = {\n      inApp: false,\n      appVersion: APK_VERSION,\n      pkgName: APK_PACKAGE,\n      deeplink: {\n        scheme: {\n          android: schemeConfig,\n          ios: schemeConfig\n        }\n      },\n      pkgs: {\n        android: APK_URL\n      },\n      useUniversalLink: true,\n      useAppLink: supportLink(),\n      autodemotion: true,\n      useYingyongbao: inWeixin && isAndroid,\n      useGuideMethod: inWeibo && isAndroid,\n      guideMethod: () => {\n        alert('右上角->在浏览器中打开');\n      },\n      timeout: 2000,\n      landPage: DOWNLOAD_URL\n    };\n    this.lanchApp = new LaunchApp(launchConfig);\n  },\n\n  methods: {\n    showInviteModal() {\n      this.$bus.emit('SHOW_INVITE_MODAL');\n      window.pwaEventTrack('分享影片', this.movie.name, this.movie.id);\n    },\n    showReportModal() {\n      this.$bus.emit('SHOW_REPORT_MODAL', { id: this.movie.id, title: '举报影视' });\n      window.pwaEventTrack('举报影视', this.movie.name, this.movie.id);\n    },\n    downloadApp() {\n      if (TX_ENV) {\n        this.$bus.emit('SHOW_BROWSER_OPEN_PROMPT');\n        window.pwaEventTrack('用APP看', '腾讯浏览器');\n      } else if (DEVICE_INFO.OS === 'IOS') {\n        this.$bus.emit('SHOW_IOS_PWA_PROMPT');\n        window.pwaEventTrack('用APP看', 'iOS浏览器');\n      } else {\n        window.pwaEventTrack('用APP看', '安卓浏览器');\n        this.openApp();\n      }\n    },\n    openApp() {\n      this.lanchApp.open({\n        launchType: {\n          ios: 'scheme',\n          android: inWeixin ? 'store' : 'scheme'\n        },\n        timeout: 2000\n      });\n    }\n  },\n  data() {\n    return {\n      lanchApp: null\n    };\n  }\n};\n","import { render } from \"./MovieToolbar.vue?vue&type=template&id=021c5dda&scoped=true\"\nimport script from \"./MovieToolbar.vue?vue&type=script&lang=ts\"\nexport * from \"./MovieToolbar.vue?vue&type=script&lang=ts\"\n\nimport \"./MovieToolbar.vue?vue&type=style&index=0&id=021c5dda&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-021c5dda\"\n\nexport default script","<template>\n  <div>\n    <div class=\"movie-eplist\">\n      <div class=\"list-title\">\n        <h4 title=\"选集 | 线路\">\n          {{ series?.length > 1 ? '选集' : '线路' }}\n          <span v-if=\"series?.length > 10\" @click=\"drawer = true\" class=\"more show-lg\">\n            共{{ series?.length }}集\n            <i class=\"el-icon-arrow-right\"></i>\n          </span>\n        </h4>\n        <el-dropdown v-if=\"series?.length > 1 && playlines?.length > 1\" @command=\"changePlayline\">\n          <div class=\"change-line el-dropdown-link\">\n            线路\n            <i class=\"el-icon-arrow-down el-icon--right\"></i>\n          </div>\n          <template #dropdown>\n            <el-dropdown-menu>\n              <el-dropdown-item\n                v-for=\"(item, index) in playlines\"\n                :key=\"index\"\n                :command=\"index\"\n                :disabled=\"playlineIndex ? playlineIndex === index : index === 0\"\n              >\n                <span>\n                  {{ item.name }}\n                </span>\n              </el-dropdown-item>\n            </el-dropdown-menu>\n          </template>\n        </el-dropdown>\n      </div>\n      <div v-if=\"series?.length > 1\" class=\"list-wrapper longlist\">\n        <ul class=\"ep-list\">\n          <li\n            v-for=\"(episode, index) in series\"\n            :key=\"index\"\n            :class=\"['ep-item', currentEpisode.url === episode.url && 'visited']\"\n          >\n            <button\n              @click=\"changeEpisode(episode, index)\"\n              :title=\"episode.name || `第${index + 1}集`\"\n              class=\"op-button text-ellipsis\"\n            >\n              {{ isVariety ? episode.name : index + 1 + '集' }}\n            </button>\n          </li>\n        </ul>\n      </div>\n      <div v-else class=\"list-wrapper\">\n        <ul class=\"playlines\">\n          <li\n            v-for=\"(item, index) in playlines\"\n            :key=\"index\"\n            :class=\"{\n              'ep-item': true,\n              visited: playlineIndex ? playlineIndex === index : index === 0\n            }\"\n          >\n            <button\n              class=\"op-button text-ellipsis\"\n              @click=\"changePlayline(index)\"\n              :title=\"item.name + ' · ' + item.data[0].name\"\n            >\n              {{ item.name }} · {{ item.data[0].name }}\n            </button>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <el-drawer\n      v-if=\"series?.length > 10\"\n      v-model=\"drawer\"\n      :title=\"`选集(${series?.length})`\"\n      direction=\"btt\"\n      size=\"60%\"\n      custom-class=\"drawer_ep-list\"\n    >\n      <ul class=\"ep-list show-lg\">\n        <li\n          v-for=\"(episode, index) in series\"\n          :key=\"index\"\n          :class=\"['ep-item', currentEpisode.url === episode.url && 'visited']\"\n        >\n          <button\n            class=\"op-button text-ellipsis\"\n            @click=\"changeEpisode(episode, index)\"\n            :title=\"episode.name || `第${index + 1}集`\"\n          >\n            {{ isVariety ? episode.name : index + 1 + '集' }}\n          </button>\n        </li>\n      </ul>\n    </el-drawer>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    type: String,\n    series: Array,\n    playlines: Array,\n    currentEpisode: Object\n  },\n  computed: {\n    isVariety() {\n      return this.type.includes('综艺') || this.type.includes('真人秀');\n    }\n  },\n  methods: {\n    changeEpisode(episode, episodeIndex) {\n      this.$emit('changeEpisode', { episode, episodeIndex });\n    },\n    changePlayline(playlineIndex) {\n      this.playlineIndex = playlineIndex;\n      this.$emit('changePlayline', this.playlines[playlineIndex]);\n    }\n  },\n  data() {\n    return {\n      playlineIndex: '',\n      drawer: false\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.movie-eplist {\n  position: relative;\n  @media screen and (max-width: $col-sm-width - 1px) {\n    .ep-list {\n      display: block;\n      white-space: nowrap;\n      -ms-overflow-style: none; /* for Internet Explorer, Edge */\n      scrollbar-width: none; /* for Firefox */\n      overflow-y: scroll;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      .ep-item {\n        display: inline-block;\n        width: 30%;\n      }\n    }\n    .list-title {\n      margin-bottom: var(--content-margin);\n    }\n  }\n}\n.list-title {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n  h4 {\n    flex: 1;\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 26px;\n    color: var(--color-text-0);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    .more {\n      font-size: 14px;\n      color: var(--color-text-2);\n    }\n  }\n  .change-line {\n    display: flex;\n    align-items: center;\n    color: var(--color-text-2);\n    font-size: 14px;\n    line-height: 22px;\n    cursor: pointer;\n    &:hover {\n      color: var(--color-text-0);\n    }\n  }\n}\n\n.list-wrapper {\n  overflow: auto;\n  &.longlist {\n    max-height: 464px;\n  }\n}\n.ep-list,\n.playlines {\n  .ep-item {\n    padding: 4px;\n    &.visited {\n      .op-button {\n        cursor: not-allowed;\n        background-color: $theme-color_primary;\n        color: #fff;\n        &:hover {\n          color: #fff;\n        }\n      }\n    }\n    .op-button {\n      display: block;\n      padding: 8px;\n      width: 100%;\n      border-radius: 3px;\n      text-align: center;\n      background-color: var(--overlay-bg);\n      color: var(--color-text-1);\n      font-size: 14px;\n      line-height: 20px;\n      &:hover {\n        color: $theme-color_primary;\n      }\n    }\n  }\n}\n.ep-list {\n  display: flex;\n  flex-wrap: wrap;\n  .ep-item {\n    width: 25%;\n  }\n}\n</style>\n<style lang=\"scss\">\n.drawer_ep-list {\n  .el-drawer__header {\n    margin-bottom: 0;\n    padding: 14px;\n  }\n  .el-drawer__body {\n    padding: 0 4px 14px;\n    overflow: scroll;\n    -ms-overflow-style: none; /* for Internet Explorer, Edge */\n    scrollbar-width: none; /* for Firefox */\n    overflow-y: scroll;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n  }\n}\n</style>\n","import { render } from \"./MovieEpisodes.vue?vue&type=template&id=e887fc12&scoped=true\"\nimport script from \"./MovieEpisodes.vue?vue&type=script&lang=js\"\nexport * from \"./MovieEpisodes.vue?vue&type=script&lang=js\"\n\nimport \"./MovieEpisodes.vue?vue&type=style&index=0&id=e887fc12&lang=scss&scoped=true\"\nimport \"./MovieEpisodes.vue?vue&type=style&index=1&id=e887fc12&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-e887fc12\"\n\nexport default script","<template>\n  <el-dialog\n    center\n    v-model=\"visible\"\n    destroy-on-close\n    lock-scroll\n    :show-close=\"false\"\n    custom-class=\"invite-modal\"\n    @open=\"$emit('onChange', true)\"\n    @close=\"$emit('onChange', false)\"\n  >\n    <div class=\"content\">\n      <div class=\"header\">\n        <i class=\"el-icon-circle-close\" @click=\"this.visible = false\"></i>\n        <p>\n          {{ isIos ? '长按图片,添加到“照片”,分享至微信群继续看' : '长按图片转发至微信群继续看' }}\n        </p>\n      </div>\n      <invite-card :movie=\"movie\" />\n    </div>\n  </el-dialog>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { DEVICE_INFO } from '@/config';\nimport InviteCard from '@/components/InviteCard.vue';\n\nexport default defineComponent({\n  components: { InviteCard },\n  props: {\n    movie: {\n      type: Object,\n      default: {}\n    }\n  },\n  emits: ['onChange'],\n  mounted() {\n    this.$bus.on('SHOW_INVITE_MODAL', () => {\n      this.visible = true;\n    });\n  },\n  data() {\n    return {\n      visible: false,\n      isIos: DEVICE_INFO.OS === 'IOS'\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\">\n.el-dialog.invite-modal {\n  width: auto !important;\n  position: relative;\n  box-shadow: none;\n  background: transparent;\n  margin-top: 8vh !important;\n  --el-dialog-padding-primary: 10px;\n  .el-dialog__header {\n    .el-dialog__title {\n      color: #ffffff;\n      font-size: 16px;\n    }\n  }\n  .el-dialog__body {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0;\n    .content {\n      width: 100%;\n\n      .header {\n        color: #fff;\n        text-align: center;\n        font-size: 15px;\n        padding-bottom: 15px;\n        .el-icon-circle-close {\n          font-size: 32px;\n          color: #c0c0c0;\n          text-align: center;\n          margin-bottom: 15px;\n        }\n      }\n    }\n  }\n}\n\n.bottom {\n  margin-top: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .close-button {\n    width: 24px;\n    height: 24px;\n    border-radius: 12px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: rgb(225 225 225 / 30%);\n    color: #ffffff;\n    &.enable {\n      background: rgb(225 225 225 / 50%);\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"invite-card\">\n    <!-- 海报 html 元素 -->\n    <div id=\"posterHtml\">\n      <img id=\"poster-bg\" src=\"/img/bg_poster.png\" />\n      <div class=\"poster-container\">\n        <div class=\"poster\" :v-if=\"postshow\">\n          <img id=\"poster-image\" :src=\"posterImg\" v-show=\"posterImg\" />\n          <img class=\"poster-image-placeholder\" v-if=\"!posterImg\" />\n          <!-- 二维码 -->\n          <div id=\"qrcodeImg\" :v-if=\"postcode\"></div>\n          <!-- 教程UI -->\n          <div class=\"description\">我正在追，扫码打开一起看吧</div>\n          <div class=\"content\">\n            <h2 class=\"title\">{{ movie?.name }}</h2>\n            <div class=\"info\">\n              {{ movie?.year }}·{{ movie?.country || '未知' }}·{{ movie?.type }}·共{{ movie?.count_series }}集\n            </div>\n          </div>\n        </div>\n        <div class=\"poster-bottom\">\n          <img class=\"logo\" :src=\"appLogoUrl\" />\n          <div class=\"app-info\">\n            <h2>{{ appNameCN }}</h2>\n            <p>{{ appSlogan }}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 海报最终合成图 -->\n    <div id=\"myCanvas\" style=\"display: none\"></div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport html2canvas from 'html2canvas';\nimport QRCode from 'qrcodejs2';\nimport { getBase64Image } from '@/utils/getBase64Image';\nimport Canvas2Image from '@/utils/Canvas2Image';\nimport { HOST_NAME, APP_LOGO_URL, APP_NAME_CN, APP_SLOGAN } from '@/config';\n\n// 函数名longpress，参数为: 需长按元素的id、长按之后的逻辑函数func\nfunction longpress(id, func) {\n  var timeOutEvent;\n\n  document.querySelector('#' + id).addEventListener('touchstart', function(e) {\n    // 开启定时器前先清除定时器，防止重复触发\n    clearTimeout(timeOutEvent);\n    // 开启延时定时器\n    timeOutEvent = setTimeout(function() {\n      // 调用长按之后的逻辑函数func\n      func();\n    }, 100); // 长按时间为300ms，可以自己设置\n  });\n\n  document.querySelector('#' + id).addEventListener('touchmove', function(e) {\n    // 长按过程中，手指是不能移动的，若移动则清除定时器，中断长按逻辑\n    clearTimeout(timeOutEvent);\n    /* e.preventDefault() --> 若阻止默认事件，则在长按元素上滑动时，页面是不滚动的，按需求设置吧 */\n  });\n\n  document.querySelector('#' + id).addEventListener('touchend', function(e) {\n    // 若手指离开屏幕时，时间小于我们设置的长按时间，则为点击事件，清除定时器，结束长按逻辑\n    clearTimeout(timeOutEvent);\n  });\n}\n\nexport default defineComponent({\n  setup() {\n    let postcode = true;\n    let postshow = true;\n    return {\n      appLogoUrl: APP_LOGO_URL,\n      appNameCN: APP_NAME_CN,\n      appSlogan: APP_SLOGAN,\n      postshow,\n      postcode\n    };\n  },\n  mounted() {\n    //隐藏清空上一张海报\n    let canvasNode = document.getElementById('myCanvas');\n    canvasNode.style.display = 'none';\n    canvasNode.innerHTML = '';\n\n    //要封面图加载成功，才去生成海报\n    document.getElementById('poster-image').onload = () => {\n      let movieUrl = 'https://' + HOST_NAME + '/movie/' + this.movie.id;\n      this.createQrcode(movieUrl);\n      this.createPoster();\n      window.pwaEventTrack('生成海报', this.movie.name, this.movie.id);\n    };\n\n    getBase64Image(this.movie?.cover)\n      .then(res => {\n        this.posterImg = res;\n      })\n      .catch(error => {\n        console.log('error', error);\n      });\n  },\n\n  props: {\n    movie: {\n      type: Object,\n      default: {}\n    }\n  },\n\n  methods: {\n    createQrcode(text) {\n      // 生成二维码\n      const qrcodeImgEl = document.getElementById('qrcodeImg');\n      qrcodeImgEl.innerHTML = '';\n      let width = document.documentElement.clientWidth;\n      // width = width * 0.32;\n      width = 60;\n\n      let qrcode = new QRCode(qrcodeImgEl, {\n        width: width,\n        height: width,\n        colorDark: '#000000',\n        colorLight: '#ffffff',\n        correctLevel: QRCode.CorrectLevel.H\n      });\n      qrcode.makeCode(text);\n    },\n    createPoster() {\n      // 生成海报\n      const vm = this;\n      const domObj = document.getElementById('posterHtml');\n\n      var scale = 1;\n      var width = domObj.offsetWidth;\n      var height = domObj.offsetHeight;\n\n      var canvas = document.createElement('canvas');\n      canvas.width = width;\n      canvas.height = height;\n\n      //放大2倍宽高 避免渲染模糊\n      var scale = 2;\n      canvas.width = width * scale;\n      canvas.height = height * scale;\n      // canvas.getContext('2d').scale(scale, scale);\n\n      var opts = {\n        scale: scale,\n        canvas: canvas,\n        width: width,\n        height: height,\n        useCORS: true,\n        allowTaint: false,\n        logging: false,\n        letterRendering: true\n      };\n\n      let _this = this;\n      html2canvas(domObj, opts).then(function(canvas) {\n        var context = canvas.getContext('2d');\n\n        // 关闭图片抗锯齿\n        // (context as any).mozImageSmoothingEnabled = false;\n        // (context as any).webkitImageSmoothingEnabled = false;\n        // (context as any).msImageSmoothingEnabled = false;\n        // (context as any).imageSmoothingEnabled = false;\n\n        var img = Canvas2Image.convertToPNG(canvas, canvas.width, canvas.height);\n        vm.postshow = false;\n        vm.postcode = false;\n        img.style.width = '100%';\n        img.style.height = '100%';\n        img.style.borderRadius = '8px';\n        img.id = 'posterIMG';\n\n        //海报合并图替换\n        let canvasNode = document.getElementById('myCanvas');\n        canvasNode.innerHTML = ''; //清空上一张海报\n        canvasNode.appendChild(img); //填充新的海报\n\n        let movie = _this.movie;\n        longpress('posterIMG', function() {\n          window.pwaEventTrack('长按分享', movie.name, movie.id);\n        });\n\n        let togglePosterDom = () => {\n          //隐藏原素材封面图+二维码\n          let posterEl = document.getElementById('posterHtml');\n          (posterEl as any).style.display = 'none';\n          //展示可以长按保存的新海报\n          let myCanvas = document.getElementById('myCanvas');\n          (myCanvas as any).style.display = 'block';\n        };\n        togglePosterDom();\n\n        // vm.$nextTick(togglePosterDom);\n      });\n    }\n  },\n\n  data() {\n    return {\n      posterImg: null\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.invite-card {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n#posterHtml {\n  // width: 86%;\n  // left: 7%;\n  // max-width: 320px;\n  height: 580px;\n}\n#myCanvas {\n  width: 86%;\n  max-width: 320px;\n  border-radius: 8px;\n}\n.poster-container {\n  width: 320px;\n  display: flex;\n  // justify-content: center;\n  flex-direction: column;\n  align-items: center;\n}\n.poster {\n  width: 280px;\n  padding: 15px;\n  background: #fff;\n  overflow: hidden;\n  position: relative;\n  border-radius: 10px;\n  top: 25px;\n}\n#poster-bg {\n  width: 100%;\n  height: 392px;\n  position: absolute;\n  // filter: blur(10px);\n  overflow: hidden;\n  margin: 0 auto;\n  height: 580px;\n  // top: -5%;\n  // padding-right: 15px;\n  max-width: 320px;\n  // border-radius: 8px;\n  // top: 0px;\n  // left: 7%;\n}\n#poster-image {\n  width: 250px;\n  height: 322px;\n  // background: #f1f2f3;\n  border-radius: 8px;\n}\n\n.poster-image-placeholder {\n  width: 250px;\n  height: 322px;\n  background: #f1f2f3;\n  border-radius: 8px;\n}\n\n#qrcodeImg {\n  position: absolute;\n  left: 15px;\n  top: 310px;\n  border: solid 5px #fff;\n  border-top-right-radius: 4px;\n}\n.description {\n  margin-left: 65px;\n  padding: 15px 0px 15px 10px;\n  font-size: 10px;\n  color: #3f4457;\n}\n.content {\n  padding-top: 5px;\n  color: #f1f1f1;\n  .title {\n    font-size: 20px;\n    font-weight: 500;\n    color: #101010;\n  }\n  .info {\n    margin-top: 6px;\n    font-size: 10px;\n    color: #9da4ad;\n  }\n}\n.poster-bottom {\n  position: relative;\n  top: 55px;\n  display: flex;\n  align-items: center;\n  .logo {\n    width: 50px;\n    height: 50px;\n    border-radius: 5px;\n  }\n  .app-info {\n    color: #fff;\n    margin-left: 15px;\n    h2 {\n      font-size: 18px;\n      font-weight: 500;\n      margin-bottom: 5px;\n    }\n  }\n}\n</style>\n","\nimport { defineComponent } from 'vue';\nimport html2canvas from 'html2canvas';\nimport QRCode from 'qrcodejs2';\nimport { getBase64Image } from '@/utils/getBase64Image';\nimport Canvas2Image from '@/utils/Canvas2Image';\nimport { HOST_NAME, APP_LOGO_URL, APP_NAME_CN, APP_SLOGAN } from '@/config';\n\n// 函数名longpress，参数为: 需长按元素的id、长按之后的逻辑函数func\nfunction longpress(id, func) {\n  var timeOutEvent;\n\n  document.querySelector('#' + id).addEventListener('touchstart', function(e) {\n    // 开启定时器前先清除定时器，防止重复触发\n    clearTimeout(timeOutEvent);\n    // 开启延时定时器\n    timeOutEvent = setTimeout(function() {\n      // 调用长按之后的逻辑函数func\n      func();\n    }, 100); // 长按时间为300ms，可以自己设置\n  });\n\n  document.querySelector('#' + id).addEventListener('touchmove', function(e) {\n    // 长按过程中，手指是不能移动的，若移动则清除定时器，中断长按逻辑\n    clearTimeout(timeOutEvent);\n    /* e.preventDefault() --> 若阻止默认事件，则在长按元素上滑动时，页面是不滚动的，按需求设置吧 */\n  });\n\n  document.querySelector('#' + id).addEventListener('touchend', function(e) {\n    // 若手指离开屏幕时，时间小于我们设置的长按时间，则为点击事件，清除定时器，结束长按逻辑\n    clearTimeout(timeOutEvent);\n  });\n}\n\nexport default defineComponent({\n  setup() {\n    let postcode = true;\n    let postshow = true;\n    return {\n      appLogoUrl: APP_LOGO_URL,\n      appNameCN: APP_NAME_CN,\n      appSlogan: APP_SLOGAN,\n      postshow,\n      postcode\n    };\n  },\n  mounted() {\n    //隐藏清空上一张海报\n    let canvasNode = document.getElementById('myCanvas');\n    canvasNode.style.display = 'none';\n    canvasNode.innerHTML = '';\n\n    //要封面图加载成功，才去生成海报\n    document.getElementById('poster-image').onload = () => {\n      let movieUrl = 'https://' + HOST_NAME + '/movie/' + this.movie.id;\n      this.createQrcode(movieUrl);\n      this.createPoster();\n      window.pwaEventTrack('生成海报', this.movie.name, this.movie.id);\n    };\n\n    getBase64Image(this.movie?.cover)\n      .then(res => {\n        this.posterImg = res;\n      })\n      .catch(error => {\n        console.log('error', error);\n      });\n  },\n\n  props: {\n    movie: {\n      type: Object,\n      default: {}\n    }\n  },\n\n  methods: {\n    createQrcode(text) {\n      // 生成二维码\n      const qrcodeImgEl = document.getElementById('qrcodeImg');\n      qrcodeImgEl.innerHTML = '';\n      let width = document.documentElement.clientWidth;\n      // width = width * 0.32;\n      width = 60;\n\n      let qrcode = new QRCode(qrcodeImgEl, {\n        width: width,\n        height: width,\n        colorDark: '#000000',\n        colorLight: '#ffffff',\n        correctLevel: QRCode.CorrectLevel.H\n      });\n      qrcode.makeCode(text);\n    },\n    createPoster() {\n      // 生成海报\n      const vm = this;\n      const domObj = document.getElementById('posterHtml');\n\n      var scale = 1;\n      var width = domObj.offsetWidth;\n      var height = domObj.offsetHeight;\n\n      var canvas = document.createElement('canvas');\n      canvas.width = width;\n      canvas.height = height;\n\n      //放大2倍宽高 避免渲染模糊\n      var scale = 2;\n      canvas.width = width * scale;\n      canvas.height = height * scale;\n      // canvas.getContext('2d').scale(scale, scale);\n\n      var opts = {\n        scale: scale,\n        canvas: canvas,\n        width: width,\n        height: height,\n        useCORS: true,\n        allowTaint: false,\n        logging: false,\n        letterRendering: true\n      };\n\n      let _this = this;\n      html2canvas(domObj, opts).then(function(canvas) {\n        var context = canvas.getContext('2d');\n\n        // 关闭图片抗锯齿\n        // (context as any).mozImageSmoothingEnabled = false;\n        // (context as any).webkitImageSmoothingEnabled = false;\n        // (context as any).msImageSmoothingEnabled = false;\n        // (context as any).imageSmoothingEnabled = false;\n\n        var img = Canvas2Image.convertToPNG(canvas, canvas.width, canvas.height);\n        vm.postshow = false;\n        vm.postcode = false;\n        img.style.width = '100%';\n        img.style.height = '100%';\n        img.style.borderRadius = '8px';\n        img.id = 'posterIMG';\n\n        //海报合并图替换\n        let canvasNode = document.getElementById('myCanvas');\n        canvasNode.innerHTML = ''; //清空上一张海报\n        canvasNode.appendChild(img); //填充新的海报\n\n        let movie = _this.movie;\n        longpress('posterIMG', function() {\n          window.pwaEventTrack('长按分享', movie.name, movie.id);\n        });\n\n        let togglePosterDom = () => {\n          //隐藏原素材封面图+二维码\n          let posterEl = document.getElementById('posterHtml');\n          (posterEl as any).style.display = 'none';\n          //展示可以长按保存的新海报\n          let myCanvas = document.getElementById('myCanvas');\n          (myCanvas as any).style.display = 'block';\n        };\n        togglePosterDom();\n\n        // vm.$nextTick(togglePosterDom);\n      });\n    }\n  },\n\n  data() {\n    return {\n      posterImg: null\n    };\n  }\n});\n","import { render } from \"./InviteCard.vue?vue&type=template&id=1d3d67dc&scoped=true\"\nimport script from \"./InviteCard.vue?vue&type=script&lang=ts\"\nexport * from \"./InviteCard.vue?vue&type=script&lang=ts\"\n\nimport \"./InviteCard.vue?vue&type=style&index=0&id=1d3d67dc&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1d3d67dc\"\n\nexport default script","\nimport { defineComponent, ref } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { DEVICE_INFO } from '@/config';\nimport InviteCard from '@/components/InviteCard.vue';\n\nexport default defineComponent({\n  components: { InviteCard },\n  props: {\n    movie: {\n      type: Object,\n      default: {}\n    }\n  },\n  emits: ['onChange'],\n  mounted() {\n    this.$bus.on('SHOW_INVITE_MODAL', () => {\n      this.visible = true;\n    });\n  },\n  data() {\n    return {\n      visible: false,\n      isIos: DEVICE_INFO.OS === 'IOS'\n    };\n  }\n});\n","import { render } from \"./InviteModal.vue?vue&type=template&id=324c00ca\"\nimport script from \"./InviteModal.vue?vue&type=script&lang=ts\"\nexport * from \"./InviteModal.vue?vue&type=script&lang=ts\"\n\nimport \"./InviteModal.vue?vue&type=style&index=0&id=324c00ca&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <div id=\"feedback-dialog\" v-loading.fullscreen.lock=\"loading\">\n    <el-dialog v-model=\"visible\" custom-class=\"feedback-modal\" :title=\"modalTitle\" width=\"90%\" destroy-on-close center>\n      <div class=\"tips\">\n        请详细描述您遇到的问题，便于平台更好的为您解决。\n      </div>\n      <el-input\n        v-model=\"content\"\n        maxlength=\"140\"\n        placeholder=\"请详细描述反馈问题，便于平台更好的解决问题\"\n        show-word-limit\n        type=\"textarea\"\n        class=\"input-style\"\n        resize=\"none\"\n      >\n      </el-input>\n      <el-button type=\"primary\" :disabled=\"disabled\" @click=\"onSubmit\" class=\"submit-button\">\n        提交\n      </el-button>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { exceptionCapture, errorMessage } from '@/utils';\nimport { useMutation } from '@vue/apollo-composable';\nimport { CREATE_FEEDBACK_MUTATION } from '@/graphql';\n\nexport default defineComponent({\n  setup() {\n    const visible = ref(false);\n    const content = ref('');\n\n    const { mutate: createFeedbackMutation, loading } = useMutation(CREATE_FEEDBACK_MUTATION, () => ({\n      variables: {\n        content: content.value\n      },\n      fetchPolicy: 'network-only'\n    }));\n\n    async function onSubmit() {\n      const [err, res] = await exceptionCapture(() => createFeedbackMutation());\n      if (err) {\n        ElMessage.error(`反馈失败：${errorMessage(err)}`);\n      } else if (res?.data.createFeedback) {\n        visible.value = false;\n        ElMessage({ message: '反馈成功!', type: 'success' });\n      }\n    }\n\n    return {\n      visible,\n      loading,\n      content,\n      onSubmit\n    };\n  },\n  computed: {\n    disabled() {\n      return !this.content;\n    }\n  },\n  mounted() {\n    this.$bus.on('SHOW_FEEDBACK_MODAL', content => {\n      this.content = content;\n      this.visible = true;\n    });\n  },\n  data() {\n    return {\n      content: '',\n      modalTitle: '意见反馈'\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n#feedback-dialog {\n  .feedback-modal {\n    .tips {\n      font-size: 14px;\n      line-height: 20px;\n      color: var(--color-text-2);\n    }\n    .input-style {\n      margin: 20px 0;\n    }\n    .submit-button {\n      width: 100%;\n      height: 44px;\n      font-size: 1.6rem;\n      font-weight: 400;\n    }\n  }\n}\n</style>\n\n<style lang=\"scss\">\n.el-dialog.feedback-modal {\n  max-width: 428px;\n  position: relative;\n  border-radius: 6px;\n  padding: 25px 20px 0;\n  --el-dialog-padding-primary: 10px;\n  &.el-dialog--center {\n    text-align: left;\n    .el-dialog__header .el-dialog__headerbtn {\n      position: absolute;\n      top: 20px;\n      right: 20px;\n      .el-icon {\n        --font-size: 20px;\n        font-weight: bold;\n      }\n    }\n  }\n  .el-dialog__body {\n    padding: 10px calc(var(--el-dialog-padding-primary) + 5px) 30px;\n    .input-style {\n      .el-textarea__inner {\n        min-height: 105px !important;\n        background: var(--color-bg-1);\n        border: none;\n        color: var(--color-text-1);\n        border-radius: 4px;\n        font-size: 14px;\n        font-weight: 400;\n        line-height: 22px;\n      }\n      .el-input__count {\n        background: var(--color-bg-1);\n      }\n    }\n  }\n}\n</style>\n","\nimport { defineComponent, ref } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { exceptionCapture, errorMessage } from '@/utils';\nimport { useMutation } from '@vue/apollo-composable';\nimport { CREATE_FEEDBACK_MUTATION } from '@/graphql';\n\nexport default defineComponent({\n  setup() {\n    const visible = ref(false);\n    const content = ref('');\n\n    const { mutate: createFeedbackMutation, loading } = useMutation(CREATE_FEEDBACK_MUTATION, () => ({\n      variables: {\n        content: content.value\n      },\n      fetchPolicy: 'network-only'\n    }));\n\n    async function onSubmit() {\n      const [err, res] = await exceptionCapture(() => createFeedbackMutation());\n      if (err) {\n        ElMessage.error(`反馈失败：${errorMessage(err)}`);\n      } else if (res?.data.createFeedback) {\n        visible.value = false;\n        ElMessage({ message: '反馈成功!', type: 'success' });\n      }\n    }\n\n    return {\n      visible,\n      loading,\n      content,\n      onSubmit\n    };\n  },\n  computed: {\n    disabled() {\n      return !this.content;\n    }\n  },\n  mounted() {\n    this.$bus.on('SHOW_FEEDBACK_MODAL', content => {\n      this.content = content;\n      this.visible = true;\n    });\n  },\n  data() {\n    return {\n      content: '',\n      modalTitle: '意见反馈'\n    };\n  }\n});\n","import { render } from \"./FeedbackModal.vue?vue&type=template&id=15c178d7&scoped=true\"\nimport script from \"./FeedbackModal.vue?vue&type=script&lang=ts\"\nexport * from \"./FeedbackModal.vue?vue&type=script&lang=ts\"\n\nimport \"./FeedbackModal.vue?vue&type=style&index=0&id=15c178d7&lang=scss&scoped=true\"\nimport \"./FeedbackModal.vue?vue&type=style&index=1&id=15c178d7&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-15c178d7\"\n\nexport default script","\nimport { ref, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { useApolloClient, useMutation } from '@vue/apollo-composable';\nimport { throttle } from 'lodash';\nimport {\n  useMovieQuery,\n  useRelatedMoviesQuery,\n  SAVE_WATCH_PROGRESS_MUTATION,\n  FAVORITE_MOVIES_QUERY,\n  MOVIES_HISTORY_QUERY,\n  REPORT_MOVIE_EXCEPTION_MUTATION\n} from '@/graphql';\nimport { APP_NAME, DEVICE_INFO } from '@/config';\nimport { Storage } from '@/store';\nimport DPlayer from '@/components/player/DPlayer.vue';\nimport CommentModule from '@/components/comment/CommentModule.vue';\nimport RCMovieItem from '@/components/RCMovieItem.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport MovieInfo from './parts/MovieInfo.vue';\nimport MovieToolbar from './parts/MovieToolbar.vue';\nimport MovieEpisodes from './parts/MovieEpisodes.vue';\nimport InviteModal from './parts/InviteModal.vue';\nimport FeedbackModal from './parts/FeedbackModal.vue';\n\nexport default {\n  name: 'MovieDetail',\n  components: {\n    DPlayer,\n    CommentModule,\n    RCMovieItem,\n    Skeleton,\n    MovieInfo,\n    MovieToolbar,\n    MovieEpisodes,\n    InviteModal,\n    FeedbackModal\n  },\n  setup(props) {\n    const route = useRoute();\n    const movieId = ref(Number(route.params?.id));\n    const showInvitePrompt = ref(!Storage.getItem('invitePrompt' + movieId.value));\n    watch(route, (value, prevValue) => {\n      movieId.value = Number(value.params?.id);\n    });\n    const { movie } = useMovieQuery({\n      id: movieId\n    });\n    const { relatedMovies } = useRelatedMoviesQuery({\n      movie_id: movieId,\n      limit: 12\n    });\n\n    const play_lines = ref(movie.value?.play_lines);\n    const last_watch_series = ref(movie.value?.last_watch_series || 0);\n    const last_watch_progress = ref(movie.value?.last_watch_progress || 0);\n    const series = ref(play_lines.value?.[0]?.data);\n    const sourceName = ref(play_lines.value?.[0]?.name);\n    const videoSource = ref(series.value?.[last_watch_series.value]);\n\n    watch(movie, (value, prevValue) => {\n      play_lines.value = value?.play_lines;\n      last_watch_series.value = value?.last_watch_series || 0;\n      last_watch_progress.value = value?.last_watch_progress || 0;\n      series.value = play_lines.value?.[0]?.data;\n      sourceName.value = play_lines.value?.[0]?.name;\n      videoSource.value = series.value?.[last_watch_series.value];\n      if (!videoSource.value) {\n        onPlayError();\n      }\n      if (value?.name && value?.name !== prevValue?.name) {\n        window.pwaEventTrack('播放影片', value?.name, value?.id);\n      }\n    });\n\n    // 选集\n    function changeEpisode({ episode, episodeIndex }) {\n      if (episodeIndex >= 0) {\n        last_watch_series.value = episodeIndex;\n      } else {\n        last_watch_series.value = series.value.indexOf(videoSource.value);\n      }\n      videoSource.value = episode;\n      window.pwaEventTrack('选集', movie.value?.name, movie.value?.id);\n    }\n    // 播放下一集\n    function playNextEpisode() {\n      if (series.value?.length - 1 > last_watch_series.value) {\n        last_watch_series.value++;\n        videoSource.value = series.value?.[last_watch_series.value];\n        window.pwaEventTrack('播放下一集', movie.value?.name, movie.value?.id);\n      }\n    }\n\n    // 切换线路\n    function changePlayline(playline: { name: String; data: any[] }) {\n      series.value = playline?.data;\n      sourceName.value = playline?.name;\n      videoSource.value = series.value?.[last_watch_series.value];\n      window.pwaEventTrack('切换线路', movie.value?.name, movie.value?.id);\n      if (!videoSource.value) {\n        onPlayError();\n      }\n    }\n\n    const client = useApolloClient().client;\n    const store = useStore();\n    const me = ref(store.state?.user?.user);\n    async function saveProgressMutation(progress: Number) {\n      if (me.value?.id) {\n        await client.mutate({\n          mutation: SAVE_WATCH_PROGRESS_MUTATION,\n          variables: {\n            movie_id: movieId.value,\n            series_index: last_watch_series.value,\n            progress\n          },\n          refetchQueries: () => [\n            {\n              query: FAVORITE_MOVIES_QUERY,\n              variables: { user_id: me.value?.id }\n            },\n            {\n              query: MOVIES_HISTORY_QUERY\n            }\n          ]\n        });\n      }\n    }\n    const saveWatchProgress = throttle(saveProgressMutation, 8000);\n\n    const playError = ref(false);\n    const { mutate: reportMovieExceptionMutation } = useMutation(REPORT_MOVIE_EXCEPTION_MUTATION, () => ({\n      variables: {\n        movie_id: movieId.value,\n        source_name: sourceName.value\n      }\n    }));\n    function onPlayError() {\n      console.log('onPlayError', movieId.value, sourceName.value);\n      playError.value = true;\n      reportMovieExceptionMutation();\n    }\n\n    return {\n      movie,\n      relatedMovies,\n      play_lines,\n      sourceName,\n      series,\n      videoSource,\n      last_watch_series,\n      last_watch_progress,\n      changeEpisode,\n      playNextEpisode,\n      changePlayline,\n      saveWatchProgress,\n      showInvitePrompt,\n      playError,\n      onPlayError\n    };\n  },\n  mounted() {\n    const hostname = location.hostname.toLocaleLowerCase();\n    const isHost = APP_NAME === hostname.slice(0, hostname.lastIndexOf('.'));\n    const pwaPrompt = Storage.getItem('pwaPrompt');\n    if (isHost && !pwaPrompt && DEVICE_INFO.OS === 'IOS') {\n      setTimeout(() => {\n        this.$bus.emit('SHOW_IOS_PWA_PROMPT');\n        Storage.setItem('pwaPrompt', true, 86400);\n      }, 3000);\n    }\n  },\n  methods: {\n    toggleCollapse() {\n      this.isCollapse = !this.isCollapse;\n    },\n    showInviteOverlay() {\n      if (this.showInvitePrompt) {\n        this.showInvitePrompt = false;\n        this.$bus.emit('SHOW_INVITE_MODAL');\n        Storage.setItem('invitePrompt' + this.movie?.id, true);\n        window.pwaEventTrack('弹出分享', this.movie?.name, this.movie?.id);\n      }\n    },\n    changePlayerVisible(visible: boolean) {\n      this.playerVisible = !visible;\n    },\n    showFeedback() {\n      this.$bus.emit(\n        'SHOW_FEEDBACK_MODAL',\n        `视频播放问题：${this.movie?.name}，${this.sourceName}，${\n          this.series.length > 1 ? '第' + this.last_watch_series + 1 + '集' : ''\n        }`\n      );\n    }\n  },\n  data() {\n    return {\n      isCollapse: true,\n      playerVisible: true\n    };\n  }\n};\n","import { render } from \"./MovieDetail.vue?vue&type=template&id=597262d4&scoped=true\"\nimport script from \"./MovieDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./MovieDetail.vue?vue&type=script&lang=ts\"\n\nimport \"./MovieDetail.vue?vue&type=style&index=0&id=597262d4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-597262d4\"\n\nexport default script","<template>\n  <div id=\"messagepage\">\n    <div class=\"warn-info\">\n      <p class=\"placard\">公告</p>\n      <p>1. 片源、播放问题请说明具体的影片名，线路，集数，问题！</p>\n      <p>2. 求片请备注（名称-年份-国家）没有备注的不予理会。</p>\n      <p class=\"warn\">PS：留言求助前，请大家务必在网站搜索，确认无此资源后求助！站长精力有限，不按规则求片的一律删除！！！</p>\n    </div>\n    <div class=\"comment-module\">\n      <div class=\"module-title\">\n        <span class=\"title\">全部留言</span>\n        <div class=\"divider-wrap\">\n          <div class=\"divider\"></div>\n        </div>\n      </div>\n      <div class=\"input-module\">\n        <div class=\"creator\">\n          <a class=\"user-face\" v-if=\"!user.id\">\n            <div class=\"avatar-wrap\">\n              <img class=\"avatar\" src=\"/img/noavatar.png\" alt=\"点击登录\" />\n            </div>\n          </a>\n          <a class=\"user-face\" :href=\"`user/${user.id}`\" v-else>\n            <div class=\"avatar-wrap\">\n              <img class=\"avatar\" :src=\"user.avatar\" alt=\"用户头像\" />\n            </div>\n          </a>\n        </div>\n        <div class=\"editor-container\">\n          <FeedbackEditor />\n        </div>\n      </div>\n      <div class=\"comments-wrap\">\n        <div class=\"comments-empty\" v-if=\"feedbacks?.length == 0\">\n          <Empty type=\"comment\" description=\"暂无评论\" />\n        </div>\n        <div class=\"comment-list\" v-else>\n          <FeedbackItem\n            v-for=\"feedback in feedbacks\"\n            :key=\"feedback?.id\"\n            :feedback=\"feedback\"\n            :currentPage=\"currentPage\"\n          />\n        </div>\n      </div>\n      <div class=\"comments-pagination\" v-if=\"total > 10\">\n        <el-pagination\n          background\n          :page-size=\"10\"\n          :total=\"total\"\n          layout=\"prev, pager, next\"\n          :hide-on-single-page=\"true\"\n          @current-change=\"onPageChange\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue';\nimport { useQuery, useResult } from '@vue/apollo-composable';\nimport { FEEDBACKS_QUERY } from '@/graphql';\nimport FeedbackEditor from '@/components/feedback/FeedbackEditor.vue';\nimport FeedbackItem from '@/components/feedback/FeedbackItem.vue';\n\nexport default defineComponent({\n  name: 'Feedback',\n  components: {\n    FeedbackEditor,\n    FeedbackItem\n  },\n  setup() {\n    const currentPage = ref(1);\n\n    function onPageChange(page: number) {\n      currentPage.value = page;\n    }\n\n    const { result } = useQuery(FEEDBACKS_QUERY, { type: 'web', page: currentPage });\n    const feedbacks = useResult(result, [], (data: any) => data?.feedbacks?.data);\n    const total = useResult(result, {}, (data: any) => data?.feedbacks?.paginatorInfo?.total);\n\n    return {\n      feedbacks,\n      total,\n      currentPage,\n      onPageChange\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  methods: {\n    toggleCommentEditor() {\n      this.showCommentEditor = !this.showCommentEditor;\n    }\n  },\n  data() {\n    return {\n      showCommentEditor: false\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\">\n#messagepage {\n  max-width: 975px;\n  margin: 0 auto;\n  padding: 15px 0;\n  @media screen and (max-width: $col-lg-width) {\n    padding-top: 0;\n  }\n}\n.warn-info {\n  background-color: #fff2f6;\n  border-radius: 4px;\n  padding: 1%;\n  p {\n    font-size: 14px;\n    line-height: 24px;\n    color: #584545;\n  }\n  .placard {\n    font-size: 17px;\n    font-weight: bold;\n    text-align: center;\n  }\n  .warn {\n    font-size: 16px;\n    font-weight: 500;\n    color: #f10606;\n    margin: 5px 0;\n  }\n  @media screen and (max-width: $col-lg-width) {\n    border-radius: 0;\n    p {\n      font-size: 13px;\n    }\n    .placard {\n      font-size: 16px;\n    }\n    .warn {\n      font-size: 15px;\n    }\n  }\n}\n.editor-container {\n  flex: 1;\n}\n.comment-module {\n  padding-top: 20px;\n  .module-title {\n    color: var(--color-text-3);\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 24px;\n    position: relative;\n    .title {\n      background-color: var(--color-page-bg);\n      display: inline-block;\n      padding-right: 8px;\n      position: relative;\n      z-index: 2;\n    }\n    .divider-wrap {\n      left: 0;\n      position: absolute;\n      right: 0;\n      top: 50%;\n      .divider {\n        background-color: var(--color-border);\n        display: block;\n        height: 1px;\n        position: relative;\n        width: 100%;\n      }\n    }\n  }\n  .input-module {\n    display: flex;\n    margin-bottom: 40px;\n    margin-top: 20px;\n    .creator {\n      cursor: pointer;\n      flex: 0 1;\n      margin-right: 12px;\n      .user-face {\n        position: relative;\n        .avatar-wrap {\n          height: 40px;\n          width: 40px;\n          background-color: #e6e7ee;\n          border: 1px solid var(--color-bg-skeleton-stroke);\n          border-radius: 50%;\n          box-sizing: content-box;\n          flex-grow: 0;\n          flex-shrink: 0;\n          overflow: hidden;\n          position: relative;\n          .avatar {\n            height: 100%;\n            position: relative;\n            width: 100%;\n          }\n        }\n      }\n    }\n  }\n  .comments-wrap {\n    position: relative;\n    font-family: Microsoft YaHei, Arial, Helvetica, sans-serif;\n    .comments-empty {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      color: var(--color-text-2);\n      font-size: 12px;\n      font-weight: 400;\n      line-height: 20px;\n    }\n  }\n}\n.comments-pagination {\n  margin-top: var(--content-margin);\n  display: flex;\n  justify-content: center;\n}\n</style>\n","<template>\n  <div class=\"comment-editor\">\n    <div class=\"not-log\" v-if=\"!user.id\">\n      <div class=\"login\" @click=\"showLoginModal\">\n        请先\n        <span>&nbsp;登录&nbsp;</span>后发表评论\n      </div>\n    </div>\n    <div class=\"editor\" v-else>\n      <div class=\"editor-input\">\n        <div class=\"input-container\" v-if=\"!feedbackId\">\n          <textarea v-model=\"body\" :disabled=\"loading\" class=\"input-root\" placeholder=\"请输入留言内容..\" />\n        </div>\n        <div class=\"input-container\" v-if=\"feedbackId\">\n          <input\n            v-model=\"body\"\n            :disabled=\"loading\"\n            class=\"input-root\"\n            type=\"text\"\n            placeholder=\"请输入回复内容..\"\n          />\n        </div>\n      </div>\n      <div class=\"editor-toolbar\">\n        <div class=\"toolbar-menu\" @click=\"onSubmit\">\n          <span :class=\"['menu-item', body?.length > 0 ? 'active' : 'disabled']\">\n            <svg class=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36 36\">\n              <path\n                fill-rule=\"evenodd\"\n                clip-rule=\"evenodd\"\n                d=\"M17.5 30C23.851 30 29 24.851 29 18.5S23.851 7 17.5 7 6 12.149 6 18.5 11.149 30 17.5 30zm-5.16-13.883a1.16 1.16 0 001.64 1.64l2.395-2.394v8.838a1.16 1.16 0 002.321 0v-8.839l1.028 1.028 1.368 1.368a1.16 1.16 0 001.64-1.641l-4.219-4.22a1.382 1.382 0 00-1.954 0l-4.22 4.22z\"\n              />\n            </svg>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { toRefs, ref } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { useMutation } from '@vue/apollo-composable';\nimport { FEEDBACK_MUTATION, FEEDBACKS_QUERY, ADD_COMMENT_MUTATION, COMMENTS_QUERY } from '@/graphql';\nimport { exceptionCapture, errorMessage } from '@/utils';\n\nexport default {\n  props: {\n    feedbackId: Number\n  },\n  setup(props) {\n    const { feedbackId } = toRefs(props);\n    const body = ref('');\n\n    const { mutate: addFeedbackMutate } = useMutation(FEEDBACK_MUTATION, () => ({\n      variables: {\n        type: 'web',\n        content: body.value\n      },\n      fetchPolicy: 'network-only',\n      refetchQueries: () => [\n        {\n          query: FEEDBACKS_QUERY,\n          variables: { type: 'web' },\n          fetchPolicy: 'network-only'\n        }\n      ]\n    }));\n\n    const { mutate: addCommentMutate, loading } = useMutation(ADD_COMMENT_MUTATION, () => ({\n      variables: {\n        id: feedbackId.value,\n        type: 'feedbacks',\n        body: body.value\n      },\n      fetchPolicy: 'network-only',\n      refetchQueries: () => [\n        {\n          query: COMMENTS_QUERY,\n          variables: { id: feedbackId.value, type: 'feedbacks' },\n          fetchPolicy: 'network-only'\n        }\n      ]\n    }));\n\n    async function onSubmit() {\n      if (body.value.length > 0) {\n        if (!feedbackId.value) {\n          const [err, res] = await exceptionCapture(() => addFeedbackMutate());\n          if (err) {\n            ElMessage.error(`发布失败：${errorMessage(err)}`);\n          } else if (res?.data.createFeedback) {\n            body.value = '';\n            ElMessage({ message: '发布成功！', type: 'success' });\n          }\n        } else {\n          const [err, res] = await exceptionCapture(() => addCommentMutate());\n          if (err) {\n            ElMessage.error(`发布失败：${errorMessage(err)}`);\n          } else if (res?.data.addComment) {\n            body.value = '';\n            ElMessage({ message: '发布成功！', type: 'success' });\n          }\n        }\n      }\n    }\n\n    return {\n      body,\n      loading,\n      feedbackId,\n      onSubmit\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  methods: {\n    showLoginModal() {\n      this.$bus.emit('SHOW_LOGIN_MODAL');\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.comment-editor {\n  width: 100%;\n  background-color: var(--color-bg-2);\n  border: 1 px solid var(--color-bg-2);\n  border-radius: 4px;\n  position: relative;\n  .not-log {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 44px;\n    .login {\n      color: var(--color-text-1);\n      font-size: 14px;\n      font-weight: 400;\n      line-height: 22px;\n      cursor: pointer;\n      span {\n        color: $theme-color_primary;\n      }\n    }\n  }\n  .editor {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 44px;\n    .editor-input {\n      flex: 1;\n      height: 100%;\n      overflow: hidden;\n      padding-left: 12px;\n      .input-container {\n        .input-root {\n          width: 100%;\n          padding: 11px 0;\n          font-size: 14px;\n          font-weight: 400;\n          line-height: 22px;\n        }\n      }\n    }\n    .editor-toolbar {\n      margin: 0 4px 0 22px;\n      .toolbar-menu {\n        margin: 4px 0;\n        display: flex;\n        .menu-item {\n          height: 36px;\n          width: 36px;\n          cursor: pointer;\n          &.active,\n          &:hover {\n            .icon {\n              fill: $theme-color_primary;\n            }\n          }\n          &.disabled {\n            cursor: not-allowed;\n          }\n          .icon {\n            height: 100%;\n            width: 100%;\n            fill: var(--color-text-3);\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","\nimport { toRefs, ref } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { useMutation } from '@vue/apollo-composable';\nimport { FEEDBACK_MUTATION, FEEDBACKS_QUERY, ADD_COMMENT_MUTATION, COMMENTS_QUERY } from '@/graphql';\nimport { exceptionCapture, errorMessage } from '@/utils';\n\nexport default {\n  props: {\n    feedbackId: Number\n  },\n  setup(props) {\n    const { feedbackId } = toRefs(props);\n    const body = ref('');\n\n    const { mutate: addFeedbackMutate } = useMutation(FEEDBACK_MUTATION, () => ({\n      variables: {\n        type: 'web',\n        content: body.value\n      },\n      fetchPolicy: 'network-only',\n      refetchQueries: () => [\n        {\n          query: FEEDBACKS_QUERY,\n          variables: { type: 'web' },\n          fetchPolicy: 'network-only'\n        }\n      ]\n    }));\n\n    const { mutate: addCommentMutate, loading } = useMutation(ADD_COMMENT_MUTATION, () => ({\n      variables: {\n        id: feedbackId.value,\n        type: 'feedbacks',\n        body: body.value\n      },\n      fetchPolicy: 'network-only',\n      refetchQueries: () => [\n        {\n          query: COMMENTS_QUERY,\n          variables: { id: feedbackId.value, type: 'feedbacks' },\n          fetchPolicy: 'network-only'\n        }\n      ]\n    }));\n\n    async function onSubmit() {\n      if (body.value.length > 0) {\n        if (!feedbackId.value) {\n          const [err, res] = await exceptionCapture(() => addFeedbackMutate());\n          if (err) {\n            ElMessage.error(`发布失败：${errorMessage(err)}`);\n          } else if (res?.data.createFeedback) {\n            body.value = '';\n            ElMessage({ message: '发布成功！', type: 'success' });\n          }\n        } else {\n          const [err, res] = await exceptionCapture(() => addCommentMutate());\n          if (err) {\n            ElMessage.error(`发布失败：${errorMessage(err)}`);\n          } else if (res?.data.addComment) {\n            body.value = '';\n            ElMessage({ message: '发布成功！', type: 'success' });\n          }\n        }\n      }\n    }\n\n    return {\n      body,\n      loading,\n      feedbackId,\n      onSubmit\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  methods: {\n    showLoginModal() {\n      this.$bus.emit('SHOW_LOGIN_MODAL');\n    }\n  }\n};\n","import { render } from \"./FeedbackEditor.vue?vue&type=template&id=5e5c91bc&scoped=true\"\nimport script from \"./FeedbackEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./FeedbackEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./FeedbackEditor.vue?vue&type=style&index=0&id=5e5c91bc&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5e5c91bc\"\n\nexport default script","<template>\n  <div class=\"comment-item\">\n    <div class=\"user-face\">\n      <a :href=\"`/user/${feedback.user.id}`\">\n        <div class=\"user-avatar\">\n          <img class=\"avatar-img\" :src=\"feedback.user.avatar\" alt=\"头像\" />\n        </div>\n      </a>\n    </div>\n    <div class=\"item-content\">\n      <div class=\"user-item\">\n        <div class=\"user-info\">\n          <a :href=\"`/user/${feedback.user.id}`\" class=\"name\">{{ feedback.user.name }}</a>\n          <span class=\"time\">{{ feedback.time_ago }}</span>\n        </div>\n      </div>\n      <p class=\"body-text\">{{ feedback.content }}</p>\n      <div class=\"item-tools\" v-if=\"user.is_admin === 1\">\n        <span class=\"tool-btn\" v-auth:click=\"toggleCommentEditor\">\n          <svg class=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36 36\">\n            <path\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M6 17.617C6 11.561 11.578 7 18 7s12 4.561 12 10.617c0 3.036-1.51 5.529-3.749 7.728-.187.184-.381.364-.58.54-1.925 2.082-3.911 3.417-5.847 3.973-.77.221-1.702.242-2.454-.381-.68-.564-.837-1.361-.878-1.823a3.848 3.848 0 01-.01-.136C10.898 26.91 6 23.264 6 17.617zM18 10c-5.177 0-9 3.602-9 7.617 0 3.867 3.794 6.992 9.152 6.992h1.5v1.717l-.06.206c0-.001-.03.104-.06.259 1.155-.46 2.515-1.394 3.984-2.996l.056-.06.063-.055c.182-.16.353-.318.514-.475C26.075 21.312 27 19.543 27 17.617 27 13.602 23.177 10 18 10z\"\n              fill-opacity=\"0.9\"\n            />\n          </svg>\n          <span>回复</span>\n        </span>\n        <div class=\"split\"></div>\n        <span class=\"tool-btn\" @click=\"onDelete\">\n          <svg class=\"icon\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n              d=\"M341.013333 394.666667l27.754667 393.450666h271.829333l27.733334-393.450666h64.106666L704.426667 792.618667a64 64 0 0 1-63.829334 59.498666H368.768a64 64 0 0 1-63.829333-59.52L276.885333 394.666667h64.128z m139.306667 19.818666v298.666667h-64v-298.666667h64z m117.013333 0v298.666667h-64v-298.666667h64zM181.333333 288h640v64h-640v-64z m453.482667-106.666667v64h-256v-64h256z\"\n            />\n          </svg>\n          <span>删除</span>\n        </span>\n      </div>\n      <transition name=\"slide-fade\">\n        <div v-if=\"showCommentEditor\" class=\"editor-container\">\n          <FeedbackEditor :feedbackId=\"feedback.id\" />\n        </div>\n      </transition>\n      <CommentItem :feedbackId=\"feedback.id\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { toRefs } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { useMutation } from '@vue/apollo-composable';\nimport { DELETE_FEEDBACK_MUTATION, FEEDBACKS_QUERY } from '@/graphql';\nimport { exceptionCapture, errorMessage } from '@/utils';\n\nimport FeedbackEditor from './FeedbackEditor.vue';\nimport CommentItem from './CommentItem.vue';\n\nexport default {\n  components: {\n    FeedbackEditor,\n    CommentItem\n  },\n  props: {\n    feedback: {\n      type: Object\n    },\n    currentPage: Number\n  },\n  setup(props) {\n    const { feedback, currentPage } = toRefs(props);\n\n    const { mutate: deleteFeedbackMutate } = useMutation(DELETE_FEEDBACK_MUTATION, () => ({\n      variables: { id: feedback.value.id },\n      fetchPolicy: 'network-only',\n      refetchQueries: () => [\n        {\n          query: FEEDBACKS_QUERY,\n          variables: { type: 'web', page: currentPage.value },\n          fetchPolicy: 'network-only'\n        }\n      ]\n    }));\n\n    async function onDelete() {\n      const [err, res] = await exceptionCapture(() => deleteFeedbackMutate());\n      if (err) {\n        ElMessage.error(`删除失败：${errorMessage(err)}`);\n      } else if (res?.data.deleteFeedback) {\n        ElMessage({ message: '删除成功!', type: 'success' });\n      }\n    }\n\n    return {\n      feedback,\n      onDelete\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  methods: {\n    toggleCommentEditor() {\n      this.showCommentEditor = !this.showCommentEditor;\n    }\n  },\n  data() {\n    return {\n      showCommentEditor: false\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.comment-item {\n  display: flex;\n  margin-top: 16px;\n  .user-face {\n    margin-right: 12px;\n    .user-avatar {\n      display: block;\n      position: relative;\n      background-image: url(data:image/gif;base64,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);\n      background-size: cover;\n      border: 1px solid #f1f2f5;\n      border-radius: 50%;\n      overflow: hidden;\n      .avatar-img {\n        width: 40px;\n        height: 40px;\n      }\n    }\n  }\n  .item-content {\n    flex: 1;\n    padding-bottom: 12px;\n    border-bottom: 1px solid var(--color-border);\n    .user-item {\n      display: flex;\n      justify-content: space-between;\n      .user-info {\n        font-size: 14px;\n        line-height: 20px;\n        color: var(--color-text-2);\n        padding-bottom: 4px;\n        display: block;\n        word-wrap: break-word;\n        position: relative;\n        .name {\n          font-weight: 700;\n        }\n        .time {\n          color: var(--color-text-3);\n          font-size: 12px;\n          font-weight: 400;\n          margin-left: 8px;\n        }\n      }\n    }\n    .body-text {\n      padding: 2px 0;\n      color: var(--color-text-0);\n      font-size: 15px;\n      line-height: 25px;\n      text-shadow: none;\n      overflow: hidden;\n      word-wrap: break-word;\n      word-break: break-word;\n      white-space: pre-wrap;\n    }\n    .item-tools {\n      display: flex;\n      align-items: center;\n      margin-top: 10px;\n      .tool-btn {\n        cursor: pointer;\n        color: var(--color-text-2);\n        line-height: 20px;\n        font-size: 13px;\n        display: flex;\n        align-items: center;\n        .icon {\n          width: 20px;\n          height: 20px;\n          margin-right: 4px;\n          fill: var(--color-text-2);\n        }\n        &.on,\n        &:hover {\n          color: var(--color-primary);\n          .icon {\n            fill: var(--color-primary);\n          }\n        }\n      }\n      .split {\n        margin: 0 8px 0 10px;\n        width: 0;\n        height: 16px;\n        border-left: 1px solid var(--overlay-bg);\n      }\n    }\n    .editor-container {\n      margin-bottom: 12px;\n      margin-top: 17px;\n    }\n  }\n}\n.slide-fade-enter-active {\n  transition: all 0.2s ease;\n}\n.slide-fade-leave-active {\n  transition: all 0.4s cubic-bezier(1, 0.5, 0.8, 1);\n}\n.slide-fade-enter,\n.slide-fade-leave-to {\n  transform: translateY(-22px);\n  opacity: 0;\n}\n</style>\n","<template>\n  <div class=\"replies\" v-if=\"comments.length > 0\">\n    <div class=\"replies-item\" v-for=\"comment in comments\" :key=\"comment?.id\">\n      <div class=\"content\">\n        <p class=\"name\">管理员回复：{{ comment.body }}</p>\n        <span class=\"tool-btn\" @click=\"onDelete(comment.id)\" v-if=\"user.id === comment.user.id\">\n          <svg class=\"icon\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n              d=\"M341.013333 394.666667l27.754667 393.450666h271.829333l27.733334-393.450666h64.106666L704.426667 792.618667a64 64 0 0 1-63.829334 59.498666H368.768a64 64 0 0 1-63.829333-59.52L276.885333 394.666667h64.128z m139.306667 19.818666v298.666667h-64v-298.666667h64z m117.013333 0v298.666667h-64v-298.666667h64zM181.333333 288h640v64h-640v-64z m453.482667-106.666667v64h-256v-64h256z\"\n            />\n          </svg>\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { toRefs, ref } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { useQuery, useResult, useMutation } from '@vue/apollo-composable';\nimport { COMMENTS_QUERY, DELETE_COMMENT_MUTATION } from '@/graphql';\nimport { exceptionCapture, errorMessage } from '@/utils';\n\nexport default {\n  props: {\n    feedbackId: Number\n  },\n  setup(props) {\n    const { feedbackId } = toRefs(props);\n    const comment_id = ref('');\n\n    const { result } = useQuery(COMMENTS_QUERY, { id: feedbackId.value, type: 'feedbacks' });\n    const comments = useResult(result, [], (data: any) => data?.comments?.data);\n\n    const { mutate: deleteCommentMutate } = useMutation(DELETE_COMMENT_MUTATION, () => ({\n      variables: { id: comment_id.value },\n      fetchPolicy: 'network-only',\n      refetchQueries: () => [\n        {\n          query: COMMENTS_QUERY,\n          variables: { id: feedbackId.value, type: 'feedbacks' },\n          fetchPolicy: 'network-only'\n        }\n      ]\n    }));\n\n    async function onDelete(id) {\n      comment_id.value = id;\n      const [err, res] = await exceptionCapture(() => deleteCommentMutate());\n      if (err) {\n        ElMessage.error(`删除失败：${errorMessage(err)}`);\n      } else if (res?.data.deleteComment) {\n        ElMessage({ message: '删除成功!', type: 'success' });\n      }\n    }\n\n    return {\n      comments,\n      onDelete\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.replies {\n  margin-top: 16px;\n  .replies-item {\n    margin-top: 5px;\n    .content {\n      display: flex;\n      flex-direction: row;\n      align-items: flex-start;\n      justify-content: space-between;\n      .name {\n        font-size: 14px;\n        line-height: 20px;\n        color: $red;\n      }\n      .tool-btn {\n        cursor: pointer;\n        color: var(--color-text-2);\n        line-height: 20px;\n        font-size: 13px;\n        display: flex;\n        align-items: center;\n        .icon {\n          width: 20px;\n          height: 20px;\n          margin-right: 4px;\n          fill: var(--color-text-2);\n        }\n        &.on,\n        &:hover {\n          color: var(--color-primary);\n          .icon {\n            fill: var(--color-primary);\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","\nimport { toRefs, ref } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { useQuery, useResult, useMutation } from '@vue/apollo-composable';\nimport { COMMENTS_QUERY, DELETE_COMMENT_MUTATION } from '@/graphql';\nimport { exceptionCapture, errorMessage } from '@/utils';\n\nexport default {\n  props: {\n    feedbackId: Number\n  },\n  setup(props) {\n    const { feedbackId } = toRefs(props);\n    const comment_id = ref('');\n\n    const { result } = useQuery(COMMENTS_QUERY, { id: feedbackId.value, type: 'feedbacks' });\n    const comments = useResult(result, [], (data: any) => data?.comments?.data);\n\n    const { mutate: deleteCommentMutate } = useMutation(DELETE_COMMENT_MUTATION, () => ({\n      variables: { id: comment_id.value },\n      fetchPolicy: 'network-only',\n      refetchQueries: () => [\n        {\n          query: COMMENTS_QUERY,\n          variables: { id: feedbackId.value, type: 'feedbacks' },\n          fetchPolicy: 'network-only'\n        }\n      ]\n    }));\n\n    async function onDelete(id) {\n      comment_id.value = id;\n      const [err, res] = await exceptionCapture(() => deleteCommentMutate());\n      if (err) {\n        ElMessage.error(`删除失败：${errorMessage(err)}`);\n      } else if (res?.data.deleteComment) {\n        ElMessage({ message: '删除成功!', type: 'success' });\n      }\n    }\n\n    return {\n      comments,\n      onDelete\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  }\n};\n","import { render } from \"./CommentItem.vue?vue&type=template&id=22265af6&scoped=true\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=ts\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=ts\"\n\nimport \"./CommentItem.vue?vue&type=style&index=0&id=22265af6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-22265af6\"\n\nexport default script","\nimport { toRefs } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { useMutation } from '@vue/apollo-composable';\nimport { DELETE_FEEDBACK_MUTATION, FEEDBACKS_QUERY } from '@/graphql';\nimport { exceptionCapture, errorMessage } from '@/utils';\n\nimport FeedbackEditor from './FeedbackEditor.vue';\nimport CommentItem from './CommentItem.vue';\n\nexport default {\n  components: {\n    FeedbackEditor,\n    CommentItem\n  },\n  props: {\n    feedback: {\n      type: Object\n    },\n    currentPage: Number\n  },\n  setup(props) {\n    const { feedback, currentPage } = toRefs(props);\n\n    const { mutate: deleteFeedbackMutate } = useMutation(DELETE_FEEDBACK_MUTATION, () => ({\n      variables: { id: feedback.value.id },\n      fetchPolicy: 'network-only',\n      refetchQueries: () => [\n        {\n          query: FEEDBACKS_QUERY,\n          variables: { type: 'web', page: currentPage.value },\n          fetchPolicy: 'network-only'\n        }\n      ]\n    }));\n\n    async function onDelete() {\n      const [err, res] = await exceptionCapture(() => deleteFeedbackMutate());\n      if (err) {\n        ElMessage.error(`删除失败：${errorMessage(err)}`);\n      } else if (res?.data.deleteFeedback) {\n        ElMessage({ message: '删除成功!', type: 'success' });\n      }\n    }\n\n    return {\n      feedback,\n      onDelete\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  methods: {\n    toggleCommentEditor() {\n      this.showCommentEditor = !this.showCommentEditor;\n    }\n  },\n  data() {\n    return {\n      showCommentEditor: false\n    };\n  }\n};\n","import { render } from \"./FeedbackItem.vue?vue&type=template&id=5c75bcce&scoped=true\"\nimport script from \"./FeedbackItem.vue?vue&type=script&lang=ts\"\nexport * from \"./FeedbackItem.vue?vue&type=script&lang=ts\"\n\nimport \"./FeedbackItem.vue?vue&type=style&index=0&id=5c75bcce&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5c75bcce\"\n\nexport default script","\nimport { defineComponent, ref } from 'vue';\nimport { useQuery, useResult } from '@vue/apollo-composable';\nimport { FEEDBACKS_QUERY } from '@/graphql';\nimport FeedbackEditor from '@/components/feedback/FeedbackEditor.vue';\nimport FeedbackItem from '@/components/feedback/FeedbackItem.vue';\n\nexport default defineComponent({\n  name: 'Feedback',\n  components: {\n    FeedbackEditor,\n    FeedbackItem\n  },\n  setup() {\n    const currentPage = ref(1);\n\n    function onPageChange(page: number) {\n      currentPage.value = page;\n    }\n\n    const { result } = useQuery(FEEDBACKS_QUERY, { type: 'web', page: currentPage });\n    const feedbacks = useResult(result, [], (data: any) => data?.feedbacks?.data);\n    const total = useResult(result, {}, (data: any) => data?.feedbacks?.paginatorInfo?.total);\n\n    return {\n      feedbacks,\n      total,\n      currentPage,\n      onPageChange\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  methods: {\n    toggleCommentEditor() {\n      this.showCommentEditor = !this.showCommentEditor;\n    }\n  },\n  data() {\n    return {\n      showCommentEditor: false\n    };\n  }\n});\n","import { render } from \"./Feedback.vue?vue&type=template&id=0586f694\"\nimport script from \"./Feedback.vue?vue&type=script&lang=ts\"\nexport * from \"./Feedback.vue?vue&type=script&lang=ts\"\n\nimport \"./Feedback.vue?vue&type=style&index=0&id=0586f694&lang=scss\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router';\nimport Home from '../views/Home.vue';\nimport Recommend from '../views/Recommend.vue';\nimport Category from '../views/Category.vue';\nimport Videos from '../views/Videos.vue';\nimport Profile from '../views/Profile.vue';\nimport Notfound from '../views/Notfound.vue';\nimport Search from '../views/Search.vue';\nimport MovieDetail from '../views/MovieDetail.vue';\nimport Feedback from '../views/Feedback.vue';\n\n// route level code-splitting\n// this generates a separate chunk (component.[hash].js) for this route\n// which is lazy-loaded when the route is visited.\n// component: () => import(/* webpackChunkName: \"component\" */ '../views/Component.vue');\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    component: Home,\n    children: [\n      {\n        path: '',\n        component: Recommend\n      },\n      {\n        path: '/category',\n        component: Category\n      },\n      {\n        path: '/videos',\n        component: Videos\n      },\n      {\n        path: '/profile',\n        props: route => ({ query: route.query }),\n        component: Profile\n      },\n      {\n        path: '/feedback',\n        component: Feedback\n      }\n    ]\n  },\n  {\n    path: '/:pathMatch(.*)*',\n    name: 'notfound',\n    component: Notfound\n  },\n  {\n    path: '/search',\n    props: route => ({ query: route.query }),\n    component: Search\n  },\n  {\n    path: '/movie/:id',\n    component: MovieDetail\n  },\n  {\n    path: '/video/:id',\n    component: () => import('../views/VideoDetail.vue')\n  },\n  {\n    path: '/user/:id',\n    props: route => ({ params: route.params, query: route.query }),\n    component: () => import('../views/User.vue')\n  },\n  {\n    path: '/login',\n    component: () => import('../views/Login.vue')\n  },\n  {\n    path: '/chat',\n    component: () => import('../views/ChatPage.vue')\n  }\n];\n\nconst router = createRouter({\n  routes,\n  history: createWebHistory(process.env.BASE_URL)\n});\nrouter.beforeEach((to, from, next) => {\n  window.scrollTo(0, 0);\n  next();\n});\n\nexport default router;\n","<template>\n  <div id=\"root\">\n    <router-view :key=\"$route.fullPath\" />\n  </div>\n  <LoginModal />\n  <ReportModal />\n  <PWAInstallPrompt name=\"剧好看\" :previews=\"previews\" />\n  <IosInstallPrompt name=\"剧好看\" />\n  <BrowserOpenPrompt />\n</template>\n\n<script lang=\"ts\">\nimport LoginModal from '@/views/parts/LoginModal.vue';\nimport ReportModal from '@/views/parts/ReportModal.vue';\nimport PWAInstallPrompt from '@/views/parts/PWAInstallPrompt.vue';\nimport BrowserOpenPrompt from '@/views/parts/BrowserOpenPrompt.vue';\nimport IosInstallPrompt from '@/views/parts/IosInstallPrompt.vue';\nimport store, { TYPES, Storage } from '@/store';\n\nexport default {\n  components: {\n    LoginModal,\n    ReportModal,\n    PWAInstallPrompt,\n    BrowserOpenPrompt,\n    IosInstallPrompt\n  },\n  setup(props) {\n    const user = Storage.getItem('user');\n    if (user?.id) {\n      store.commit(TYPES.USER_LOGIN, user);\n    }\n  },\n  data() {\n    return {\n      previews: [\n        'https://juokan.com/images/screens/1.png',\n        'https://juokan.com/images/screens/2.png',\n        'https://juokan.com/images/screens/3.png',\n        'https://juokan.com/images/screens/4.png',\n        'https://juokan.com/images/screens/5.png',\n        'https://juokan.com/images/screens/6.png',\n        'https://juokan.com/images/screens/7.png'\n      ]\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\">\n#app {\n  height: 100%;\n  --list-item-margin: 14px;\n  --module-movie-items-count: 6;\n  --column-video-items-per-row: 2;\n  --column-movie-items-per-row: 3;\n  @media screen and (min-width: $col-md-width) {\n    --list-item-margin: 20px;\n    --module-movie-items-count: 4;\n    --column-video-items-per-row: 3;\n    --column-movie-items-per-row: 4;\n  }\n  @media screen and (min-width: $col-lg-width) {\n    --module-movie-items-count: 6;\n    --column-video-items-per-row: 4;\n    --column-movie-items-per-row: 5;\n  }\n  @media screen and (min-width: $col-xl-width) {\n    --module-movie-items-count: 8;\n    --column-movie-items-per-row: 6;\n  }\n  @media screen and (min-width: 1440px) {\n    --module-movie-items-count: 10;\n    --column-video-items-per-row: 5;\n    --column-movie-items-per-row: 7;\n  }\n  @media screen and (min-width: 1680px) {\n    --module-movie-items-count: 12;\n    --column-video-items-per-row: 6;\n    --column-movie-items-per-row: 8;\n  }\n}\n\n#root {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-height: 100%;\n  background: var(--color-page-bg);\n}\n\n#masthead {\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: 100%;\n  height: var(--header-height);\n  .header {\n    display: flex;\n    width: 100%;\n    height: var(--header-height);\n    padding: 0 var(--content-margin);\n    // box-shadow: 0 2px 4px 0 rgb(0 0 0 / 8%);\n    background-color: var(--color-page-bg);\n    border-bottom: 1px solid var(--overlay-bg-border);\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 1000;\n  }\n}\n\n#scene-container {\n  flex: 1;\n  position: relative;\n}\n\n.grid-items,\n.column-items {\n  display: flex;\n  justify-content: flex-start;\n  margin: 0 calc(calc(var(--list-item-margin) / 2) * -1);\n  .item-wrap {\n    flex-shrink: 0;\n    display: block;\n    position: relative;\n    margin-bottom: var(--list-item-margin);\n    margin-left: calc(var(--list-item-margin) / 2);\n    margin-right: calc(var(--list-item-margin) / 2);\n    width: calc(100% / var(--column-movie-items-per-row) - var(--list-item-margin) - 0.01px);\n  }\n}\n.grid-items {\n  flex-wrap: wrap;\n}\n\n.flow-items {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  margin: 0 calc(calc(var(--list-item-margin) / 2) * -1);\n  .item-wrap {\n    flex-shrink: 0;\n    display: block;\n    position: relative;\n    margin-bottom: var(--list-item-margin);\n    margin-left: calc(var(--list-item-margin) / 2);\n    margin-right: calc(var(--list-item-margin) / 2);\n    width: calc(100% / var(--column-video-items-per-row) - var(--list-item-margin) - 0.01px);\n  }\n}\n\n.el-popup-parent--hidden {\n  padding-right: 0 !important;\n}\n</style>\n","<template>\n  <el-dialog v-model=\"visible\" custom-class=\"login-modal\" width=\"90%\" destroy-on-close center>\n    <div class=\"welcome-wrap\">\n      <a href=\"/\" title=\"主页 — 剧好看\">\n        <img class=\"login-logo\" :src=\"logoIconUrl\" />\n      </a>\n      <!-- <h1 class=\"login-title\">\n        {{ activeName }}\n      </h1> -->\n    </div>\n    <SignIn v-if=\"activeName === '登录'\" @onSuccess=\"hideModal\" />\n    <SignUp v-else @onSuccess=\"hideModal\" />\n    <p v-if=\"activeName === '登录'\" class=\"login-tab_nav\">\n      没有账户？\n      <a @click=\"toggleActiveTab\" href=\"javascript:void(0)\">加入</a>\n    </p>\n    <p v-else class=\"login-tab_nav\">\n      已有账户？\n      <a @click=\"toggleActiveTab\" href=\"javascript:void(0)\">登录</a>\n    </p>\n  </el-dialog>\n</template>\n\n<script lang=\"ts\">\nimport { LOGO_ICON_URL } from '@/config';\nimport { defineComponent, ref } from 'vue';\nimport SignIn from './SignIn.vue';\nimport SignUp from './SignUp.vue';\n\nconst TabName = {\n  signIn: '登录',\n  signUp: '注册'\n};\n\nexport default defineComponent({\n  components: {\n    SignIn,\n    SignUp\n  },\n  setup(props, context) {\n    const visible = ref(false);\n    const activeName = ref(TabName.signIn);\n\n    function hideModal() {\n      visible.value = false;\n    }\n    function toggleActiveTab() {\n      const tabName = activeName.value === TabName.signIn ? TabName.signUp : TabName.signIn;\n      activeName.value = tabName;\n    }\n\n    return {\n      logoIconUrl: LOGO_ICON_URL,\n      visible,\n      activeName,\n      toggleActiveTab,\n      hideModal\n    };\n  },\n  mounted() {\n    this.$bus.on('SHOW_LOGIN_MODAL', () => {\n      this.activeName = TabName.signIn;\n      this.visible = true;\n    });\n  }\n});\n</script>\n\n<style lang=\"scss\">\n.el-dialog.login-modal {\n  max-width: 500px;\n  position: relative;\n  border-radius: 6px;\n  padding: 25px 20px 0;\n  --el-dialog-padding-primary: 10px;\n  .el-dialog__header {\n    padding-bottom: 0;\n    .el-dialog__title {\n      font-size: 20px;\n      font-weight: bold;\n    }\n  }\n  .el-dialog__body {\n    padding-top: 0;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.welcome-wrap {\n  text-align: center !important;\n  .login-logo {\n    width: 64px;\n    height: 64px;\n    margin-bottom: 24px;\n  }\n  .login-title {\n    font-size: 28px;\n    font-weight: bold;\n    margin-bottom: 30px;\n  }\n}\n.login-tab_nav {\n  text-align: center !important;\n  margin-top: 30px;\n  font-size: 14px;\n  line-height: 1.6;\n  color: var(--color-text-1);\n  a {\n    color: var(--color-text-0);\n    &:hover {\n      color: $theme-color_primary;\n    }\n  }\n}\n</style>\n","\nimport { LOGO_ICON_URL } from '@/config';\nimport { defineComponent, ref } from 'vue';\nimport SignIn from './SignIn.vue';\nimport SignUp from './SignUp.vue';\n\nconst TabName = {\n  signIn: '登录',\n  signUp: '注册'\n};\n\nexport default defineComponent({\n  components: {\n    SignIn,\n    SignUp\n  },\n  setup(props, context) {\n    const visible = ref(false);\n    const activeName = ref(TabName.signIn);\n\n    function hideModal() {\n      visible.value = false;\n    }\n    function toggleActiveTab() {\n      const tabName = activeName.value === TabName.signIn ? TabName.signUp : TabName.signIn;\n      activeName.value = tabName;\n    }\n\n    return {\n      logoIconUrl: LOGO_ICON_URL,\n      visible,\n      activeName,\n      toggleActiveTab,\n      hideModal\n    };\n  },\n  mounted() {\n    this.$bus.on('SHOW_LOGIN_MODAL', () => {\n      this.activeName = TabName.signIn;\n      this.visible = true;\n    });\n  }\n});\n","import { render } from \"./LoginModal.vue?vue&type=template&id=6610db17&scoped=true\"\nimport script from \"./LoginModal.vue?vue&type=script&lang=ts\"\nexport * from \"./LoginModal.vue?vue&type=script&lang=ts\"\n\nimport \"./LoginModal.vue?vue&type=style&index=0&id=6610db17&lang=scss\"\nimport \"./LoginModal.vue?vue&type=style&index=1&id=6610db17&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6610db17\"\n\nexport default script","<template>\n  <div id=\"report-dialog\" v-loading.fullscreen.lock=\"loading\">\n    <el-dialog v-model=\"visible\" custom-class=\"report-modal\" :title=\"modalTitle\" width=\"90%\" destroy-on-close center>\n      <el-radio-group v-model=\"reasonType\">\n        <div class=\"radio-wrap col-xs-4\" v-for=\"(type, index) in types\" :key=\"index\">\n          <el-radio :label=\"type\">{{ type }}</el-radio>\n        </div>\n      </el-radio-group>\n      <el-input\n        v-model=\"content\"\n        maxlength=\"140\"\n        placeholder=\"请详细描述举报原因，便于平台判断违规情况\"\n        show-word-limit\n        type=\"textarea\"\n        class=\"input-style\"\n        resize=\"none\"\n      >\n      </el-input>\n      <el-button type=\"primary\" :disabled=\"disabled\" @click=\"onSubmit\" class=\"submit-button\">\n        提交\n      </el-button>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, toRefs } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { exceptionCapture, errorMessage } from '@/utils';\nimport { useQuery, useMutation, UseMutationOptions } from '@vue/apollo-composable';\nimport { CREATE_REPORT_MUTATION } from '@/graphql';\n\nconst TYPES = ['垃圾广告', '色情低俗', '违法犯罪', '恶意营销', '血腥暴力', '感官不适', '时政发动', '其他'];\n\nexport default defineComponent({\n  setup() {\n    const visible = ref(false);\n    const reportId = ref();\n    const reportType = ref('movies');\n    const reasonType = ref('');\n    const content = ref('');\n\n    const { mutate: createReportMutation, loading } = useMutation(CREATE_REPORT_MUTATION, () => ({\n      variables: {\n        id: reportId.value,\n        type: reportType.value,\n        reason: content.value ? `${reasonType.value}：${content.value}` : reasonType.value\n      },\n      fetchPolicy: 'network-only'\n    }));\n\n    async function onSubmit() {\n      const [err, res] = await exceptionCapture(() => createReportMutation());\n      if (err) {\n        ElMessage.error(`举报出错：${errorMessage(err)}`);\n      } else if (res?.data.createReport) {\n        visible.value = false;\n        ElMessage({ message: '举报成功!', type: 'success' });\n      }\n    }\n\n    return {\n      visible,\n      loading,\n      reportId,\n      reportType,\n      reasonType,\n      content,\n      onSubmit\n    };\n  },\n  computed: {\n    disabled() {\n      return !this.reportId || !this.reasonType;\n    }\n  },\n  mounted() {\n    this.$bus.on('SHOW_REPORT_MODAL', ({ id, type, title }) => {\n      this.reportId = id;\n      if (type) {\n        this.reportType = type;\n      }\n      if (title) {\n        this.modalTitle = title;\n      }\n      this.visible = true;\n    });\n  },\n  data() {\n    return {\n      types: TYPES,\n      modalTitle: '举报'\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n#report-dialog {\n  .report-modal {\n    .radio-wrap {\n      display: inline-block;\n    }\n    .input-style {\n      margin: 20px 0;\n    }\n    .submit-button {\n      width: 100%;\n      height: 44px;\n      font-size: 1.6rem;\n      font-weight: 400;\n    }\n  }\n}\n</style>\n\n<style lang=\"scss\">\n.el-dialog.report-modal {\n  max-width: 428px;\n  position: relative;\n  border-radius: 6px;\n  padding: 25px 20px 0;\n  --el-dialog-padding-primary: 10px;\n  &.el-dialog--center {\n    text-align: left;\n    .el-dialog__header .el-dialog__headerbtn {\n      position: absolute;\n      top: 20px;\n      right: 20px;\n      .el-icon {\n        --font-size: 20px;\n        font-weight: bold;\n      }\n    }\n  }\n  .el-dialog__body {\n    padding: 10px calc(var(--el-dialog-padding-primary) + 5px) 30px;\n    .input-style {\n      .el-textarea__inner {\n        min-height: 105px !important;\n        background: var(--color-bg-1);\n        border: none;\n        color: var(--color-text-1);\n        border-radius: 4px;\n        font-size: 14px;\n        font-weight: 400;\n        line-height: 22px;\n      }\n      .el-input__count {\n        background: var(--color-bg-1);\n      }\n    }\n  }\n}\n</style>\n","\nimport { defineComponent, reactive, ref, toRefs } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { exceptionCapture, errorMessage } from '@/utils';\nimport { useQuery, useMutation, UseMutationOptions } from '@vue/apollo-composable';\nimport { CREATE_REPORT_MUTATION } from '@/graphql';\n\nconst TYPES = ['垃圾广告', '色情低俗', '违法犯罪', '恶意营销', '血腥暴力', '感官不适', '时政发动', '其他'];\n\nexport default defineComponent({\n  setup() {\n    const visible = ref(false);\n    const reportId = ref();\n    const reportType = ref('movies');\n    const reasonType = ref('');\n    const content = ref('');\n\n    const { mutate: createReportMutation, loading } = useMutation(CREATE_REPORT_MUTATION, () => ({\n      variables: {\n        id: reportId.value,\n        type: reportType.value,\n        reason: content.value ? `${reasonType.value}：${content.value}` : reasonType.value\n      },\n      fetchPolicy: 'network-only'\n    }));\n\n    async function onSubmit() {\n      const [err, res] = await exceptionCapture(() => createReportMutation());\n      if (err) {\n        ElMessage.error(`举报出错：${errorMessage(err)}`);\n      } else if (res?.data.createReport) {\n        visible.value = false;\n        ElMessage({ message: '举报成功!', type: 'success' });\n      }\n    }\n\n    return {\n      visible,\n      loading,\n      reportId,\n      reportType,\n      reasonType,\n      content,\n      onSubmit\n    };\n  },\n  computed: {\n    disabled() {\n      return !this.reportId || !this.reasonType;\n    }\n  },\n  mounted() {\n    this.$bus.on('SHOW_REPORT_MODAL', ({ id, type, title }) => {\n      this.reportId = id;\n      if (type) {\n        this.reportType = type;\n      }\n      if (title) {\n        this.modalTitle = title;\n      }\n      this.visible = true;\n    });\n  },\n  data() {\n    return {\n      types: TYPES,\n      modalTitle: '举报'\n    };\n  }\n});\n","import { render } from \"./ReportModal.vue?vue&type=template&id=6ea968ed&scoped=true\"\nimport script from \"./ReportModal.vue?vue&type=script&lang=ts\"\nexport * from \"./ReportModal.vue?vue&type=script&lang=ts\"\n\nimport \"./ReportModal.vue?vue&type=style&index=0&id=6ea968ed&lang=scss&scoped=true\"\nimport \"./ReportModal.vue?vue&type=style&index=1&id=6ea968ed&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-6ea968ed\"\n\nexport default script","<template>\n  <el-drawer\n    v-model=\"visible\"\n    direction=\"btt\"\n    custom-class=\"pwa-install-drawer\"\n    :lock-scroll=\"true\"\n    :withHeader=\"false\"\n  >\n    <div class=\"pwa-prompt\">\n      <div class=\"prompt-header\">\n        <div class=\"app-info\">\n          <img src=\"/img/logo.png\" class=\"app_logo\" />\n          <div>\n            <p class=\"app-name\">{{ name }}</p>\n            <p class=\"app-host\">{{ host }}</p>\n          </div>\n        </div>\n        <button @click=\"downloadAPK\" class=\"btn-install\">下载</button>\n      </div>\n      <div class=\"prompt-body\">\n        <p v-if=\"description\" class=\"description\">\n          {{ description }}\n        </p>\n        <div class=\"introduction\">\n          <ul class=\"previews-wrap\">\n            <li v-for=\"item in previews\" :key=\"item\" class=\"preview-item\">\n              <img :src=\"item\" class=\"screenshot\" />\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </el-drawer>\n</template>\n\n<script lang=\"ts\">\nimport { ref, computed } from 'vue';\nimport { ElNotification } from 'element-plus';\nimport { Storage } from '@/store';\nimport { DEVICE_INFO, APK_URL } from '@/config';\n\nexport default {\n  props: {\n    name: {\n      type: String,\n      require: true\n    },\n    host: {\n      type: String,\n      default() {\n        return window.location.host;\n      }\n    },\n    description: {\n      type: String,\n      default() {\n        return '点击按钮下载App，功能更丰富，流畅又高清，随时发现更多精彩影视，解锁追剧新姿势。';\n      }\n    },\n    previews: {\n      type: Array,\n      require: true\n    },\n    maxAge: {\n      type: Number,\n      default() {\n        // 用户关闭提示后一个星期内不提示\n        return 604800;\n      }\n    }\n  },\n  beforeMount() {\n    this.prompted = Storage.getItem('pwaPrompt');\n  },\n  mounted() {\n    if (!this.prompted && 'onbeforeinstallprompt' in window) {\n      this.pwaEventListener();\n    }\n  },\n  methods: {\n    installNotification() {\n      return ElNotification({\n        offset: 80,\n        duration: 5000,\n        showClose: false,\n        position: 'bottom-right',\n        dangerouslyUseHTMLString: true,\n        customClass: DEVICE_INFO.OS == 'PC' ? 'pwainstall-notification' : 'pwainstall-notification h5',\n        title: this.name,\n        message: `<div class=\"pwa-notification\"><div class=\"pwa-notification__group\"><div class=\"group-content\">添加快捷方式到桌面，流畅又高清，随时发现更多精彩影视，解锁追剧新姿势。</div><div class=\"group-button\"><button class=\"pwa-notification__button close\" onclick=\"window.dispatchEvent(new CustomEvent('dismisspromptchoice'));\">取消</button><button class=\"pwa-notification__button\" onclick=\"window.dispatchEvent(new CustomEvent('installpromptchoice'));\">安装</button><div/></div></div></div>`\n      });\n    },\n    pwaEventListener() {\n      let deferredPrompt;\n\n      const installprompt = e => {\n        e.preventDefault();\n        deferredPrompt = e;\n        this.showInstallPromotion();\n        console.log(`'beforeinstallprompt' event was fired.`);\n      };\n\n      window.addEventListener('beforeinstallprompt', installprompt);\n\n      window.addEventListener('dismisspromptchoice', () => {\n        this.hideInstallPromotion();\n        this.notPromptSoon();\n        deferredPrompt = null;\n        console.log('PWA was dismissed');\n      });\n\n      window.addEventListener('installpromptchoice', async () => {\n        console.log('await installpromptchoice');\n        window.removeEventListener('beforeinstallprompt', installprompt);\n        this.hideInstallPromotion();\n        deferredPrompt.prompt();\n        const { outcome } = await deferredPrompt.userChoice;\n        console.log(`User response to the install prompt: ${outcome}`);\n        if (outcome === 'dismissed') {\n          this.notPromptSoon();\n        }\n        deferredPrompt = null;\n      });\n\n      window.addEventListener('appinstalled', () => {\n        this.hideInstallPromotion();\n        deferredPrompt = null;\n        console.log('PWA was installed');\n      });\n    },\n    showInstallPromotion() {\n      this.notify = this.installNotification();\n      Storage.setItem('pwaPrompt', true, 86400);\n    },\n    hideInstallPromotion() {\n      this.notify?.close();\n    },\n    notPromptSoon() {\n      Storage.setItem('pwaPrompt', true, this.maxAge);\n    },\n    downloadAPK() {\n      window.open(APK_URL);\n    }\n  },\n  data() {\n    return {\n      notify: null,\n      visible: false\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.el-drawer.pwa-install-drawer {\n  height: auto !important;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.pwa-prompt {\n  background-color: var(--color-page-bg);\n}\n.pwa-prompt .prompt-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 14px;\n  border-bottom: 1px solid var(--color-border);\n  .app-info {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    .app_logo {\n      width: 34px;\n      height: 34px;\n      border-radius: 50%;\n      margin-right: 12px;\n    }\n    .app-name {\n      color: var(--color-text-0);\n      font-size: 14px;\n      font-weight: 500;\n      line-height: 20px;\n    }\n    .app-host {\n      color: var(--color-text-2);\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 20px;\n    }\n  }\n  .btn-install {\n    padding: 8px 20px;\n    font-size: 14px;\n    font-weight: 700;\n    color: #fff;\n    border-radius: 4px;\n    background-color: $theme-color_primary;\n  }\n  .btn-close {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    position: relative;\n    background-color: var(--color-border);\n    &::before,\n    &::after {\n      content: '';\n      position: absolute;\n      display: block;\n      width: 2px;\n      height: 12px;\n      border-radius: 1px;\n      background-color: #fff;\n    }\n    &::before {\n      transform: rotate(45deg);\n    }\n    &::after {\n      transform: rotate(-45deg);\n    }\n  }\n}\n.pwa-prompt .prompt-body {\n  flex: 1;\n  padding-top: 16px;\n  .title {\n    padding: 0 14px;\n    font-size: 14px;\n    font-weight: 500;\n    line-height: 20px;\n    color: var(--color-text-0);\n  }\n  .description {\n    margin-bottom: 16px;\n    padding: 0 14px;\n    font-size: 14px;\n    line-height: 20px;\n    color: var(--color-text-0);\n    white-space: pre-wrap;\n  }\n  .introduction {\n    overflow-x: auto;\n    white-space: nowrap;\n    -ms-overflow-style: none; /* for Internet Explorer, Edge */\n    scrollbar-width: none; /* for Firefox */\n    overflow-y: scroll;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    .previews-wrap {\n      display: flex;\n    }\n    .preview-item {\n      flex-shrink: 0;\n      padding-left: 14px;\n      position: relative;\n      .screenshot {\n        width: 40vw;\n        height: 72vw;\n        border-radius: 4px;\n        border-top-left-radius: 4px;\n        border-top-right-radius: 4px;\n        overflow: hidden;\n      }\n      &:last-child {\n        padding-right: 14px;\n      }\n    }\n  }\n}\n</style>\n<style lang=\"scss\">\n.el-notification.pwainstall-notification {\n  align-items: center;\n  padding: 14px;\n  &.h5 {\n    left: 10px;\n    right: 10px;\n    bottom: calc(var(--navbar-height) + 10px) !important;\n    max-width: 350px;\n    width: auto;\n  }\n  .el-notification__group {\n    margin: 0;\n  }\n  .pwa-notification {\n    .pwa-notification__group {\n      .group-content {\n        margin-top: 8px;\n        font-size: 13px;\n        line-height: 18px;\n        color: var(--theme-text-tertiary);\n      }\n      .group-button {\n        display: flex;\n        justify-content: flex-end;\n        .pwa-notification__button {\n          flex-shrink: 0;\n          width: 66px;\n          height: 34px;\n          border-radius: 4px;\n          text-align: center;\n          font-size: 14px;\n          font-weight: 500;\n          color: #ffffff;\n          border: 1px solid $theme-color_primary;\n          background-color: $theme-color_primary;\n          &.close {\n            margin-right: 5px;\n            color: $theme-color_primary;\n            border: none;\n            background-color: transparent;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","\nimport { ref, computed } from 'vue';\nimport { ElNotification } from 'element-plus';\nimport { Storage } from '@/store';\nimport { DEVICE_INFO, APK_URL } from '@/config';\n\nexport default {\n  props: {\n    name: {\n      type: String,\n      require: true\n    },\n    host: {\n      type: String,\n      default() {\n        return window.location.host;\n      }\n    },\n    description: {\n      type: String,\n      default() {\n        return '点击按钮下载App，功能更丰富，流畅又高清，随时发现更多精彩影视，解锁追剧新姿势。';\n      }\n    },\n    previews: {\n      type: Array,\n      require: true\n    },\n    maxAge: {\n      type: Number,\n      default() {\n        // 用户关闭提示后一个星期内不提示\n        return 604800;\n      }\n    }\n  },\n  beforeMount() {\n    this.prompted = Storage.getItem('pwaPrompt');\n  },\n  mounted() {\n    if (!this.prompted && 'onbeforeinstallprompt' in window) {\n      this.pwaEventListener();\n    }\n  },\n  methods: {\n    installNotification() {\n      return ElNotification({\n        offset: 80,\n        duration: 5000,\n        showClose: false,\n        position: 'bottom-right',\n        dangerouslyUseHTMLString: true,\n        customClass: DEVICE_INFO.OS == 'PC' ? 'pwainstall-notification' : 'pwainstall-notification h5',\n        title: this.name,\n        message: `<div class=\"pwa-notification\"><div class=\"pwa-notification__group\"><div class=\"group-content\">添加快捷方式到桌面，流畅又高清，随时发现更多精彩影视，解锁追剧新姿势。</div><div class=\"group-button\"><button class=\"pwa-notification__button close\" onclick=\"window.dispatchEvent(new CustomEvent('dismisspromptchoice'));\">取消</button><button class=\"pwa-notification__button\" onclick=\"window.dispatchEvent(new CustomEvent('installpromptchoice'));\">安装</button><div/></div></div></div>`\n      });\n    },\n    pwaEventListener() {\n      let deferredPrompt;\n\n      const installprompt = e => {\n        e.preventDefault();\n        deferredPrompt = e;\n        this.showInstallPromotion();\n        console.log(`'beforeinstallprompt' event was fired.`);\n      };\n\n      window.addEventListener('beforeinstallprompt', installprompt);\n\n      window.addEventListener('dismisspromptchoice', () => {\n        this.hideInstallPromotion();\n        this.notPromptSoon();\n        deferredPrompt = null;\n        console.log('PWA was dismissed');\n      });\n\n      window.addEventListener('installpromptchoice', async () => {\n        console.log('await installpromptchoice');\n        window.removeEventListener('beforeinstallprompt', installprompt);\n        this.hideInstallPromotion();\n        deferredPrompt.prompt();\n        const { outcome } = await deferredPrompt.userChoice;\n        console.log(`User response to the install prompt: ${outcome}`);\n        if (outcome === 'dismissed') {\n          this.notPromptSoon();\n        }\n        deferredPrompt = null;\n      });\n\n      window.addEventListener('appinstalled', () => {\n        this.hideInstallPromotion();\n        deferredPrompt = null;\n        console.log('PWA was installed');\n      });\n    },\n    showInstallPromotion() {\n      this.notify = this.installNotification();\n      Storage.setItem('pwaPrompt', true, 86400);\n    },\n    hideInstallPromotion() {\n      this.notify?.close();\n    },\n    notPromptSoon() {\n      Storage.setItem('pwaPrompt', true, this.maxAge);\n    },\n    downloadAPK() {\n      window.open(APK_URL);\n    }\n  },\n  data() {\n    return {\n      notify: null,\n      visible: false\n    };\n  }\n};\n","import { render } from \"./PWAInstallPrompt.vue?vue&type=template&id=1c8563dd&scoped=true\"\nimport script from \"./PWAInstallPrompt.vue?vue&type=script&lang=ts\"\nexport * from \"./PWAInstallPrompt.vue?vue&type=script&lang=ts\"\n\nimport \"./PWAInstallPrompt.vue?vue&type=style&index=0&id=1c8563dd&lang=scss\"\nimport \"./PWAInstallPrompt.vue?vue&type=style&index=1&id=1c8563dd&lang=scss&scoped=true\"\nimport \"./PWAInstallPrompt.vue?vue&type=style&index=2&id=1c8563dd&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-1c8563dd\"\n\nexport default script","<template>\n  <div class=\"modal-bg\" v-if=\"visible\" @click=\"hide\">\n    <div class=\"modal-container\" @click=\"hide\">\n      <div class=\"modal-header\" @click=\"hide\">\n        <img class=\"guide\" alt=\"guide\" src=\"/img/browser_open.png\" @click=\"hide\" />\n        <div class=\"modal-text\">请点击右上角的•••按钮<br />在浏览器打开</div>\n      </div>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  setup(props) {\n    return {};\n  },\n  beforeMount() {\n    this.$bus.on('SHOW_BROWSER_OPEN_PROMPT', () => {\n      this.visible = true;\n      const frame: any = window.parent || window;\n      (frame as any).WeixinJSBridge?.call('showOptionMenu');\n    });\n  },\n  methods: {\n    hide() {\n      this.visible = false;\n      //不接着直接浏览器打开，就不给看完整菜单和打开地址\n      const frame: any = window.parent || window;\n      (frame as any).WeixinJSBridge.call('hideOptionMenu');\n    }\n  },\n  data() {\n    return {\n      visible: false\n    };\n  }\n});\n</script>\n\n<style scoped>\n.modal-bg {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 1001;\n}\n.modal-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n}\n.modal-header {\n  height: 100%;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.guide {\n  width: 100%;\n}\n.modal-text {\n  position: absolute;\n  top: 20%;\n  left: 15%;\n  font-size: 1.6rem;\n  line-height: 2.5rem;\n}\n</style>\n","\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  setup(props) {\n    return {};\n  },\n  beforeMount() {\n    this.$bus.on('SHOW_BROWSER_OPEN_PROMPT', () => {\n      this.visible = true;\n      const frame: any = window.parent || window;\n      (frame as any).WeixinJSBridge?.call('showOptionMenu');\n    });\n  },\n  methods: {\n    hide() {\n      this.visible = false;\n      //不接着直接浏览器打开，就不给看完整菜单和打开地址\n      const frame: any = window.parent || window;\n      (frame as any).WeixinJSBridge.call('hideOptionMenu');\n    }\n  },\n  data() {\n    return {\n      visible: false\n    };\n  }\n});\n","import { render } from \"./BrowserOpenPrompt.vue?vue&type=template&id=f02e3634&scoped=true\"\nimport script from \"./BrowserOpenPrompt.vue?vue&type=script&lang=ts\"\nexport * from \"./BrowserOpenPrompt.vue?vue&type=script&lang=ts\"\n\nimport \"./BrowserOpenPrompt.vue?vue&type=style&index=0&id=f02e3634&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-f02e3634\"\n\nexport default script","<template>\n  <el-drawer\n    v-model=\"visible\"\n    direction=\"btt\"\n    custom-class=\"ios-install-drawer\"\n    :lock-scroll=\"true\"\n    :withHeader=\"false\"\n  >\n    <div class=\"install-prompt\">\n      <div class=\"prompt-header\">\n        <img src=\"/img/logo.png\" class=\"app_logo\" />\n        <div class=\"title\">{{ `添加到桌面，追剧更方便` }}</div>\n        <div @click=\"hidePrompt\" class=\"btn-close\" />\n      </div>\n      <div class=\"prompt-body\">\n        <ul class=\"steps\">\n          <li class=\"step-main\">\n            <div class=\"step-text\"><span>第1步：</span>点击浏览器底部工具栏图标</div>\n            <div class=\"step-img\">\n              <img src=\"/img/ios_add_homescreen_01.png\" class=\"ios_guide\" />\n            </div>\n          </li>\n          <li class=\"step-main\">\n            <div class=\"step-text\"><span>第2步：</span>弹出框后选择”添加到主屏幕“</div>\n            <div class=\"step-img\">\n              <img src=\"/img/ios_add_homescreen_02.png\" class=\"ios_guide\" />\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </el-drawer>\n</template>\n\n<script lang=\"ts\">\nimport { ref, computed } from 'vue';\nimport { Storage } from '@/store';\nimport { APP_NAME, DEVICE_INFO } from '@/config';\n\nexport default {\n  props: {\n    name: {\n      type: String,\n      require: true\n    },\n    maxAge: {\n      type: Number,\n      default() {\n        // 用户关闭提示后一个星期内不提示\n        return 604800;\n      }\n    }\n  },\n  beforeMount() {\n    this.prompted = Storage.getItem('pwaPrompt');\n  },\n  mounted() {\n    this.$bus.on('SHOW_IOS_PWA_PROMPT', () => {\n      this.visible = true;\n    });\n    const hostname = location.hostname.toLocaleLowerCase();\n    const isHost = APP_NAME === hostname.slice(0, hostname.lastIndexOf('.'));\n    if (isHost && !this.prompted && DEVICE_INFO.OS === 'IOS') {\n      setTimeout(() => {\n        this.visible = true;\n        Storage.setItem('pwaPrompt', true, 86400);\n      }, 3000);\n    }\n  },\n  methods: {\n    hidePrompt() {\n      this.visible = false;\n      Storage.setItem('pwaPrompt', true, this.maxAge);\n    }\n  },\n  data() {\n    return {\n      visible: false\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.el-drawer.ios-install-drawer {\n  left: 10px;\n  right: 10px;\n  margin-bottom: 10px;\n  width: auto;\n  height: auto !important;\n  border-radius: 8px;\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.install-prompt {\n  background-color: var(--color-page-bg);\n}\n.install-prompt .prompt-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 14px;\n  border-bottom: 1px solid var(--color-border);\n  .app_logo {\n    width: 34px;\n    height: 34px;\n    border-radius: 4px;\n    margin-right: 12px;\n  }\n  .title {\n    flex: 1;\n    font-size: 14px;\n    font-weight: 500;\n    line-height: 20px;\n    text-align: center;\n    color: var(--color-text-0);\n  }\n  .btn-close {\n    margin-left: 14px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    position: relative;\n    background-color: var(--color-text-3);\n    &::before,\n    &::after {\n      content: '';\n      position: absolute;\n      display: block;\n      width: 2px;\n      height: 12px;\n      border-radius: 1px;\n      background-color: #fff;\n    }\n    &::before {\n      transform: rotate(45deg);\n    }\n    &::after {\n      transform: rotate(-45deg);\n    }\n  }\n}\n.install-prompt .prompt-body {\n  flex: 1;\n  .description {\n    margin-bottom: 16px;\n    padding: 0 14px;\n    font-size: 14px;\n    line-height: 20px;\n    color: var(--color-text-0);\n    white-space: pre-wrap;\n  }\n  .steps {\n    padding: 0 14px;\n    .step-main {\n      margin-top: 16px;\n      .step-text {\n        font-size: 14px;\n        line-height: 20px;\n        color: var(--color-text-0);\n        span {\n          color: #057cff;\n        }\n      }\n      .step-img {\n        width: 100%;\n        .ios_guide {\n          width: 100%;\n        }\n      }\n    }\n  }\n}\n</style>\n","\nimport { ref, computed } from 'vue';\nimport { Storage } from '@/store';\nimport { APP_NAME, DEVICE_INFO } from '@/config';\n\nexport default {\n  props: {\n    name: {\n      type: String,\n      require: true\n    },\n    maxAge: {\n      type: Number,\n      default() {\n        // 用户关闭提示后一个星期内不提示\n        return 604800;\n      }\n    }\n  },\n  beforeMount() {\n    this.prompted = Storage.getItem('pwaPrompt');\n  },\n  mounted() {\n    this.$bus.on('SHOW_IOS_PWA_PROMPT', () => {\n      this.visible = true;\n    });\n    const hostname = location.hostname.toLocaleLowerCase();\n    const isHost = APP_NAME === hostname.slice(0, hostname.lastIndexOf('.'));\n    if (isHost && !this.prompted && DEVICE_INFO.OS === 'IOS') {\n      setTimeout(() => {\n        this.visible = true;\n        Storage.setItem('pwaPrompt', true, 86400);\n      }, 3000);\n    }\n  },\n  methods: {\n    hidePrompt() {\n      this.visible = false;\n      Storage.setItem('pwaPrompt', true, this.maxAge);\n    }\n  },\n  data() {\n    return {\n      visible: false\n    };\n  }\n};\n","import { render } from \"./IosInstallPrompt.vue?vue&type=template&id=f3379142&scoped=true\"\nimport script from \"./IosInstallPrompt.vue?vue&type=script&lang=ts\"\nexport * from \"./IosInstallPrompt.vue?vue&type=script&lang=ts\"\n\nimport \"./IosInstallPrompt.vue?vue&type=style&index=0&id=f3379142&lang=scss\"\nimport \"./IosInstallPrompt.vue?vue&type=style&index=1&id=f3379142&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-f3379142\"\n\nexport default script","\nimport LoginModal from '@/views/parts/LoginModal.vue';\nimport ReportModal from '@/views/parts/ReportModal.vue';\nimport PWAInstallPrompt from '@/views/parts/PWAInstallPrompt.vue';\nimport BrowserOpenPrompt from '@/views/parts/BrowserOpenPrompt.vue';\nimport IosInstallPrompt from '@/views/parts/IosInstallPrompt.vue';\nimport store, { TYPES, Storage } from '@/store';\n\nexport default {\n  components: {\n    LoginModal,\n    ReportModal,\n    PWAInstallPrompt,\n    BrowserOpenPrompt,\n    IosInstallPrompt\n  },\n  setup(props) {\n    const user = Storage.getItem('user');\n    if (user?.id) {\n      store.commit(TYPES.USER_LOGIN, user);\n    }\n  },\n  data() {\n    return {\n      previews: [\n        'https://juokan.com/images/screens/1.png',\n        'https://juokan.com/images/screens/2.png',\n        'https://juokan.com/images/screens/3.png',\n        'https://juokan.com/images/screens/4.png',\n        'https://juokan.com/images/screens/5.png',\n        'https://juokan.com/images/screens/6.png',\n        'https://juokan.com/images/screens/7.png'\n      ]\n    };\n  }\n};\n","import { render } from \"./App.vue?vue&type=template&id=2822e9cb\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2822e9cb&lang=scss\"\nscript.render = render\n\nexport default script","import { createApp, provide, h } from 'vue';\nimport { ApolloClients } from '@vue/apollo-composable';\nimport ElementPlus from 'element-plus';\nimport './scss/index.scss';\nimport './registerServiceWorker';\nimport { EVENT_BUS } from './config';\nimport { apolloClient } from './graphql';\nimport router from './router';\nimport store from './store';\nimport App from './App.vue';\n\nconst app = createApp({\n  setup() {\n    provide(ApolloClients, {\n      default: apolloClient\n    });\n  },\n  render: () => h(App)\n});\n\n// prototype\napp.config.globalProperties.$bus = EVENT_BUS;\napp.config.globalProperties.$http = require('axios');\n\n// directive\napp.directive('auth', {\n  mounted(el, binding) {\n    const handler = function() {\n      if (store.getters.logged) {\n        binding.value.apply(this, arguments);\n      } else {\n        EVENT_BUS.emit('SHOW_LOGIN_MODAL');\n      }\n    };\n    const type = binding.arg;\n    el.addEventListener(type, handler);\n  }\n});\napp.directive('lazyload', require('./config/directives').lazyload);\n\n// component\napp.component('Masthead', require('./views/parts/Masthead.vue').default);\napp.component('Header', require('./views/parts/Header.vue').default);\napp.component('Footer', require('./views/parts/Footer.vue').default);\napp.component('SideBar', require('./views/parts/SideBar.vue').default);\napp.component('Empty', require('./components/Empty.vue').default);\napp.component('FollowButton', require('./components/FollowButton.vue').default);\n\n// render\napp\n  .use(store)\n  .use(router)\n  .use(ElementPlus)\n  .mount('#app');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Videos.vue?vue&type=style&index=0&id=20b1960c&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./SideBar.vue?vue&type=style&index=0&id=58fad64d&lang=scss&scoped=true\"","export function isObject(o: any) {\n    return o !== null && (typeof o === 'object' || typeof o === 'function');\n}\n\n// const o1 = { a: 1, b: { c: 3, d: [1, 2, 3], e: { f: 4 } }, g: 5, h: 6 };\n// const o2 = { a: 1, b: { c: 3, d: [1, 2, 3], e: { f: 5 } }, g: 6, i: 7 };\n// mergeProperty(o1,o2) //output: { a: 1, b: { c: 3, d: [1, 2, 3, 4, 5, 6], e: { f: 5 } }, g: 6, h: 6, i: 7 }\nexport function mergeProperty(obj1: any, obj2: any, option?: { prepend: boolean }) {\n    if (!(isObject(obj1) || isObject(obj2))) {\n        return obj1;\n    }\n\n    const copyObj1 = Array.isArray(obj1) ? [...obj1] : { ...obj1 };\n    const copyObj2 = Array.isArray(obj2) ? [...obj2] : { ...obj2 };\n    if (Array.isArray(copyObj1)) {\n        if (option?.prepend) {\n            copyObj1.unshift(...copyObj2);\n        } else {\n            copyObj1.push(...copyObj2);\n        }\n    } else {\n        for (const key of Object.keys(copyObj2)) {\n            if (isObject(copyObj2[key])) {\n                if (!copyObj1[key]) Object.assign(copyObj1, { [key]: Array.isArray(copyObj2[key]) ? [] : {} });\n                copyObj1[key] = mergeProperty(copyObj1[key], copyObj2[key], option);\n            } else {\n                copyObj1[key] = copyObj2[key];\n            }\n        }\n    }\n\n    return copyObj1;\n}\n","export async function exceptionCapture(fn: () => Promise<any>) {\n  try {\n    const res = await fn();\n    return [null, res];\n  } catch (err) {\n    return [err, null];\n  }\n}\n","export function errorMessage(error) {\n  let content = '';\n  const { graphQLErrors, networkError } = error;\n  if (typeof error === 'string') {\n    content = error.replace('Error: ', '');\n  } else if (graphQLErrors) {\n    graphQLErrors.map(({ message, locations, path }) => {\n      content += `${message.replace('GraphQL error: ', '')}\\n`;\n    });\n  } else if (networkError) {\n    content = `${networkError}`;\n  }\n  return content || '请求失败...';\n}\n\nexport function logErrorMessage({ graphQLErrors, networkError }) {\n  if (graphQLErrors)\n    graphQLErrors.map(({ message, locations, path }) =>\n      console.log(`[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`)\n    );\n\n  if (networkError) console.log(`[Network error]: ${networkError}`);\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./MovieDetail.vue?vue&type=style&index=0&id=597262d4&lang=scss&scoped=true\"","<template>\n  <div id=\"masthead\">\n    <header class=\"header\" v-loading.fullscreen.lock=\"loading\">\n      <div class=\"brand\">\n        <router-link to=\"/\">\n          <img class=\"logo hide-sm\" alt=\"juhaokan logo\" :src=\"logoUrl\" />\n          <img class=\"logo show-sm\" alt=\"juhaokan logo\" :src=\"logoTextUrl\" />\n        </router-link>\n      </div>\n      <div class=\"navigation\">\n        <div class=\"search-wrap hide-lg\">\n          <SearchBar />\n        </div>\n        <div class=\"nav-wrap\">\n          <div class=\"site-nav show-lg\">\n            <router-link class=\"nav-search\" to=\"/search\">\n              <svg\n                t=\"1631696217486\"\n                class=\"icon\"\n                viewBox=\"0 0 1024 1024\"\n                version=\"1.1\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496l-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28\"\n                  p-id=\"24991\"\n                ></path>\n              </svg>\n            </router-link>\n          </div>\n          <div class=\"site-nav menus\">\n            <div class=\"nav-user\">\n              <div v-if=\"logged\" class=\"nav-item\">\n                <el-dropdown>\n                  <div class=\"user-logged el-dropdown-link\">\n                    <img class=\"avatar\" alt=\"avatar\" :src=\"user.avatar\" />\n                  </div>\n                  <template #dropdown>\n                    <el-dropdown-menu>\n                      <el-dropdown-item>\n                        <router-link :to=\"`/user/${user.id}`\"> 个人中心 </router-link>\n                      </el-dropdown-item>\n                      <el-dropdown-item>\n                        <a @click=\"handleLogout\"> 退出登录 </a>\n                      </el-dropdown-item>\n                    </el-dropdown-menu>\n                  </template>\n                </el-dropdown>\n              </div>\n              <div v-else class=\"nav-item\">\n                <el-popover placement=\"bottom\" trigger=\"hover\" :width=\"200\">\n                  <template #reference>\n                    <div class=\"user-login\" @click=\"handleLogin\">\n                      <img class=\"avatar\" alt=\"noavatar\" src=\"/img/noavatar.png\" />\n                    </div>\n                  </template>\n                  <div class=\"unlogin-popover\">\n                    <div class=\"title\">登录后你可以</div>\n                    <div class=\"content\">\n                      <div class=\"login-item\">\n                        <span>同步播放记录、追剧不错过</span>\n                      </div>\n                      <div class=\"login-item\">\n                        <span>发弹幕/评论、创房间一起看</span>\n                      </div>\n                    </div>\n                    <a class=\"button\" @click=\"handleLogin\"> 立即登录 </a>\n                  </div>\n                </el-popover>\n              </div>\n            </div>\n            <ul class=\"nav-menu hide-md\">\n              <li>\n                <router-link to=\"/category\" rel=\"noopener noreferrer\"> 影视分类 </router-link>\n              </li>\n              <li>\n                <router-link to=\"/videos\" rel=\"noopener noreferrer\"> 热门视频 </router-link>\n              </li>\n              <li>\n                <el-popover v-if=\"logged\" placement=\"bottom\" trigger=\"hover\" :width=\"300\" popper-class=\"history-popper\">\n                  <template #reference>\n                    <div id=\"recharge\">播放记录</div>\n                  </template>\n                  <div class=\"history-popover\">\n                    <div class=\"title\">最近的观看记录</div>\n                    <div class=\"data-content\">\n                      <HistoryPopover />\n                    </div>\n                  </div>\n                </el-popover>\n                <el-popover v-else placement=\"bottom\" trigger=\"hover\" :width=\"200\">\n                  <template #reference>\n                    <div id=\"recharge\">播放记录</div>\n                  </template>\n                  <div class=\"unlogin-popover\">\n                    <div class=\"title\">登录后可以查看播放记录</div>\n                    <a class=\"button\" @click=\"handleLogin\"> 立即登录 </a>\n                  </div>\n                </el-popover>\n              </li>\n            </ul>\n            <div class=\"nav-btns\" @click=\"downloadApp\">\n              <a class=\"nav-item\" target=\"_blank\">\n                <div class=\"nav-button\">下载APP</div>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </header>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { DOWNLOAD_URL, LOGO_URL, LOGO_TEXT_URL, DEVICE_INFO, TX_ENV } from '@/config';\nimport { TYPES } from '@/store';\nimport SearchBar from '@/components/SearchBar.vue';\nimport HistoryPopover from '@/views/parts/HistoryPopover.vue';\n\nexport default {\n  components: {\n    SearchBar,\n    HistoryPopover\n  },\n  computed: {\n    logged() {\n      return this.$store.getters.logged;\n    },\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  methods: {\n    handleLogin() {\n      if (screen.width >= 576) {\n        this.$bus.emit('SHOW_LOGIN_MODAL');\n      } else {\n        this.$router.push('/login');\n      }\n    },\n    handleLogout() {\n      // this.loading = true;\n      this.$store.commit(TYPES.USER_LOGOUT);\n      // window.location.reload();\n    },\n    downloadApp() {\n      //微信内逻辑优先\n      if (TX_ENV) {\n        this.$bus.emit('SHOW_BROWSER_OPEN_PROMPT');\n        window.pwaEventTrack('下载APP', '腾讯浏览器');\n      } else if (DEVICE_INFO.OS === 'IOS') {\n        this.$bus.emit('SHOW_IOS_PWA_PROMPT');\n        window.pwaEventTrack('下载APP', 'iOS浏览器');\n      } else {\n        window.open(DOWNLOAD_URL);\n        window.pwaEventTrack('下载APP', '安卓浏览器');\n      }\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      logoUrl: LOGO_URL,\n      logoTextUrl: LOGO_TEXT_URL\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.brand {\n  margin-right: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  height: 100%;\n  & > a {\n    display: block;\n    height: calc(var(--header-height) * 0.58);\n  }\n  .logo {\n    height: 100%;\n  }\n  @media screen and (max-width: $col-md-width - 1px) {\n    margin-right: 20px;\n  }\n}\n.navigation {\n  align-items: center;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row;\n  flex-grow: 1;\n  height: 100%;\n  justify-content: space-between;\n  @media screen and (max-width: $col-lg-width - 1px) {\n    justify-content: flex-end;\n  }\n}\n\n.search-wrap {\n  flex: 1;\n  max-width: 320px;\n}\n.nav-wrap {\n  display: flex;\n  align-items: center;\n  height: calc(var(--header-height) * 0.58);\n  margin-left: var(--content-margin);\n}\n\n.site-nav {\n  display: flex;\n  align-items: center;\n  &.menus {\n    flex: 1;\n    position: relative;\n  }\n}\n.nav-search {\n  display: block;\n  width: calc(var(--header-height) * 0.58);\n  height: calc(var(--header-height) * 0.58);\n  .icon {\n    width: 100%;\n    height: 100%;\n    fill: var(--color-text-2);\n  }\n}\n\n.nav-user,\n.nav-menu,\n.nav-btns {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  & > li,\n  .nav-item {\n    margin-left: 24px;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    height: calc(var(--header-height) * 0.58);\n    font-size: 14px;\n    line-height: 22px;\n    color: var(--color-text-1);\n    position: relative;\n    cursor: pointer;\n    &:hover {\n      color: rgba($theme-color_primary, 0.9);\n    }\n    & > a {\n      &.router-link-exact-active {\n        color: rgba($theme-color_primary, 0.9);\n      }\n    }\n    @media screen and (max-width: $col-md-width - 1px) {\n      margin-left: 20px;\n    }\n  }\n}\n\n.menu-icon {\n  margin-left: 24px;\n  width: calc(var(--header-height) * 0.58);\n  height: calc(var(--header-height) * 0.58);\n  .icon {\n    width: 100%;\n    height: 100%;\n    fill: var(--color-text-2);\n  }\n}\n.user-login,\n.user-logged {\n  width: calc(var(--header-height) * 0.58);\n  height: calc(var(--header-height) * 0.58);\n  flex-grow: 0;\n  flex-shrink: 0;\n  background-color: var(--color-bg-skeleton-stroke);\n  border: 1px solid var(--color-bg-skeleton-stroke);\n  border-radius: 50%;\n  overflow: hidden;\n  position: relative;\n  .avatar {\n    width: 100%;\n    height: 100%;\n    position: relative;\n  }\n}\n.nav-button {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  height: calc(var(--header-height) * 0.58);\n  min-width: 100px;\n  padding: 0 12px;\n  border-radius: 4px;\n  color: #fff;\n  font-weight: 600;\n  background-color: $theme-color_primary;\n  cursor: pointer;\n  position: relative;\n  @media screen and (max-width: $col-sm-width - 1px) {\n    padding: 0 10px;\n    min-width: 72px;\n    font-size: 13px;\n    font-weight: 400;\n  }\n}\n\n.unlogin-popover,\n.history-popover {\n  .title {\n    padding-bottom: 6px;\n    font-size: 14px;\n    line-height: 22px;\n    color: var(--color-text-2);\n    text-align: center;\n  }\n  .content {\n    font-size: 14px;\n    line-height: 20px;\n    color: var(--color-text-1);\n    .login-item {\n      text-align: center;\n      margin-top: 6px;\n    }\n  }\n  .button {\n    margin-top: 12px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 32px;\n    padding: 0 12px;\n    border-radius: 4px;\n    color: #fff;\n    font-weight: 600;\n    background-color: $theme-color_primary;\n    cursor: pointer;\n  }\n}\n\n.history-popover {\n  .title {\n    padding: 12px 0;\n  }\n  .data-content {\n    padding: 0 12px;\n    height: 300px;\n    border-top: 1px solid var(--overlay-bg-border);\n    overflow: auto;\n  }\n}\n</style>\n\n<style lang=\"scss\">\n.el-popover.history-popper.el-popper {\n  padding: 0;\n}\n</style>\n","<template>\n  <div class=\"movies-history\">\n    <template v-for=\"item in moviesHistory\" :key=\"item.id\">\n      <router-link v-if=\"item.movie?.id\" class=\"item-wrap\" :to=\"`/movie/${item.movie.id}`\">\n        <HTMovieItem :movie=\"item.movie\" :time-ago=\"item.last_watch_time\" :mini=\"true\" />\n      </router-link>\n    </template>\n    <div v-if=\"!disabled\" class=\"view-all\">\n      <router-link :to=\"`/user/${user.id}?tab=history`\">\n        <div class=\"button button-secondary\">\n          查看全部\n        </div>\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref } from 'vue';\nimport { useMoviesHistoryQuery } from '@/graphql';\nimport HTMovieItem from '@/components/HTMovieItem.vue';\n\nexport default {\n  components: {\n    HTMovieItem\n  },\n  setup(props) {\n    const { loading, error, disabled, moviesHistory } = useMoviesHistoryQuery();\n    return {\n      loading,\n      error,\n      disabled,\n      moviesHistory\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.movies-history {\n  .item-wrap {\n    display: block;\n    margin-top: 12px;\n  }\n}\n.view-all {\n  margin: 16px auto;\n}\n.button-secondary {\n  display: block;\n  height: 32px;\n  line-height: 32px;\n  border-radius: 4px;\n  font-size: 14px;\n  color: var(--color-text-0);\n  text-align: center;\n  background: var(--color-bg-1);\n  cursor: pointer;\n}\n</style>\n","import { render } from \"./HistoryPopover.vue?vue&type=template&id=48cb7e20&scoped=true\"\nimport script from \"./HistoryPopover.vue?vue&type=script&lang=js\"\nexport * from \"./HistoryPopover.vue?vue&type=script&lang=js\"\n\nimport \"./HistoryPopover.vue?vue&type=style&index=0&id=48cb7e20&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-48cb7e20\"\n\nexport default script","\nimport { DOWNLOAD_URL, LOGO_URL, LOGO_TEXT_URL, DEVICE_INFO, TX_ENV } from '@/config';\nimport { TYPES } from '@/store';\nimport SearchBar from '@/components/SearchBar.vue';\nimport HistoryPopover from '@/views/parts/HistoryPopover.vue';\n\nexport default {\n  components: {\n    SearchBar,\n    HistoryPopover\n  },\n  computed: {\n    logged() {\n      return this.$store.getters.logged;\n    },\n    user() {\n      return this.$store.state.user.user;\n    }\n  },\n  methods: {\n    handleLogin() {\n      if (screen.width >= 576) {\n        this.$bus.emit('SHOW_LOGIN_MODAL');\n      } else {\n        this.$router.push('/login');\n      }\n    },\n    handleLogout() {\n      // this.loading = true;\n      this.$store.commit(TYPES.USER_LOGOUT);\n      // window.location.reload();\n    },\n    downloadApp() {\n      //微信内逻辑优先\n      if (TX_ENV) {\n        this.$bus.emit('SHOW_BROWSER_OPEN_PROMPT');\n        window.pwaEventTrack('下载APP', '腾讯浏览器');\n      } else if (DEVICE_INFO.OS === 'IOS') {\n        this.$bus.emit('SHOW_IOS_PWA_PROMPT');\n        window.pwaEventTrack('下载APP', 'iOS浏览器');\n      } else {\n        window.open(DOWNLOAD_URL);\n        window.pwaEventTrack('下载APP', '安卓浏览器');\n      }\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      logoUrl: LOGO_URL,\n      logoTextUrl: LOGO_TEXT_URL\n    };\n  }\n};\n","import { render } from \"./Masthead.vue?vue&type=template&id=5aa40e8a&scoped=true\"\nimport script from \"./Masthead.vue?vue&type=script&lang=ts\"\nexport * from \"./Masthead.vue?vue&type=script&lang=ts\"\n\nimport \"./Masthead.vue?vue&type=style&index=0&id=5aa40e8a&lang=scss&scoped=true\"\nimport \"./Masthead.vue?vue&type=style&index=1&id=5aa40e8a&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-5aa40e8a\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./SubCommentItem.vue?vue&type=style&index=0&id=533331cf&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./PWAInstallPrompt.vue?vue&type=style&index=1&id=1c8563dd&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./FollowButton.vue?vue&type=style&index=0&id=5ed98eee&lang=scss\"","<template>\n  <div class=\"ld-container\">\n    <div class=\"ld-ellipsis\">\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  setup() {\n    return {};\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.ld-container {\n  display: flex;\n  justify-content: center;\n}\n.ld-ellipsis {\n  display: inline-block;\n  position: relative;\n  width: 76px;\n  height: 52px;\n}\n.ld-ellipsis div {\n  position: absolute;\n  top: 20px;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background: $theme-color_primary;\n  animation-timing-function: cubic-bezier(0, 1, 1, 0);\n}\n.ld-ellipsis div:nth-child(1) {\n  left: 8px;\n  animation: ld-ellipsis1 0.6s infinite;\n}\n.ld-ellipsis div:nth-child(2) {\n  left: 8px;\n  animation: ld-ellipsis2 0.6s infinite;\n}\n.ld-ellipsis div:nth-child(3) {\n  left: 32px;\n  animation: ld-ellipsis2 0.6s infinite;\n}\n.ld-ellipsis div:nth-child(4) {\n  left: 56px;\n  animation: ld-ellipsis3 0.6s infinite;\n}\n@keyframes ld-ellipsis1 {\n  0% {\n    transform: scale(0);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n@keyframes ld-ellipsis3 {\n  0% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n@keyframes ld-ellipsis2 {\n  0% {\n    transform: translate(0, 0);\n  }\n  100% {\n    transform: translate(24px, 0);\n  }\n}\n</style>\n","import { render } from \"./LoadingSpinner.vue?vue&type=template&id=5999f142&scoped=true\"\nimport script from \"./LoadingSpinner.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingSpinner.vue?vue&type=script&lang=js\"\n\nimport \"./LoadingSpinner.vue?vue&type=style&index=0&id=5999f142&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5999f142\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./EditUserInfoModal.vue?vue&type=style&index=0&id=348eedd6&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./Masthead.vue?vue&type=style&index=0&id=5aa40e8a&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./MovieEpisodes.vue?vue&type=style&index=0&id=e887fc12&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./BrowserOpenPrompt.vue?vue&type=style&index=0&id=f02e3634&scoped=true&lang=css\"","<template>\n  <el-button\n    class=\"follow-button\"\n    round\n    :size=\"size\"\n    :type=\"isFollowed ? 'info' : 'primary'\"\n    v-auth:click=\"toggleFollow\"\n    :loading=\"loading\"\n  >\n    {{ isFollowed ? '已关注' : '关 注' }}\n  </el-button>\n</template>\n\n<script lang=\"ts\">\nimport { ref, toRefs, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport { ElMessage } from 'element-plus';\nimport { useMutation } from '@vue/apollo-composable';\nimport { exceptionCapture } from '@/utils';\nimport { TOGGLE_FOLLOW_MUTATION, FOLLOWED_USERS_QUERY, USER_FOLLOWERS_QUERY, USER_QUERY } from '@/graphql';\n\nexport default {\n  props: {\n    user: {\n      type: Object\n    },\n    size: [String, undefined, null]\n  },\n  setup(props: { user: Record<string, any>; size: String | undefined | null }) {\n    const store = useStore();\n    const { user, size } = toRefs(props);\n    const me = ref(store.state?.user?.user);\n    const isFollowed = ref(user.value?.followed_status);\n\n    const { mutate: toggleFollowMutation, loading } = useMutation(TOGGLE_FOLLOW_MUTATION, () => ({\n      variables: { id: user.value?.id, type: 'users' },\n      refetchQueries: () => [\n        {\n          query: USER_QUERY,\n          variables: { id: me.value?.id }\n        }\n      ]\n    }));\n\n    async function toggleFollow() {\n      isFollowed.value = !isFollowed.value;\n      const [err, res] = await exceptionCapture(() => toggleFollowMutation());\n      if (err) {\n        ElMessage.error(isFollowed.value ? '关注失败' : '取关失败');\n        isFollowed.value = !isFollowed.value;\n      }\n    }\n\n    // watch(user, value => {\n    //   isFollowed.value = value?.followed_status;\n    // });\n\n    return { size, isFollowed, toggleFollow, loading };\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.follow-button {\n  color: var(--color-text-1);\n  border-color: var(--overlay-bg);\n  background-color: var(--overlay-bg);\n  &:hover {\n    border-color: var(--overlay-bg-hover);\n    background-color: var(--overlay-bg-hover);\n  }\n}\n</style>\n","\nimport { ref, toRefs, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport { ElMessage } from 'element-plus';\nimport { useMutation } from '@vue/apollo-composable';\nimport { exceptionCapture } from '@/utils';\nimport { TOGGLE_FOLLOW_MUTATION, FOLLOWED_USERS_QUERY, USER_FOLLOWERS_QUERY, USER_QUERY } from '@/graphql';\n\nexport default {\n  props: {\n    user: {\n      type: Object\n    },\n    size: [String, undefined, null]\n  },\n  setup(props: { user: Record<string, any>; size: String | undefined | null }) {\n    const store = useStore();\n    const { user, size } = toRefs(props);\n    const me = ref(store.state?.user?.user);\n    const isFollowed = ref(user.value?.followed_status);\n\n    const { mutate: toggleFollowMutation, loading } = useMutation(TOGGLE_FOLLOW_MUTATION, () => ({\n      variables: { id: user.value?.id, type: 'users' },\n      refetchQueries: () => [\n        {\n          query: USER_QUERY,\n          variables: { id: me.value?.id }\n        }\n      ]\n    }));\n\n    async function toggleFollow() {\n      isFollowed.value = !isFollowed.value;\n      const [err, res] = await exceptionCapture(() => toggleFollowMutation());\n      if (err) {\n        ElMessage.error(isFollowed.value ? '关注失败' : '取关失败');\n        isFollowed.value = !isFollowed.value;\n      }\n    }\n\n    // watch(user, value => {\n    //   isFollowed.value = value?.followed_status;\n    // });\n\n    return { size, isFollowed, toggleFollow, loading };\n  }\n};\n","import { render } from \"./FollowButton.vue?vue&type=template&id=5ed98eee\"\nimport script from \"./FollowButton.vue?vue&type=script&lang=ts\"\nexport * from \"./FollowButton.vue?vue&type=script&lang=ts\"\n\nimport \"./FollowButton.vue?vue&type=style&index=0&id=5ed98eee&lang=scss\"\nscript.render = render\n\nexport default script","export const lazyload = {\n  mounted(el, binding) {\n    el.src = '/img/default_img_load.svg';\n    const observer = new IntersectionObserver(\n      ([{ isIntersecting }]) => {\n        if (isIntersecting) {\n          observer.unobserve(el);\n          el.src = binding.value;\n          el.onerror = () => {\n            el.src = '/img/default_img_error.svg';\n          };\n        }\n      },\n      {\n        threshold: 0\n      }\n    );\n    // 监视 dom\n    observer.observe(el);\n  }\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Skeleton.vue?vue&type=style&index=0&id=461d69f8&lang=scss&scoped=true\"","export const getBase64Image = (src: string) => {\n    return new Promise((resolve, reject) => {\n        const img = document.createElement('img');\n        img.crossOrigin = 'Anonymous';\n        img.src = src + '?v=' + Math.random();\n\n        img.onload = () => {\n            const canvas = document.createElement('canvas');\n            const ratio = window.devicePixelRatio || 2;\n            const width = img.width * ratio;\n            const height = img.height * ratio;\n            canvas.width = width;\n            canvas.height = height;\n            const ctx: any = canvas.getContext('2d');\n            ctx.drawImage(img, 0, 0, width, height);\n            // console.log(`canvas`, canvas);\n            try {\n                resolve(canvas.toDataURL('image/jpeg', 0.9)); // 这里是为了降低图片大小\n            } catch (error) {\n                console.log(`error`, error);\n                reject(error);\n            }\n        };\n    });\n};\n","/**\n * covert canvas to image\n * and save the image file\n */\nconst Canvas2Image = (function() {\n  // check if support sth.\n  const $support = (function() {\n    const canvas = document.createElement('canvas'),\n      ctx = canvas.getContext('2d');\n\n    return {\n      canvas: !!ctx,\n      imageData: !!ctx.getImageData,\n      dataURL: !!canvas.toDataURL,\n      btoa: !!window.btoa\n    };\n  })();\n\n  const downloadMime = 'image/octet-stream';\n\n  function scaleCanvas(canvas, width, height) {\n    const w = canvas.width,\n      h = canvas.height;\n    if (width === undefined) {\n      width = w;\n    }\n    if (height === undefined) {\n      height = h;\n    }\n\n    let retCanvas = document.createElement('canvas');\n    let retCtx = retCanvas.getContext('2d');\n    retCanvas.width = width;\n    retCanvas.height = height;\n    retCtx.drawImage(canvas, 0, 0, w, h, 0, 0, width, height);\n    return retCanvas;\n  }\n\n  function getDataURL(canvas, type, width, height) {\n    canvas = scaleCanvas(canvas, width, height);\n    return canvas.toDataURL(type);\n  }\n\n  // save file to local with file name and file type\n  function saveFile(strData, fileType, fileName = 'name') {\n    // document.location.href = strData;\n    let saveLink = document.createElement('a');\n    // download file name\n    saveLink.download = fileName + '.' + fileType;\n    // download file data\n    saveLink.href = strData;\n    // start download\n    saveLink.click();\n  }\n\n  function genImage(strData) {\n    let img = document.createElement('img');\n    img.src = strData;\n    return img;\n  }\n\n  function fixType(type) {\n    type = type.toLowerCase().replace(/jpg/i, 'jpeg');\n    const r = type.match(/png|jpeg|bmp|gif/)[0];\n    return 'image/' + r;\n  }\n\n  function encodeData(data) {\n    if (!window.btoa) {\n      // eslint-disable-next-line no-throw-literal\n      throw 'btoa undefined';\n    }\n    let str = '';\n    if (typeof data == 'string') {\n      str = data;\n    } else {\n      for (let i = 0; i < data.length; i++) {\n        str += String.fromCharCode(data[i]);\n      }\n    }\n\n    return btoa(str);\n  }\n\n  function getImageData(canvas) {\n    const w = canvas.width,\n      h = canvas.height;\n    return canvas.getContext('2d').getImageData(0, 0, w, h);\n  }\n\n  function makeURI(strData, type) {\n    return 'data:' + type + ';base64,' + strData;\n  }\n\n  /**\n   * create bitmap image\n   * 按照规则生成图片响应头和响应体\n   */\n  const genBitmapImage = function(oData) {\n    //\n    // BITMAPFILEHEADER: http://msdn.microsoft.com/en-us/library/windows/desktop/dd183374(v=vs.85).aspx\n    // BITMAPINFOHEADER: http://msdn.microsoft.com/en-us/library/dd183376.aspx\n    //\n\n    const biWidth = oData.width;\n    const biHeight = oData.height;\n    const biSizeImage = biWidth * biHeight * 3;\n    const bfSize = biSizeImage + 54; // total header size = 54 bytes\n\n    //\n    //  typedef struct tagBITMAPFILEHEADER {\n    //  \tWORD bfType;\n    //  \tDWORD bfSize;\n    //  \tWORD bfReserved1;\n    //  \tWORD bfReserved2;\n    //  \tDWORD bfOffBits;\n    //  } BITMAPFILEHEADER;\n    //\n    const BITMAPFILEHEADER = [\n      // WORD bfType -- The file type signature; must be \"BM\"\n      0x42,\n      0x4d,\n      // DWORD bfSize -- The size, in bytes, of the bitmap file\n      bfSize & 0xff,\n      (bfSize >> 8) & 0xff,\n      (bfSize >> 16) & 0xff,\n      (bfSize >> 24) & 0xff,\n      // WORD bfReserved1 -- Reserved; must be zero\n      0,\n      0,\n      // WORD bfReserved2 -- Reserved; must be zero\n      0,\n      0,\n      // DWORD bfOffBits -- The offset, in bytes, from the beginning of the BITMAPFILEHEADER structure to the bitmap bits.\n      54,\n      0,\n      0,\n      0\n    ];\n\n    //\n    //  typedef struct tagBITMAPINFOHEADER {\n    //  \tDWORD biSize;\n    //  \tLONG  biWidth;\n    //  \tLONG  biHeight;\n    //  \tWORD  biPlanes;\n    //  \tWORD  biBitCount;\n    //  \tDWORD biCompression;\n    //  \tDWORD biSizeImage;\n    //  \tLONG  biXPelsPerMeter;\n    //  \tLONG  biYPelsPerMeter;\n    //  \tDWORD biClrUsed;\n    //  \tDWORD biClrImportant;\n    //  } BITMAPINFOHEADER, *PBITMAPINFOHEADER;\n    //\n    const BITMAPINFOHEADER = [\n      // DWORD biSize -- The number of bytes required by the structure\n      40,\n      0,\n      0,\n      0,\n      // LONG biWidth -- The width of the bitmap, in pixels\n      biWidth & 0xff,\n      (biWidth >> 8) & 0xff,\n      (biWidth >> 16) & 0xff,\n      (biWidth >> 24) & 0xff,\n      // LONG biHeight -- The height of the bitmap, in pixels\n      biHeight & 0xff,\n      (biHeight >> 8) & 0xff,\n      (biHeight >> 16) & 0xff,\n      (biHeight >> 24) & 0xff,\n      // WORD biPlanes -- The number of planes for the target device. This value must be set to 1\n      1,\n      0,\n      // WORD biBitCount -- The number of bits-per-pixel, 24 bits-per-pixel -- the bitmap\n      // has a maximum of 2^24 colors (16777216, Truecolor)\n      24,\n      0,\n      // DWORD biCompression -- The type of compression, BI_RGB (code 0) -- uncompressed\n      0,\n      0,\n      0,\n      0,\n      // DWORD biSizeImage -- The size, in bytes, of the image. This may be set to zero for BI_RGB bitmaps\n      biSizeImage & 0xff,\n      (biSizeImage >> 8) & 0xff,\n      (biSizeImage >> 16) & 0xff,\n      (biSizeImage >> 24) & 0xff,\n      // LONG biXPelsPerMeter, unused\n      0,\n      0,\n      0,\n      0,\n      // LONG biYPelsPerMeter, unused\n      0,\n      0,\n      0,\n      0,\n      // DWORD biClrUsed, the number of color indexes of palette, unused\n      0,\n      0,\n      0,\n      0,\n      // DWORD biClrImportant, unused\n      0,\n      0,\n      0,\n      0\n    ];\n\n    const iPadding = (4 - ((biWidth * 3) % 4)) % 4;\n\n    const aImgData = oData.data;\n\n    let strPixelData = '';\n    const biWidth4 = biWidth << 2;\n    let y = biHeight;\n    const fromCharCode = String.fromCharCode;\n\n    do {\n      const iOffsetY = biWidth4 * (y - 1);\n      let strPixelRow = '';\n      for (let x = 0; x < biWidth; x++) {\n        const iOffsetX = x << 2;\n        strPixelRow +=\n          fromCharCode(aImgData[iOffsetY + iOffsetX + 2]) +\n          fromCharCode(aImgData[iOffsetY + iOffsetX + 1]) +\n          fromCharCode(aImgData[iOffsetY + iOffsetX]);\n      }\n\n      for (let c = 0; c < iPadding; c++) {\n        strPixelRow += String.fromCharCode(0);\n      }\n\n      strPixelData += strPixelRow;\n    } while (--y);\n\n    return encodeData(BITMAPFILEHEADER.concat(BITMAPINFOHEADER)) + encodeData(strPixelData);\n  };\n\n  /**\n   * saveAsImage\n   * @param canvas canvasElement\n   * @param width {String} image type\n   * @param height {Number} [optional] png width\n   * @param type {string} [optional] png height\n   * @param fileName {String} image name\n   */\n  const saveAsImage = function(canvas, width, height, type, fileName) {\n    // save file type\n    const fileType = type;\n    if ($support.canvas && $support.dataURL) {\n      if (typeof canvas == 'string') {\n        canvas = document.getElementById(canvas);\n      }\n      if (type === undefined) {\n        type = 'png';\n      }\n      type = fixType(type);\n      if (/bmp/.test(type)) {\n        const data = getImageData(scaleCanvas(canvas, width, height));\n        const strData = genBitmapImage(data);\n        // use new parameter: fileType\n        saveFile(makeURI(strData, downloadMime), fileType, fileName);\n      } else {\n        const strData = getDataURL(canvas, type, width, height);\n        // use new parameter: fileType\n        saveFile(strData.replace(type, downloadMime), fileType, fileName);\n      }\n    }\n  };\n\n  const convertToImage = function(canvas, width, height, type) {\n    if ($support.canvas && $support.dataURL) {\n      if (typeof canvas == 'string') {\n        canvas = document.getElementById(canvas);\n      }\n      if (type === undefined) {\n        type = 'png';\n      }\n      type = fixType(type);\n\n      if (/bmp/.test(type)) {\n        const data = getImageData(scaleCanvas(canvas, width, height));\n        const strData = genBitmapImage(data);\n        return genImage(makeURI(strData, 'image/bmp'));\n      } else {\n        const strData = getDataURL(canvas, type, width, height);\n        return genImage(strData);\n      }\n    }\n  };\n\n  return {\n    saveAsImage: saveAsImage,\n    saveAsPNG: function(canvas, width, height, fileName) {\n      return saveAsImage(canvas, width, height, 'png', fileName);\n    },\n    saveAsJPEG: function(canvas, width, height, fileName) {\n      return saveAsImage(canvas, width, height, 'jpeg', fileName);\n    },\n    saveAsGIF: function(canvas, width, height, fileName) {\n      return saveAsImage(canvas, width, height, 'gif', fileName);\n    },\n    saveAsBMP: function(canvas, width, height, fileName) {\n      return saveAsImage(canvas, width, height, 'bmp', fileName);\n    },\n\n    convertToImage: convertToImage,\n    convertToPNG: function(canvas, width, height) {\n      return convertToImage(canvas, width, height, 'png');\n    },\n    convertToJPEG: function(canvas, width, height) {\n      return convertToImage(canvas, width, height, 'jpeg');\n    },\n    convertToGIF: function(canvas, width, height) {\n      return convertToImage(canvas, width, height, 'gif');\n    },\n    convertToBMP: function(canvas, width, height) {\n      return convertToImage(canvas, width, height, 'bmp');\n    }\n  };\n})();\n\n// Export function, used in npm\nexport default Canvas2Image;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./HistoryPopover.vue?vue&type=style&index=0&id=48cb7e20&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./FollowUsersPane.vue?vue&type=style&index=0&id=188c1b99&lang=scss&scoped=true\"","<template>\n  <el-form\n    ref=\"loginForm\"\n    :model=\"formData\"\n    :rules=\"rules\"\n    class=\"signUp-container\"\n    v-loading.fullscreen.lock=\"loading\"\n  >\n    <el-form-item class=\"form-group\" label=\"昵&emsp;称\" prop=\"name\">\n      <el-input placeholder=\"请输入昵称\" v-model=\"formData.name\" maxlength=\"16\" clearable></el-input>\n    </el-form-item>\n    <el-form-item class=\"form-group\" label=\"手机号\" prop=\"account\">\n      <el-input\n        class=\"account-input\"\n        name=\"formData-account\"\n        placeholder=\"请输入手机号\"\n        v-model=\"formData.account\"\n        maxlength=\"11\"\n        autocomplete\n        clearable\n      >\n        <template #prefix>\n          +86\n        </template>\n      </el-input>\n    </el-form-item>\n    <el-form-item class=\"form-group\" label=\"密&emsp;码\" prop=\"password\">\n      <el-input placeholder=\"请输入密码\" v-model=\"formData.password\" maxlength=\"12\" show-password></el-input>\n    </el-form-item>\n    <el-form-item class=\"form-group\">\n      <el-button type=\"primary\" @click=\"handleSignIn\" class=\"main-button account\">\n        注册\n      </el-button>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue';\nimport { useMutation } from '@vue/apollo-composable';\nimport { ElMessage } from 'element-plus';\nimport { exceptionCapture, errorMessage } from '@/utils';\nimport store, { Storage, TYPES } from '@/store';\nimport { SIGN_UP } from '@/graphql';\n\nexport default defineComponent({\n  setup(props, context) {\n    const loading = ref(false);\n    const formData = ref({ name: '', account: '', password: '' });\n\n    const { mutate: signInMutate } = useMutation(SIGN_UP, () => ({ variables: formData.value }));\n\n    function onError(err) {\n      ElMessage.error(`注册出错：${errorMessage(err)}`);\n    }\n\n    function onSuccess(res) {\n      context.emit('onSuccess');\n      ElMessage({\n        message: `注册成功!`,\n        type: 'success'\n      });\n      store.commit(TYPES.USER_LOGIN, res);\n      Storage.setItem('user', res);\n    }\n\n    async function signUpMutation() {\n      loading.value = true;\n      const [err, res] = await exceptionCapture(() => signInMutate());\n      loading.value = false;\n      if (err) {\n        onError(err);\n      } else if (res?.data.signUp) {\n        onSuccess(res?.data.signUp);\n      }\n      window.pwaEventTrack('手机注册', err ? '失败' : '成功');\n    }\n\n    return {\n      loading,\n      formData,\n      signUpMutation\n    };\n  },\n  computed: {\n    disabled() {\n      return !this.formData.account || !this.formData.password;\n    }\n  },\n  methods: {\n    handleSignIn() {\n      this.$refs.loginForm.validate(valid => {\n        if (valid) {\n          this.signUpMutation();\n        } else {\n          return false;\n        }\n      });\n    }\n  },\n  data() {\n    return {\n      rules: {\n        account: [\n          {\n            required: true,\n            message: '请输入手机号',\n            trigger: 'blur'\n          },\n          {\n            min: 11,\n            message: '手机号长度不正确',\n            trigger: 'blur'\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: '请输入密码',\n            trigger: 'blur'\n          },\n          {\n            min: 6,\n            max: 12,\n            message: '密码格式不正确（6-12）位',\n            trigger: 'blur'\n          }\n        ]\n      }\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\">\n.signUp-container {\n  .el-form-item__label {\n    flex-basis: 66px;\n    color: var(--color-text-2);\n  }\n  .el-input {\n    .el-input__inner {\n      height: 48px;\n      line-height: 48px;\n      border: none;\n      background-color: var(--color-bg-1);\n    }\n    &.account-input {\n      .el-input__inner {\n        padding-left: 60px;\n      }\n      .el-input__prefix {\n        left: 0;\n        margin-top: 10px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 50px;\n        height: 30px;\n        font-size: 14px;\n        color: var(--color-text-0);\n        border-right: 1px solid var(--color-border);\n      }\n    }\n    .el-input__icon {\n      width: 30px;\n      line-height: 48px;\n    }\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.form-group {\n  margin-bottom: 30px;\n}\n\n.form-separator {\n  height: 1px;\n  margin: 30px 0;\n  p {\n    display: block;\n    margin: -10px auto;\n    font-size: 13px;\n    text-align: center;\n    text-transform: uppercase;\n    color: var(--color-text-0);\n  }\n}\n\n.main-button {\n  width: 100%;\n  height: 44px;\n  font-size: 1.6rem;\n  font-weight: 400;\n  &.visitor {\n    background-color: $theme-color_primary;\n  }\n  &.account {\n    background-color: var(--color-page-bg);\n    border-color: var(--color-page-bg);\n  }\n}\n</style>\n","\nimport { defineComponent, ref } from 'vue';\nimport { useMutation } from '@vue/apollo-composable';\nimport { ElMessage } from 'element-plus';\nimport { exceptionCapture, errorMessage } from '@/utils';\nimport store, { Storage, TYPES } from '@/store';\nimport { SIGN_UP } from '@/graphql';\n\nexport default defineComponent({\n  setup(props, context) {\n    const loading = ref(false);\n    const formData = ref({ name: '', account: '', password: '' });\n\n    const { mutate: signInMutate } = useMutation(SIGN_UP, () => ({ variables: formData.value }));\n\n    function onError(err) {\n      ElMessage.error(`注册出错：${errorMessage(err)}`);\n    }\n\n    function onSuccess(res) {\n      context.emit('onSuccess');\n      ElMessage({\n        message: `注册成功!`,\n        type: 'success'\n      });\n      store.commit(TYPES.USER_LOGIN, res);\n      Storage.setItem('user', res);\n    }\n\n    async function signUpMutation() {\n      loading.value = true;\n      const [err, res] = await exceptionCapture(() => signInMutate());\n      loading.value = false;\n      if (err) {\n        onError(err);\n      } else if (res?.data.signUp) {\n        onSuccess(res?.data.signUp);\n      }\n      window.pwaEventTrack('手机注册', err ? '失败' : '成功');\n    }\n\n    return {\n      loading,\n      formData,\n      signUpMutation\n    };\n  },\n  computed: {\n    disabled() {\n      return !this.formData.account || !this.formData.password;\n    }\n  },\n  methods: {\n    handleSignIn() {\n      this.$refs.loginForm.validate(valid => {\n        if (valid) {\n          this.signUpMutation();\n        } else {\n          return false;\n        }\n      });\n    }\n  },\n  data() {\n    return {\n      rules: {\n        account: [\n          {\n            required: true,\n            message: '请输入手机号',\n            trigger: 'blur'\n          },\n          {\n            min: 11,\n            message: '手机号长度不正确',\n            trigger: 'blur'\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: '请输入密码',\n            trigger: 'blur'\n          },\n          {\n            min: 6,\n            max: 12,\n            message: '密码格式不正确（6-12）位',\n            trigger: 'blur'\n          }\n        ]\n      }\n    };\n  }\n});\n","import { render } from \"./SignUp.vue?vue&type=template&id=247bf8db&scoped=true\"\nimport script from \"./SignUp.vue?vue&type=script&lang=ts\"\nexport * from \"./SignUp.vue?vue&type=script&lang=ts\"\n\nimport \"./SignUp.vue?vue&type=style&index=0&id=247bf8db&lang=scss\"\nimport \"./SignUp.vue?vue&type=style&index=1&id=247bf8db&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-247bf8db\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./IosInstallPrompt.vue?vue&type=style&index=0&id=f3379142&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./ColumnMovies.vue?vue&type=style&index=0&id=eb0eb796&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./MoviesFavorite.vue?vue&type=style&index=0&id=2ad15730&lang=scss&scoped=true\""],"sourceRoot":""}